---
title: Tips for Authoring Fast-loading HTML Pages
slug: Learn/HTML/Howto/Author_fast-loading_HTML_pages
tags:
  - HTML
---
<p>
</p><p><br>
<span>Summary: Learn common-sense tips for producing HTML pages which load quickly and provide visitor satisfaction.</span>
これらの秘訣は、よく知られた知識や実験を元にしています。ウェブページの読込のパフォーマンスを向上させる助けとなる、さらなる助言をお持ちであれば、<a>Discussion page of this article</a>にて提案してください。
</p><p>最適化されたウェブページは、訪問者により素早く反応するサイトをもたらすだけでなく、ウェブサーバやインターネットへの接続負荷を軽減します。これは、大規模なサイト、あるいはニュース速報などの例外的な状況によってトラフィックが急増するサイトにとって、とても重大なことです。
</p><p>ページの読込パフォーマンスの最適化とは、単に、低速なダイアルアップ回線の訪問者が見るであろうコンテンツを用意することではありません。高速回線向けのコンテンツについても同じくらい重要であり、最高速の回線を持つ訪問者にとってさえ、劇的な向上をもたらすことができます。
</p><p><br>
</p>
<h3 id="早く読み込まれるHTMLページを作成する秘訣"> 早く読み込まれるHTMLページを作成する秘訣 </h3>
<h4 id="ページ容量を減らしましょう"> ページ容量を減らしましょう </h4>
<p>ページ容量は、ページの読込パフォーマンスにおいて圧倒的に最重要の要因です。
</p><p>不要な空白やコメントを除去したり、HTMLに直接書き込まれたスクリプトやCSSを外部ファイルに移すことで、ページの構造の変化は最小限で、ダウンロードのパフォーマンスを向上できます。
</p><p><a href="http://tidy.sourceforge.net/" class="external">HTML Tidy</a>のようなツールは、validなHTMLソースから、先頭の空白や余計な空行を自動的に取り除きます。そのほかのツールは、JavaScriptを、再フォーマット、あるいはソースの難読化や長い識別子を短いものへ縮めることにより、「圧縮」することができます。
</p><p><br>
</p>
<h4 id="ファイルの数をできるだけ少なくしましょう"> ファイルの数をできるだけ少なくしましょう </h4>
<p>一つのページ内で参照されるファイルの数を減らせば、ページのダウンロードに必要なHTTP接続の数が減ります。
</p><p>ブラウザのキャッシュの設定によっては、CSS、JavaScriptあるいは画像ファイルのそれぞれについて、最後にダウンロードされたときから更新されているかどうかを確かめるため、サーバに<code>If-Modified-Since</code>リクエストを送信するかもしれません。
</p><p>ウェブページ内で参照されるファイルの数を減らすことにより、ブラウザからこれらのリクエストが送られ、それに対する返答が届くまでに必要となる時間が減ります。
</p><p>ファイルの最終更新日時についての問い合わせに多くの時間が費やされると、ウェブページの最初の表示が遅れます。ブラウザはページのレンダリングを行う前に、CSSやJavaScriptファイルそれぞれの更新日時を問い合わせねばならないためです。
</p><p><br>
</p>
<h4 id="ドメイン検査を減らしましょう"> ドメイン検査を減らしましょう </h4>
<p>分割された別々のドメイン一つ一つについてDNS検査するのは時間がかかるため、CSS、JavaScript、または画像を参照するのに用いる異なるドメインの数を減らすことで、ページ読込の時間が減ります。
</p><p>これは必ずしも実用的であるとは限りません。しかしながら、ページにおける異なるドメインの数は、可能な限り最小で使うよう常に気をつけておくべきです。
</p>
<h4 id="再利用されるコンテンツをキャッシュしましょう"> 再利用されるコンテンツをキャッシュしましょう </h4>
<p>キャッシュされうるどのようなコンテンツでも、適切な期限切れまでの間、キャッシュされているかを確かめてください。
</p><p>具体的には<code>Last-Modified</code>ヘッダに注意してください。これは効率的なページのキャッシュを可能にします。このヘッダを用いると、ロードしようとしているファイルが最後にいつ更新されたかについての情報が、ユーザ・エージェントに伝えられます。ほとんどのウェブサーバーは、静的なページ（例えば.htmlや.css）については、ファイルシステムに記録されている最終更新日時に基づき、自動的に<code>Last-Modified</code> headerを付加します。
動的なページ（例えば.phpや.aspx）については、これは行われず、ヘッダは送られません。
</p><p>従って、特に動的に生成されるページでは、この件について少し調べるだけでも有益です。多少複雑になることもありますが、通常はキャッシュされえないページへの多くのリクエストを抑えてくれるでしょう。
</p><p>さらなる情報:
</p>
<ol><li> <a href="http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers" class="external">HTTP Conditional Get for RSS Hackers</a>
</li><li> <a href="http://annevankesteren.nl/archives/2005/05/http-304" class="external">HTTP 304: Not Modified</a>
</li><li> <a href="http://www.cmlenz.net/blog/2005/05/on_http_lastmod.html" class="external">On HTTP Last-Modified and ETag</a>
</li></ol>
<h4 id="ページの構成要素を並べ替えましょう"> ページの構成要素を並べ替えましょう </h4>
<p>初めにページの内容をダウンロードさせることで、利用者はページ読込のさい明白に最も早い応答を得られます。
</p><p>最初の表示に必要ないかなるCSSやJavaScriptよりも、ページの内容が第一にダウンロードされるべきです。この内容は通常は本文（htmlファイル）であり、これを圧縮することで、利用者に素早い応答を返すという恩恵が得られます。
</p><p>どのようなDHTMLの機能も、それが実行される前にページが完全に読み込まれている必要があるので、初めは無効にしておき、読込の後になって有効にするべきです。
</p><p><br>
</p>
<h4 id="インラインスクリプトの数を減らしましょう"> インラインスクリプトの数を減らしましょう </h4>
<p>インラインスクリプト（HTMLに直接書き込まれたスクリプト）は、パーサが「インラインスクリプトはページ構造を修正する」と仮定してしまうので、ページの読込に高くつきます。一般に、インラインスクリプトわけても内容を出力する<code>document.write()</code>の利用を減らすことは、総合的なページの読込を向上させます。
</p><p>最新のブラウザでページの内容を操作するには、<code>document.write()</code>に基づいた古い手法ではなく、
最新のW3C DOMメソッドを用いましょう。
</p>
<h4 id="最新のCSSと妥当なマークアップを用いましょう"> 最新のCSSと妥当なマークアップを用いましょう </h4>
<p>最新のCSSの利用は、マークアップの量を減らし、レイアウトに関する画像の必要性を減らすことができます。また、実質的には文章を画像にしただけで、それと同等の見た目を得られるCSSと文章よりも負担の大きい画像を、多くの場合に差し替えることができます。
</p><p>妥当なマークアップの利用には、そのほかの利点があります。妥当なマークアップは、ブラウザがHTMLを構文解析する際に「誤り訂正」を行わせないばかりでなく、ウェブページの前処理を行うことができる他のツールを自由に利用することも可能にします。例えば、<a href="http://tidy.sourceforge.net/" class="external">HTML Tidy</a>は、空白や任意の終了タグを省略することができますが、深刻なマークアップの誤りのあるページでは動作するのを拒みます。
</p>
<h4 id="コンテンツを分割しましょう"> コンテンツを分割しましょう </h4>
<p>ページの内容が完全にダウンロードされる前にページを表示できるように、<code>&lt;table&gt;</code>で作られたレイアウトを<code>&lt;div&gt;</code>のブロックに置き換えるか、表をより小さな表に分割しましょう。
</p><p>次のような、深く入れ子になったtableよりも、
</p>
<pre>&lt;TABLE&gt;
  &lt;TABLE&gt;
    &lt;TABLE&gt;
          ...
    &lt;/TABLE&gt;
  &lt;/TABLE&gt;
&lt;/TABLE&gt;</pre>
<p>次のような、入れ子になっていないtableやdivを使いましょう。
</p>
<pre>&lt;TABLE&gt;...&lt;/TABLE&gt;
&lt;TABLE&gt;...&lt;/TABLE&gt;
&lt;TABLE&gt;...&lt;/TABLE&gt;</pre>
<h4 id="画像や表のサイズを指定しましょう"> 画像や表のサイズを指定しましょう </h4>
<p>もしブラウザが画像や表の高さか幅あるいはその両方を即座に決定できたら、内容をリフローする必要なくウェブページを表示することができるでしょう。これはページの表示を早めるだけでなく、読み込みが完了するときにページのレイアウトがうっとうしく変化するのを防ぎます。
</p><p>画像（<code>img</code>）は、<code>height</code>や<code>width</code>を指定されるべきです。
</p><p>表（<code>table</code>）は、CSSの<code>table-layout: fixed</code>規則を用い、縦列の幅を<code>COL</code>や<code>COLGROUP</code>タグを用いることで指定しておくべきです。
</p>
<h4 id="ユーザー・エージェントの必要条件を賢く選びましょう"> ユーザー・エージェントの必要条件を賢く選びましょう </h4>
<p>ページデザインで最大の改善を達成するために、そのプロジェクトに適切なユーザー・エージェントの必要条件が特定されているかを確かめてください。
</p><p>コンテンツが、すべてのブラウザとりわけ下位のブラウザで、１ピクセルのずれもなく同じに見えるようには要求しないでください。
</p><p>理想的には、必要最小限の環境は、同じ標準に対応している現代的なブラウザに基づくべきです。それには次のブラウザが含まれます。すべてのプラットフォームのNetscape 7/Gecko 1.0.2+、WindowsのInternet Explorer（バージョン5.5以上）、WindowsのOpera（バージョン7以上）、Mac OS XのSafariです。
</p><p>しかしながら、この技術文書に列挙されている秘訣の多くが、常識的な技法であることを気にとめておいてください。これらは、どのようなユーザー・エージェントにも適用されるし、あるページがブラウザの必要条件を満たしているかどうかに関係なく、どのようなページにも適用されうるのです。
</p>
<h3 id="ページ構造の例"> ページ構造の例 </h3>
<p>· <code>HTML</code>
</p>
<dl><dd> · <code>HEAD</code>
</dd></dl>
<dl><dd><dl><dd> · <code>LINK </code>...<br>ページの外観に必要なCSSファイル。ファイルの数は、パフォーマンスのために最小限に抑えましょう。ただし関連のないCSSは、保全のため別々のファイルにしておきましょう。
</dd></dl>
</dd></dl>
<dl><dd><dl><dd> · <code>SCRIPT </code>...<br>ページ読込の間に「必要」な機能のためのJavaScriptファイル。ただし、ページが読み込まれたあとでようやく動作できるDHTMLではありません。
</dd><dd> ·ファイルの数は、パフォーマンスのために最小限に抑えましょう。ただし関連のないJavaScriptは、保全のため別々のファイルにしておきましょう。
</dd></dl>
</dd></dl>
<dl><dd> · <code>BODY</code>
</dd><dd> 小さな塊（複数のtable / 複数のdiv）に分けられた、ページの内容。ページ全体がダウンロードされるのを待たずに表示されます。
</dd></dl>
<dl><dd><dl><dd> · <code>SCRIPT </code>...<br>DHTMLを実行するために使われうる、あらゆるスクリプト。DHTMLは通常は、ページが完全に読み込まれ、全ての必要なオブジェクトが初期化された後に、ようやく動作できます。ページ内容の前にこれらのスクリプトを読み込む必要はありません。読込の初期のページ表示を遅くするだけです。
</dd><dd> ファイルの数は、パフォーマンスのために最小限に抑えましょう。ただし関連のないJavaScriptは、保全のため別々のファイルにしておきましょう。
</dd><dd> ロールオーバー効果のために画像を用いるときは、ページ内容がダウンロードされた後に、ここでそれらを先読みしておくべきです。
</dd></dl>
</dd></dl>
<h3 id="関連リンク"> 関連リンク </h3>
<ul><li> Book: <a href="http://www.websiteoptimization.com/" class="external">"Speed Up Your Site" by Andy King</a>
</li><li> <a href="http://webmonkey.wired.com/webmonkey/design/site_building/tutorials/tutorial2.html" class="external">Site Optimization Tutorial</a> (WebMonkey)
</li></ul>
<div class="originaldocinfo">
<h3 id="元になった文書の情報"> 元になった文書の情報 </h3>
<ul><li> Author(s): Bob Clary, Technology Evangelist, Netscape Communications
</li><li> Last Updated Date: Published 04 Apr 2003
</li><li> Copyright Information: Copyright © 2001-2003 Netscape. All rights reserved.
</li><li> Note: This reprinted article was originally part of the DevEdge site.
</li></ul>
</div>
<div class="noinclude">
</div>
