---
title: Basic usage of canvas
slug: Web/API/Canvas_API/Tutorial/Basic_usage
translation_of: Web/API/Canvas_API/Tutorial/Basic_usage
original_slug: Web/Guide/HTML/Canvas_tutorial/Basic_usage
---
<div><section id="Quick_Links">
 <ol>
  <li><a href="/ja/docs/Web/API/Canvas_API"><strong>Canvas API</strong></a></li>
  <li class="toggle">
    <details open>
      <summary>Canvas tutorial</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Basic_usage">Basic usage</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes">Drawing shapes</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors">Applying styles and colors</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_text">Drawing text</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Using_images">Using images</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Transformations">Transformations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Compositing">Compositing and clipping</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Basic_animations">Basic animations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Advanced_animations">Advanced animations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas">Pixel manipulation</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">Hit regions and accessibility</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas">Optimizing the canvas</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Finale">Finale</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Examples</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/Canvas_API/A_basic_ray-caster">A basic raycaster</a></li>
        <li><a href="/ja/Add-ons/Code_snippets/Canvas">Canvas code snippets</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Manipulating_video_using_canvas">Manipulating video using canvas</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Interfaces</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasRenderingContext2D"><code>CanvasRenderingContext2D</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasGradient"><code>CanvasGradient</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasPattern"><code>CanvasPattern</code></a></li>
        <li><a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a></li>
        <li><a href="/ja/docs/Web/API/ImageData"><code>ImageData</code></a></li>
        <li><a href="/ja/docs/Web/API/TextMetrics"><code>TextMetrics</code></a></li>
        <li><span class="sidebar-icon"><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span> <a href="/ja/docs/Web/API/Path2D"><code>Path2D</code></a></li>
      </ol>
    </details>
  </li>
  <li><strong><a href="/ja/docs/MDN">Documentation:</a></strong></li>
  <li class="toggle">
    <details>
      <summary>Useful lists</summary>
      <ol>
        <li><a href="/ja/docs/tag/Canvas">Pages tagged &quot;Canvas&quot;</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Contribute</summary>
      <ol>
        <li><a href="/ja/docs/MDN/Doc_status/API/Canvas">Canvas doc status</a></li>
        <li><a href="/ja/docs/MDN">The MDN project</a></li>
      </ol>
    </details>
  </li>
 </ol>
</section> <div style="text-align: right;" class="prevnext">
    <p><a style="float: left;" href="/ja/docs/Web/API/Canvas_API/Tutorial" class="button">« 前のページ</a><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes" class="button">次のページ  »</a></p>
</div></div>

<div class="summary">
<p>まずチュートリアルの最初として <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> <a href="/ja/docs/Glossary/HTML" class="glossaryLink" title="HTML: HTML (HyperText Markup Language) は、ウェブページ構造を指定する記述言語です。">HTML</a> 要素を説明します。このページを読めば、canvas 要素に 2D の画像を描けるようになります。</p>
</div>

<h2 id="&lt;canvas&gt;_要素"><code>&lt;canvas&gt;</code> 要素</h2>

<pre class="brush: html">&lt;canvas id=&quot;tutorial&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
</pre>

<p><a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> は <a href="/ja/docs/Web/HTML/Element/img" title="HTML の &lt;img&gt; 要素は、文書に画像を埋め込みます。これは置換要素です。"><code>&lt;img&gt;</code></a> と似ています。<code>src</code> 属性と <code>alt</code> 属性がない点が明確に異なりますが、<code><a href="/ja/docs/Web/HTML/Element/canvas#attr-width">width</a></code> と <code><a href="/ja/docs/Web/HTML/Element/canvas#attr-height">height</a></code> の属性がある点などは共通しています。 これらの属性は必ず指定しなければならないものではありません。このほかに様々な <a href="/ja/docs/Glossary/DOM" class="glossaryLink" title="DOM: DOM (Document Object Model) とは、すべての HTML または XML 文書を表現・操作する API です。DOM はブラウザで文書構造をノードのツリーとして読み込み、それぞれのノードを文書（例：要素、テキスト文字列またはコメント）の一部として表します。">DOM</a> <a href="/docs/Web/API/HTMLCanvasElement">属性</a>を利用できます。 <code>width</code> と <code>height</code> 属性が指定されなかった場合、canvas は幅 <strong>300 ピクセル</strong>、高さ <strong>150 ピクセル</strong>の要素として初期化されます。画面上の大きさは <a href="/ja/docs/Glossary/CSS" class="glossaryLink" title="CSS: CSS (Cascading StyleSheets) は ブラウザー で Web ページの見た目を調整する宣言型の言語です。">CSS</a> によって変更できますが、その場合 canvas に描画される画像は CSS の指定に合わせて拡大 / 縮小されます。この際、元の画像のアスペクト比は考慮されないため、指定の仕方によっては画像が歪んで表示されます。</p>

<div class="note notecard">
<p><strong>付記:</strong> 画像が歪んでいると感じた時は、<code>&lt;canvas&gt; </code>の <code>width</code> と <code>height</code> 属性の値を設定して、CSS によるサイズの変更をしないようにしましょう。</p>
</div>

<p><a href="/en-US/docs/Web/HTML/Global_attributes/id"><code>id</code></a> 属性は <a href="/docs/Web/HTML/Global_attributes">全ての要素が持つ属性</a> で <code>&lt;canvas&gt;</code> に固有なものではありません。これを利用することで、ユニークな ID を要素に持たせられます。ID を持たせることで、JavaScript の中から、その要素を探すのが簡単になります。</p>

<p><code>&lt;canvas&gt;</code> 要素は通常の画像と同じようにレイアウトされます。(<a href="/ja/docs/Web/CSS/margin" title="CSS の margin プロパティは、要素の全四辺のマージン領域を設定します。これはすべての個別のマージン (margin-top, margin-right, margin-bottom, margin-left) を一度に設定する一括指定です。"><code>margin</code></a> や <a href="/ja/docs/Web/CSS/border" title="CSS の border プロパティは、要素の境界を設定します。これは border-width, border-style, border-color の一括指定です。"><code>border</code></a>、 <a href="/ja/docs/Web/CSS/background" title="CSS の background 一括指定プロパティは、色、画像、原点と寸法、反復方法、その他の機能など、背景に関するすべてのスタイルプロパティを一括で設定します。"><code>background</code></a> といったルールも利用可能ですが、これらは実際に描画される画像には影響を与えません。スタイルが何も設定されていない場合、canvas は最初透明なものとして描画されます。スタイルとレイアウトに関しては<a href="/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors">専用のページ</a>を設けています。詳細は、そちらをご覧ください。</p>

<div id="section_2">
<h3 id="代替コンテンツ">代替コンテンツ</h3>

<p><code>&lt;canvas&gt;</code> 要素は対応していないブラウザ、例えば Internet Explorer 9 以前、で表示するための代替コンテンツを定義できます。これは <a href="/ja/docs/Web/HTML/Element/img" title="HTML の &lt;img&gt; 要素は、文書に画像を埋め込みます。これは置換要素です。"><code>&lt;img&gt;</code></a> というよりは、むしろ <a href="/ja/docs/Web/HTML/Element/video" title="HTML の映像要素 (&lt;video&gt;) は、文書中に映像再生に対応するメディアプレイヤーを埋め込みます。"><code>&lt;video&gt;</code></a> や <a href="/ja/docs/Web/HTML/Element/audio" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>&lt;audio&gt;</code></a>、<a href="/ja/docs/Web/HTML/Element/picture" title="HTML の &lt;picture&gt; 要素は、0個以上の &lt;source&gt; 要素と一つの &lt;img&gt; 要素を含み、様々な画面や端末の条件に応じた画像を提供します。"><code>&lt;picture&gt;</code></a> 要素に似ています。</p>

<p>代替コンテンツの定義方法はシンプルで<code>、&lt;canvas&gt; </code>要素の内部に代わりに表示するコンテンツを記述します。対応していないブラウザは <code>&lt;canvas&gt; </code>を無視するため、その内部のコンテンツが表示されるというわけです。</p>

<p>次の例では JavaScript によって canvas に対して、代替テキストが設定されています：</p>

<pre class="brush: html">&lt;canvas id=&quot;stockGraph&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;
  現在の株価: $3.15 +0.15
&lt;/canvas&gt;

&lt;canvas id=&quot;clock&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;
  &lt;img src=&quot;images/clock.png&quot; width=&quot;150&quot; height=&quot;150&quot; alt=&quot;&quot;/&gt;
&lt;/canvas&gt;
</pre>

<p>使用するブラウザを変更するよう利用者に伝えることは、利用者のために全くなりません。どのような代替テキスト / コンテンツを設定するのが適切かは <a href="/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">make the canvas more accessible</a> をご覧ください。</p>

<h3 id="&lt;canvas&gt;：閉じタグが必須です"><code>&lt;/canvas&gt;：</code>閉じタグが必須です</h3>

<p>代替コンテンツを内部に持つ関係上、<a href="/ja/docs/Web/HTML/Element/img" title="HTML の &lt;img&gt; 要素は、文書に画像を埋め込みます。これは置換要素です。"><code>&lt;img&gt;</code></a> 要素と異なって <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> 要素は閉じタグ (<code>&lt;/canvas&gt;</code>) が<strong>必須となっています</strong>。タグを閉じなかった場合は、残りのページ全てが代替コンテンツとして処理され、その結果としてそれらが表示されなくなります。</p>

<p>代替コンテンツが必要でない場合は、単に <code>&lt;canvas id=&quot;foo&quot; ...&gt;&lt;/canvas&gt;</code> と書けば対応するブラウザで動作します。</p>

<h2 id="描画コンテキスト">描画コンテキスト</h2>

<p><a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> は固定された大きさの描画可能領域を作成できます。この領域は、1 つ以上の<strong>描画コンテキスト</strong>として表現され、そのコンテキストを通じて描画領域を操作します。このチュートリアルでは、2 次元グラフィックスを描画するためのコンテキストについてのみ解説しますが、これ以外の描画コンテキストも存在します。その典型例が <a href="/ja/docs/">WebGL</a> です。これは<a href="http://www.khronos.org/opengles/"> OpenGL ES</a> に基づいた 3 次元グラフィックスを扱える描画コンテキストです。</p>

<p>初期状態での canvas には何も描画されていません。ここに描画を行うには、まず JavaScript で描画コンテキストを取得する必要があります。 <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> 要素の <a href="/ja/docs/Web/API/HTMLCanvasElement/getContext" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>getContext()</code></a> を呼ぶことで、描画コンテキストは取得できます。呼び出す際の引数によって、取得されるコンテキストの種類が変わります。<code>&quot;2d&quot; </code>を指定することで、2 次元のグラフィックスを扱える描画コンテキストが取得できます。これで取得されたコンテキストの詳細は <a href="/ja/docs/Web/API/CanvasRenderingContext2D" title="このインターフェイスのオブジェクトを取得するには、以下のようにのgetContext()の引数に&quot;2d&quot;を指定して呼び出します。"><code>CanvasRenderingContext2D</code></a> をご覧ください。</p>

<pre class="brush: js">var canvas = document.getElementById(&apos;tutorial&apos;);
var ctx = canvas.getContext(&apos;2d&apos;);
</pre>

<p>最初の行では <a href="/ja/docs/Web/API/Document/getElementById" title="Document の getElementById() メソッドは、 id プロパティが指定された文字列に一致する要素を表す Element オブジェクトを返します。要素の ID は指定されていれば固有であることが求められているため、特定の要素にすばやくアクセスするには便利な方法です。"><code>document.getElementById()</code></a> メソッドを呼んで、DOM 中から <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> 要素をあらわすノードを探しています。2 行目では見つけた要素の <code>getContext()</code> メソッドを呼んで、描画コンテキストを取得しています。</p>

<div id="section_5">
<h2 id="対応しているかどうかの確認">対応しているかどうかの確認</h2>

<p><a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> 要素に対応していないブラウザでは、代替コンテンツが表示されます。JavaScript からは <code>getContext()</code> メソッドの有無を調査することで、ブラウザが対応しているかどうかを確認できます。確認するためのコードは以下のようになります：</p>

<pre class="brush: js">var canvas = document.getElementById(&apos;tutorial&apos;);

if (canvas.getContext){
  var ctx = canvas.getContext(&apos;2d&apos;);
  // drawing code here
} else {
  // canvas-unsupported code here
}
</pre>
</div>
</div>

<h2 id="サンプルコード">サンプルコード</h2>

<p>以上の点をまとめたサンプルコードは以下のようになります。このサンプルコードは、後の説明でも利用します。</p>

<div class="note notecard">
<p><strong>付記：</strong>スクリプトを HTML に埋め込むのは、よいやり方ではありません。この例では分かりやすさのために、仕方なく埋め込んでいます。</p>
</div>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;/&gt;
    &lt;title&gt;Canvas tutorial&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      function draw(){
        var canvas = document.getElementById(&apos;tutorial&apos;);
        if (canvas.getContext){
          var ctx = canvas.getContext(&apos;2d&apos;);
        }
      }
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
      canvas { border: 1px solid black; }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body onload=&quot;draw();&quot;&gt;
    &lt;canvas id=&quot;tutorial&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>スクリプト中の <code>draw()</code> 関数はページのロード完了時に一度だけ呼び出されます。これは、document の <code><a href="/ja/docs/Web/Reference/Events/load" title="/ja/docs/Web/Reference/Events/load">load</a></code> イベントを利用しているためです。他の関数同様 <a href="/ja/docs/Web/API/WindowTimers/setTimeout" title="WindowOrWorkerGlobalScope ミックスインの setTimeout() メソッド (および window.setTimeout の後継) は、指定された遅延の後に関数またはコードの断片を実行するタイマーを設定します。"><code>window.setTimeout()</code></a> や <a href="/ja/docs/Web/API/WindowTimers/setInterval" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>window.setInterval()</code></a>、他のイベントハンドラから呼び出すことができますが、今の所ページがロードされた時にのみ呼び出されます。</p>

<p>このサンプルコードでは何も描画されない領域が表示されます。実際の動作は次で確認できます：</p>

<p><iframe src="https://mdn.mozillademos.org/ja/docs/Web/Guide/HTML/Canvas_tutorial/Basic_usage$samples/%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89?revision=1133057" width="160" height="160" frameborder="0" id="frame_サンプルコード" class="live-sample-frame sample-code-frame"></iframe></p>

<h2 id="単純な描画">単純な描画</h2>

<p>手始めに単純な例を見てみましょう。次の例では重なり合う 2 つの四角形が描画されます。そのうちの 1 つは透明度が設定されており、下の色が透けて見えます。この例がどのように動作しているかは、次のページで解説します。</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;/&gt;
  &lt;script type=&quot;application/javascript&quot;&gt;
    function draw() {
      var canvas = document.getElementById(&quot;canvas&quot;);
      if (canvas.getContext) {
        var ctx = canvas.getContext(&quot;2d&quot;);

        ctx.fillStyle = &quot;rgb(200,0,0)&quot;;
        ctx.fillRect (10, 10, 50, 50);

        ctx.fillStyle = &quot;rgba(0, 0, 200, 0.5)&quot;;
        ctx.fillRect (30, 30, 50, 50);
      }
    }
  &lt;/script&gt;
 &lt;/head&gt;
 &lt;body onload=&quot;draw();&quot;&gt;
   &lt;canvas id=&quot;canvas&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>この例は次のように動作します：</p>

<p></p><table class="sample-code-table"><thead><tr><th scope="col" style="text-align: center;">Screenshot</th><th scope="col" style="text-align: center;">Live sample</th></tr></thead><tbody><tr><td><img src="https://mdn.mozillademos.org/files/228/canvas_ex1.png" alt class="internal"></td><td><iframe src="https://mdn.mozillademos.org/ja/docs/Web/Guide/HTML/Canvas_tutorial/Basic_usage$samples/%E5%8D%98%E7%B4%94%E3%81%AA%E6%8F%8F%E7%94%BB?revision=1133057" width="160" height="160" frameborder="0" id="frame_単純な描画" class="live-sample-frame sample-code-frame"></iframe></td></tr></tbody></table><p></p>

<p></p><div style="text-align: right;" class="prevnext">
    <p><a style="float: left;" href="/ja/docs/Web/API/Canvas_API/Tutorial" class="button">« 前のページ</a><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes" class="button">次のページ  »</a></p>
</div><p></p>
