---
title: unload
slug: Web/Events/unload
tags:
  - Window
  - events
  - unload
translation_of: Web/API/Window/unload_event
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Web"><code>Web</code></a></strong></li></ol></section>

<p>当文档或一个子资源正在被卸载时, 触发 <strong>unload</strong>事件。</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">可冒泡（Bubbles）</th>
   <td>No</td>
  </tr>
  <tr>
   <th scope="row">可取消（Cancelable）</th>
   <td>No</td>
  </tr>
  <tr>
   <th scope="row">接口（Interface）</th>
   <td><a href="/zh-CN/docs/Web/API/Event"><code>Event</code></a></td>
  </tr>
  <tr>
   <th scope="row">事件处理程序属性（Event handler property）</th>
   <td><a href="/zh-CN/docs/Web/API/WindowEventHandlers/onunload"><code>onunload</code></a></td>
  </tr>
 </tbody>
</table>

<p>它在下面两个事件后被触发:</p>

<ol>
 <li><a href="/en-US/docs/Mozilla_event_reference/beforeunload" title="/en-US/docs/Mozilla_event_reference/beforeunload">beforeunload</a> (可取消默认行为的事件)</li>
 <li><a href="/en-US/docs/Mozilla_event_reference/pagehide" title="/en-US/docs/Mozilla_event_reference/pagehide">pagehide</a></li>
</ol>

<p>文档处于以下状态：</p>

<ul>
 <li>所有资源仍存在 (图片, iframe 等.)</li>
 <li>对于终端用户所有资源均不可见</li>
 <li>界面交互无效 (<code>window.open</code>, <code>alert</code>, <code>confirm</code> 等.)</li>
 <li>错误不会停止卸载文档的过程</li>
</ul>

<p>请注意<code>unload</code>事件也遵循文档树:父iframe会在子iframe卸载前卸载(参考下面的例子).</p>

<h2 id="示例">示例</h2>

<pre class="brush: html notranslate">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Parent Frame&lt;/title&gt;
    &lt;script&gt;
      window.addEventListener(&apos;beforeunload&apos;, function(event) {
        console.log(&apos;I am the 1st one.&apos;);
      });
      window.addEventListener(&apos;unload&apos;, function(event) {
        console.log(&apos;I am the 3rd one.&apos;);
      });
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;iframe src=&quot;child-frame.html&quot;&gt;&lt;/iframe&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

<p>下面是 <code>child-frame.html的内容</code>:</p>

<pre class="brush: html notranslate">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Child Frame&lt;/title&gt;
    &lt;script&gt;
      window.addEventListener(&apos;beforeunload&apos;, function(event) {
        console.log(&apos;I am the 2nd one.&apos;);
      });
      window.addEventListener(&apos;unload&apos;, function(event) {
        console.log(&apos;I am the 4th and last one…&apos;);
      });
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
      ☻
  &lt;/body&gt;
&lt;/html&gt;</pre>

<p>当父iframe被卸载，事件将按<code>console.log()</code> 消息描述的顺序触发。</p>

<h2 id="规范">规范</h2>

<table>
 <thead>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">描述</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://w3c.github.io/uievents/#event-type-unload" hreflang="en" lang="en">UI Events<br><small lang="zh-CN">unload</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.Window.unload_event"></div>

<h2 id="参见">参见</h2>

<ul>
 <li>相关事件： <a href="/zh-CN/docs/Web/API/Window/DOMContentLoaded_event"><code>DOMContentLoaded</code></a>, <a href="/zh-CN/docs/Web/API/Document/readystatechange_event"><code>readystatechange</code></a>, <a href="/zh-CN/docs/Web/API/Window/load_event"><code>load</code></a></li>
 <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#unloading-documents">Unloading Documents — unload a document</a></li>
</ul>
