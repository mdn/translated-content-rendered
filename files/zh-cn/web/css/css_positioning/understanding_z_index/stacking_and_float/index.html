---
title: 层叠与浮动
slug: Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_and_float
translation_of: Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_and_float
original_slug: Web/Guide/CSS/Understanding_z_index/Stacking_and_float
---
<p>« <a href="/zh-CN/CSS" title="CSS">CSS</a> « <a href="/zh-CN/CSS/Understanding_z-index" title="Understanding CSS z-index"><span class="title">理解 CSS 中的 z-index</span></a></p>

<h3 id="层叠与浮动">层叠与浮动</h3>

<p>对于浮动的块元素来说，层叠顺序变得有些不同。浮动块元素被放置于非定位块元素与定位块元素之间：</p>

<ol>
 <li>根元素的背景与边框</li>
 <li>位于普通流中的后代块元素按照它们在 HTML 中出现的顺序层叠</li>
 <li>浮动块元素</li>
 <li>后代中的定位元素按照它们在 HTML 中出现的顺序层叠</li>
</ol>

<p>实际上，在接下来的例子中你会看到，非定位块元素(DIV #4)的背景与边框丝毫不会受到浮动块元素的影响，但内容却恰恰相反。出现这种情况是由于 CSS 的标准浮动行为引起的。</p>

<p>这种行为可以通过前一章列表的改进版本来解释：</p>

<ol>
 <li>根元素的背景与边框</li>
 <li>位于普通流中的后代块元素按照它们在 HTML 中出现的顺序层叠</li>
 <li>浮动块元素</li>
 <li>常规流中的后代行内元素</li>
 <li>后代中的定位元素按照它们在 HTML 中出现的顺序层叠</li>
</ol>

<div class="note notecard"><strong>注意：</strong> 在下面的例子中，除了非定位的那个块元素外，所有的块元素都是半透明的，以便来显示层叠顺序。如果减少非定位元素(DIV #4)的透明度，会发生很诡异的事情：该元素的背景和边框会出现在浮动块元素上方，但是仍然处于定位元素的下方。我不能确定这是规范的 bug 或是怪异的解析。(设置透明度会隐式的创建一个层叠上下文。)</div>

<p><iframe src="https://mdn.mozillademos.org/zh-CN/docs/Web/Guide/CSS/Understanding_z_index/Stacking_and_float$samples/%E8%AF%A5%E7%A4%BA%E4%BE%8B%E7%9A%84%E6%BA%90%E7%A0%81?revision=1425671" width="563" class="live-sample-frame sample-code-frame" height="255" frameborder="0" id="frame_该示例的源码"></iframe></p>

<h3 id="该示例的源码"><strong>该示例的源码</strong></h3>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Stacking and float&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;

    div {
        font: 12px Arial;
    }

    span.bold { font-weight: bold; }

    #absdiv1 {
        position: absolute;
        width: 150px;
        height: 200px;
        top: 10px;
        right: 140px;
        border: 1px dashed #990000;
        background-color: #ffdddd;
        text-align: center;
    }

    #normdiv {
        /* opacity: 0.7; */
        height: 100px;
        border: 1px dashed #999966;
        background-color: #ffffcc;
        margin: 0px 10px 0px 10px;
        text-align: left;
    }

    #flodiv1 {
        margin: 0px 10px 0px 20px;
        float: left;
        width: 150px;
        height: 200px;
        border: 1px dashed #009900;
        background-color: #ccffcc;
        text-align: center;
    }

    #flodiv2 {
        margin: 0px 20px 0px 10px;
        float: right;
        width: 150px;
        height: 200px;
        border: 1px dashed #009900;
        background-color: #ccffcc;
        text-align: center;
    }

    #absdiv2 {
        position: absolute;
        width: 150px;
        height: 100px;
        top: 130px;
        left: 100px;
        border: 1px dashed #990000;
        background-color: #ffdddd;
        text-align: center;
    }

&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;br /&gt;&lt;br /&gt;

    &lt;div id=&quot;absdiv1&quot;&gt;
        &lt;br /&gt;&lt;span class=&quot;bold&quot;&gt;DIV #1&lt;/span&gt;
        &lt;br /&gt;position: absolute;
    &lt;/div&gt;

    &lt;div id=&quot;flodiv1&quot;&gt;
        &lt;br /&gt;&lt;span class=&quot;bold&quot;&gt;DIV #2&lt;/span&gt;
        &lt;br /&gt;float: left;
    &lt;/div&gt;

    &lt;div id=&quot;flodiv2&quot;&gt;
        &lt;br /&gt;&lt;span class=&quot;bold&quot;&gt;DIV #3&lt;/span&gt;
        &lt;br /&gt;float: right;
    &lt;/div&gt;

    &lt;br /&gt;

    &lt;div id=&quot;normdiv&quot;&gt;
        &lt;br /&gt;&lt;span class=&quot;bold&quot;&gt;DIV #4&lt;/span&gt;
        &lt;br /&gt;no positioning
    &lt;/div&gt;

    &lt;div id=&quot;absdiv2&quot;&gt;
        &lt;br /&gt;&lt;span class=&quot;bold&quot;&gt;DIV #5&lt;/span&gt;
        &lt;br /&gt;position: absolute;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<h3 id="相关链接">相关链接</h3>

<ul>
 <li><a href="/zh-CN/CSS/Understanding_z-index/Stacking_without_z-index">未使用 z-index 的层叠</a>：默认层叠规则</li>
 <li><a href="/zh-CN/CSS/Understanding_z-index/Adding_z-index">使用 z-index 的层叠</a>： 使用 z-index 来改变默认层叠顺序</li>
 <li><a href="/zh-CN/CSS/Understanding_z-index/The_stacking_context">层叠上下文</a>：关于层叠上下文的注意事项</li>
 <li><a href="/zh-CN/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_context_example_1">层叠上下文示例 1</a>：两层嵌套标签的 HTML 中，z-index 作用在内层标签上</li>
 <li><a href="/zh-CN/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_context_example_2">层叠上下文示例 2</a>：两层嵌套标签的 HTML 中，z-index 作用在内外层标签上</li>
 <li><a href="/zh-CN/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Stacking_context_example_3">层叠上下文示例 3</a>：三层嵌套标签的 HTML 中，z-index 作用在中间层标签上</li>
</ul>

<div class="originaldocinfo">
<h3 id="Original_Document_Information" name="Original_Document_Information">原始文档信息</h3>

<ul>
 <li>作者: Paolo Lombardi</li>
 <li>该文档的英文原始版本是从我为 <a href="http://www.yappy.it" class="external">YappY</a> 写的意大利文章翻译而来的，该文章版权为 <a href="http://creativecommons.org/licenses/by-sa/2.0/" class="external">Creative Commons: Attribution-Sharealike license</a></li>
 <li>上次更新于：2014 年 11 月 3 日</li>
</ul>
</div>

<p> </p>
