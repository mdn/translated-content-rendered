---
title: 'Le sélecteur :visited et la vie privée'
slug: 'Web/CSS/:visited_et_la_vie_privée'
tags:
  - CSS
  - Guide
  - Sécurité
translation_of: 'Web/CSS/Privacy_and_the_:visited_selector'
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/CSS">CSS</a></strong></li><li><strong><a href="/fr/docs/Web/CSS/Reference">Référence CSS</a></strong></li><li><strong><a href="/fr/docs/Web/CSS/CSS_Selectors">CSS Selectors</a></strong></li><li class="toggle"><details open><summary>Guides</summary><ol><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_CSS/Utiliser_la_pseudo-classe_:target_dans_un_selecteur">Utiliser la pseudo-classe :target dans un sélecteur</a></li></ol></details></li><li class="toggle"><details open><summary>Sélecteurs simples</summary><ol><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_de_type"><code>Sélecteurs de type</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_de_classe"><code>Sélecteurs de classe</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_d_ID"><code>Sélecteurs d&apos;ID</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_universels"><code>Sélecteurs universels</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_d_attribut"><code>Sélecteurs d&apos;attribut</code></a></li></ol></details></li><li class="toggle"><details open><summary>Combinateurs</summary><ol><li><a href="/fr/docs/Web/CSS/Combinateur_de_voisin_direct"><code>Combinateur de voisin direct</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_de_voisins_g%C3%A9n%C3%A9raux"><code>Sélecteurs de voisins généraux</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_enfant"><code>Sélecteurs enfant</code></a></li><li><a href="/fr/docs/Web/CSS/S%C3%A9lecteurs_descendant"><code>Sélecteurs descendant</code></a></li><li><a href="/fr/docs/Web/CSS/Combinateur_colonne"><code>Combinateur de colonne</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pseudo-classes</summary><ol><li><a href="/fr/docs/Web/CSS/:active"><code>:active</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:any-link"><code>:any-link</code></a></li><li><a href="/fr/docs/Web/CSS/:checked"><code>:checked</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:blank"><code>:blank</code></a></li><li><a href="/fr/docs/Web/CSS/:default"><code>:default</code></a></li><li><a href="/fr/docs/Web/CSS/:defined"><code>:defined</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:dir"><code>:dir</code></a></li><li><a href="/fr/docs/Web/CSS/:disabled"><code>:disabled</code></a></li><li><a href="/fr/docs/Web/CSS/:empty"><code>:empty</code></a></li><li><a href="/fr/docs/Web/CSS/:enabled"><code>:enabled</code></a></li><li><a href="/fr/docs/Web/CSS/:first"><code>:first</code></a></li><li><a href="/fr/docs/Web/CSS/:first-child"><code>:first-child</code></a></li><li><a href="/fr/docs/Web/CSS/:first-of-type"><code>:first-of-type</code></a></li><li><a href="/fr/docs/Web/CSS/:fullscreen"><code>:fullscreen</code></a></li><li><a href="/fr/docs/Web/CSS/:focus"><code>:focus</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:focus-visible"><code>:focus-visible</code></a></li><li><a href="/fr/docs/Web/CSS/:focus-within"><code>:focus-within</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:has"><code>:has</code></a></li><li><a href="/fr/docs/Web/CSS/:host()"><code>:host()</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:host-context()"><code>:host-context()</code></a></li><li><a href="/fr/docs/Web/CSS/:hover"><code>:hover</code></a></li><li><a href="/fr/docs/Web/CSS/:indeterminate"><code>:indeterminate</code></a></li><li><a href="/fr/docs/Web/CSS/:in-range"><code>:in-range</code></a></li><li><a href="/fr/docs/Web/CSS/:invalid"><code>:invalid</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:is"><code>:is() (:matches(), :any())</code></a></li><li><a href="/fr/docs/Web/CSS/:lang"><code>:lang</code></a></li><li><a href="/fr/docs/Web/CSS/:last-child"><code>:last-child</code></a></li><li><a href="/fr/docs/Web/CSS/:last-of-type"><code>:last-of-type</code></a></li><li><a href="/fr/docs/Web/CSS/:left"><code>:left</code></a></li><li><a href="/fr/docs/Web/CSS/:link"><code>:link</code></a></li><li><a href="/fr/docs/Web/CSS/:not"><code>:not</code></a></li><li><a href="/fr/docs/Web/CSS/:nth-child"><code>:nth-child</code></a></li><li><a href="/fr/docs/Web/CSS/:nth-last-child"><code>:nth-last-child</code></a></li><li><a href="/fr/docs/Web/CSS/:nth-last-of-type"><code>:nth-last-of-type</code></a></li><li><a href="/fr/docs/Web/CSS/:nth-of-type"><code>:nth-of-type</code></a></li><li><a href="/fr/docs/Web/CSS/:only-child"><code>:only-child</code></a></li><li><a href="/fr/docs/Web/CSS/:only-of-type"><code>:only-of-type</code></a></li><li><a href="/fr/docs/Web/CSS/:optional"><code>:optional</code></a></li><li><a href="/fr/docs/Web/CSS/:out-of-range"><code>:out-of-range</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:placeholder-shown"><code>:placeholder-shown</code></a></li><li><a href="/fr/docs/Web/CSS/:read-only"><code>:read-only</code></a></li><li><a href="/fr/docs/Web/CSS/:read-write"><code>:read-write</code></a></li><li><a href="/fr/docs/Web/CSS/:required"><code>:required</code></a></li><li><a href="/fr/docs/Web/CSS/:right"><code>:right</code></a></li><li><a href="/fr/docs/Web/CSS/:root"><code>:root</code></a></li><li><a href="/fr/docs/Web/CSS/:scope"><code>:scope</code></a></li><li><a href="/fr/docs/Web/CSS/:target"><code>:target</code></a></li><li><a href="/fr/docs/Web/CSS/:valid"><code>:valid</code></a></li><li><a href="/fr/docs/Web/CSS/:visited"><code>:visited</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/:where"><code>:where()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pseudo-éléments</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-moz-progress-bar"><code>::-moz-progress-bar</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-moz-range-progress"><code>::-moz-range-progress</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-moz-range-thumb"><code>::-moz-range-thumb</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-moz-range-track"><code>::-moz-range-track</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-browse"><code>::-ms-browse</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-check"><code>::-ms-check</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-clear"><code>::-ms-clear</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-expand"><code>::-ms-expand</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-fill"><code>::-ms-fill</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-fill-lower"><code>::-ms-fill-lower</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-fill-upper"><code>::-ms-fill-upper</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-reveal"><code>::-ms-reveal</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-thumb"><code>::-ms-thumb</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-ticks-after"><code>::-ms-ticks-after</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-ticks-before"><code>::-ms-ticks-before</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-tooltip"><code>::-ms-tooltip</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-track"><code>::-ms-track</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-ms-value"><code>::-ms-value</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-webkit-progress-bar"><code>::-webkit-progress-bar</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-webkit-progress-value"><code>::-webkit-progress-value</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-webkit-slider-runnable-track"><code>::-webkit-slider-runnable-track</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/CSS/::-webkit-slider-thumb"><code>::-webkit-slider-thumb</code></a></li><li><a href="/fr/docs/Web/CSS/::after"><code>::after (:after)</code></a></li><li><a href="/fr/docs/Web/CSS/::backdrop"><code>::backdrop</code></a></li><li><a href="/fr/docs/Web/CSS/::before"><code>::before (:before)</code></a></li><li><a href="/fr/docs/Web/CSS/::cue"><code>::cue</code></a></li><li><a href="/fr/docs/Web/CSS/::first-letter"><code>::first-letter</code></a></li><li><a href="/fr/docs/Web/CSS/::first-line"><code>::first-line (:first-line)</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/::grammar-error"><code>::grammar-error</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/::placeholder"><code>::placeholder</code></a></li><li><a href="/fr/docs/Web/CSS/::selection"><code>::selection</code></a></li><li><a href="/fr/docs/Web/CSS/::slotted"><code>::slotted()</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/CSS/::spelling-error"><code>::spelling-error</code></a></li></ol></details></li></ol></section></div>

<p>Par le passé (avant 2010), le sélecteur CSS <a href="/fr/docs/Web/CSS/:visited" title="La pseudo-classe :visited permet de modifier l&apos;aspect d&apos;un lien après que l&apos;utilisateur l&apos;a visité. Pour des raisons relatives à la vie privée, les propriétés qui peuvent être utilisées sont restreintes."><code>:visited</code></a> permettait aux sites d&apos;effectuer des requêtes sur l&apos;historique de l&apos;utilisateur grâce à la méthode <a href="/fr/docs/Web/API/Window/getComputedStyle" title="La méthode window.getComputedStyle() donne la  valeur calculée finale de toutes les propriétés CSS sur un élément."><code>window.getComputedStyle</code></a> ou à d&apos;autre techniques, parcourant l&apos;historique de l&apos;utilisateur afin de connaître les sites qu&apos;il avait visité. Cela pouvait effectué rapidement et permettait d&apos;obtenir beaucoup d&apos;informations sur l&apos;identité d&apos;un utilisateur.</p>

<p>Afin de palier au problème, Gecko (<span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko 2</span>) a été modifié afin de limiter la quantité d&apos;informations qui peut être obtenue au travers des liens visités. Les autres navigateurs ont également été modifiés de façon semblable.</p>

<h2 id="Quelques_petits_mensonges_pour_se_protéger">Quelques petits mensonges pour se protéger</h2>

<p>La première modification consiste à faire mentir Gecko envers les applications web sous certaines circonstances. </p>

<ul>
 <li><code>window.getComputedStyle()</code> et les fonctions analogues comme <a href="/fr/docs/Web/API/Element/querySelector" title="Retourne le premier élement parmi les descendant de l&apos;élement sur lequel on l&apos;invoque qui correspond au groupe de sélecteurs spécifiés."><code>element.querySelector()</code></a> renverront toujours des valeurs indiquant que l&apos;utilisateur n&apos;a jamais visité aucun des liens présents sur une page.</li>
 <li>Si on utilise un sélecteur d&apos;élément voisin comme <code>:visited + span</code>, l&apos;élément <a href="/fr/docs/Web/HTML/Element/span" title="L&apos;élément HTML &lt;span&gt; est un conteneur générique en ligne (inline) pour les contenus phrasés. Il ne représente rien de particulier. Il peut être utilisé pour grouper des éléments afin de les mettre en forme (grâce aux attributs class ou id et aux règles CSS) ou parce qu&apos;ils partagent certaines valeurs d&apos;attribut comme lang. Il doit uniquement être utilisé lorsqu&apos;aucun autre élément sémantique n&apos;est approprié. &lt;span&gt; est très proche de l&apos;élément &lt;div&gt;, mais l&apos;élément &lt;div&gt; est un élément de bloc, alors que &lt;span&gt; est un élément en ligne."><code>&lt;span&gt;</code></a> sera mis en forme comme si le lien n&apos;avait pas été visité.</li>
 <li>Enfin, dans quelques rares scénarios, si on utilise des liens imbriqués et que l&apos;élément ciblé par CSS diffère du lien dont on souhaite savoir s&apos;il a été visité, cet élément sera dessiné comme si le lien n&apos;avait pas été visité.</li>
</ul>

<h2 id="Les_limites_de_la_mise_en_forme_applicable_aux_liens_visités">Les limites de la mise en forme applicable aux liens visités</h2>

<p>On peut toujours mettre en forme les liens visités mais quelques limites s&apos;appliquent désormais. Seule les propriétés suivantes pourront être appliquées aux liens visités :</p>

<ul>
 <li><a href="/fr/docs/Web/CSS/color" title="La propriété color définit la couleur de premier plan d&apos;un élément texte et de ses éventuelles décorations. Elle définit également la valeur de currentcolor qui peut être utilisée pour d&apos;autres propriétés (par exemple comme valeur par défaut pour border-color)."><code>color</code></a>,</li>
 <li><a href="/fr/docs/Web/CSS/background-color" title="La propriété background-color permet de définir la couleur utilisée pour l&apos;arrière-plan d&apos;un élément (celle-ci peut être une couleur transparente)."><code>background-color</code></a>,</li>
 <li><a href="/fr/docs/Web/CSS/border-color" title="La propriété border-color est une propriété raccourcie qui permet de définir la couleur de la bordure sur les quatre côtés de la boîte de bordure d&apos;un élément."><code>border-color</code></a> (et les propriétés détaillées associées),</li>
 <li><a href="/fr/docs/Web/CSS/column-rule-color" title="La propriété column-rule-color permet de définir la couleur de la ligne tracée entre les colonnes lorsqu&apos;on utilise une disposition en colonnes."><code>column-rule-color</code></a>,</li>
 <li><a href="/fr/docs/Web/CSS/outline-color" title="La propriété outline-color permet de définir la couleur avec laquelle on trace le conteur de l&apos;élément. Ce contour est tracé autour de la boîte de bordure et peut être utilisé pour faire ressortir l&apos;élément."><code>outline-color</code></a>,</li>
 <li>Les composantes de couleur liées aux attributs SVG <code><a href="/fr/docs/Web/SVG/Attribute/fill">fill</a></code> et <code><a href="/fr/docs/Web/SVG/Attribute/stroke">stroke</a></code>.</li>
</ul>

<p>De plus, même pour ces propriétés, il n&apos;est pas possible de modifier la transparence entre les liens qui ont été visités et les autres (comme on pourrait le faire par ailleurs avec <code><a href="https://developer.mozilla.org/fr/docs/Web/CSS/Type_color#rgb()_et_rgba()">rgba()</a></code> ou <code><a href="/fr/docs/Web/CSS/Type_color#hsl()_et_hsla()">hsla()</a></code> ou avec le mot-clé <code><a href="/fr/docs/Web/CSS/Type_color#Le_mot-cl%C3%A9_transparent">transparent</a></code>).</p>

<p>Voici un exemple de mise en forme prenant en compte ces restrictions :</p>

<pre class="brush: css">:link {
  outline: 1px dotted blue;
  background-color: white;
  /* La valeur par défaut de background-color est &apos;transparent&apos;.
     et il faut donc une valeur différente, sinon les modifications
     pour :visited ne s&apos;appliqueront pas. */
}

:visited {
  outline-color: orange;     /* Les liens visités auront un contour orange */
  color: yellow;             /* Le texte des liens visités sera en jaune   */
  background-color: green;   /* L&apos;arrière-plan des liens visités sera vert */
}
</pre>

<h2 id="Impact_sur_les_développeurs_web">Impact sur les développeurs web</h2>

<p>De façon générale, cela ne devrait pas impacter les développeurs de façon significative. Il faudra toutefois appliquer les modifications suivantes aux sites :</p>

<ul>
 <li>L&apos;utilisation d&apos;images d&apos;arrière-plan pour la mise en forme des liens visités ne fonctionnera plus car seules les couleurs peuvent être utilisées pour les mettre en avant.</li>
 <li>Les couleurs qui seraient transparentes de façon normale ne seront pas affichées si elles participent à la mise en forme d&apos;un sélecteur <code>:visited</code>.</li>
</ul>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="https://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/">Les modifications apportées à <code>:visited</code> pour la vie privée (en anglais)</a> sur Mozilla Hacks</li>
 <li><a href="https://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/">Colmater la fuite de l&apos;historique via CSS (en anglais)</a> sur le blog de sécurité Mozilla</li>
 <li><a href="http://dbaron.org/mozilla/visited-privacy">Empêcher les attaques vers l&apos;historique de l&apos;utilisateur perpétrées via <code>:visited</code> (en anglais)</a></li>
</ul>
