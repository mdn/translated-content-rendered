---
title: NavigatorUserMedia.getUserMedia()
slug: Web/API/Navigator/getUserMedia
tags:
  - API
  - Deprecated
  - Media
  - WebRTC
  - getusermedia
translation_of: Web/API/Navigator/getUserMedia
original_slug: NavigatorUserMedia.getUserMedia
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/Media_Streams_API">Media Streams API</a></strong></li><li><strong><a href="/fr/docs/Web/API/NavigatorUserMedia.getUserMedia"><code>NavigatorUserMedia.getUserMedia</code></a></strong></li><li class="toggle"><details open><summary>Événements</summary><ol><li><a href="/fr/docs/Web/Events/inactive"><code>inactive</code></a></li><li><a href="/fr/docs/Web/Events/active"><code>active</code></a></li><li><a href="/fr/docs/Web/Events/ended"><code>ended</code></a></li><li><a href="/fr/docs/Web/Events/mute"><code>mute</code></a></li><li><a href="/fr/docs/Web/Events/unmute"><code>unmute</code></a></li><li><a href="/fr/docs/Web/Events/overconstrained"><code>overconstrained</code></a></li><li><a href="/fr/docs/Web/Events/ratechange"><code>ratechange</code></a></li><li><a href="/fr/docs/Web/Events/removetrack"><code>removetrack</code></a></li><li><a href="/fr/docs/Web/Events/addtrack"><code>addtrack</code></a></li><li><a href="/fr/docs/Web/Events/started"><code>started</code></a></li><li><a href="/fr/docs/Web/Events/devicechange"><code>devicechange</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à Media Capture and Streams</summary><ol><li><a href="/fr/docs/Web/API/AudioStreamTrack"><code>AudioStreamTrack</code></a></li><li><a href="/fr/docs/Web/API/BlobEvent"><code>BlobEvent</code></a></li><li><a href="/fr/docs/Web/API/CanvasCaptureMediaStream"><code>CanvasCaptureMediaStream</code></a></li><li><a href="/fr/docs/Web/API/ConstrainBoolean"><code>ConstrainBoolean</code></a></li><li><a href="/fr/docs/Web/API/ConstrainDOMString"><code>ConstrainDOMString</code></a></li><li><a href="/fr/docs/Web/API/ConstrainDouble"><code>ConstrainDouble</code></a></li><li><a href="/fr/docs/Web/API/ConstrainLong"><code>ConstrainLong</code></a></li><li><a href="/fr/docs/Web/API/DoubleRange"><code>DoubleRange</code></a></li><li><a href="/fr/docs/Web/API/HTMLCanvasElement/captureStream"><code>HTMLCanvasElement.captureStream()</code></a></li><li><a href="/fr/docs/Web/API/LongRange"><code>LongRange</code></a></li><li><a href="/fr/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></li><li><a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a></li><li><a href="/fr/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a></li><li><a href="/fr/docs/Web/API/MediaStreamTrackEvent"><code>MediaStreamTrackEvent</code></a></li><li><a href="/fr/docs/Web/API/MediaTrackCapabilities"><code>MediaTrackCapabilities</code></a></li><li><a href="/fr/docs/Web/API/MediaTrackConstraints"><code>MediaTrackConstraints</code></a></li><li><a href="/fr/docs/Web/API/MediaTrackSettings"><code>MediaTrackSettings</code></a></li><li><a href="/fr/docs/Web/API/MediaTrackSupportedConstraints"><code>MediaTrackSupportedConstraints</code></a></li><li><a href="/fr/docs/Web/API/NavigatorUserMedia"><code>NavigatorUserMedia</code></a></li><li><a href="/fr/docs/Web/API/NavigatorUserMediaError"><code>NavigatorUserMediaError</code></a></li><li><a href="/fr/docs/Web/API/VideoStreamTrack"><code>VideoStreamTrack</code></a></li><li><a href="/fr/docs/Web/API/navigator/mediaDevices.getUserMedia"><code>navigator.mediaDevices.getUserMedia()</code></a></li></ol></details></li></ol></section><div class="deprecated deprecatedHeader notecard">
            <p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolète</strong><br>Cette fonctionnalité a été supprimée des standards du Web. Bien que quelques navigateurs puissent encore la supporter, elle est en cours d&apos;éradication. Ne l&apos;utilisez ni dans d&apos;anciens projets, ni dans de nouveaux. Les pages et applications Web l&apos;utilisant peuvent cesser de fonctionner à tout moment.</p>
        </div></div>

<p>La fonction obsolète <strong>Navigator.getUserMedia()</strong> demande à l&apos;utilisateur la permission d&apos;utiliser une entrée vidéo (ex: une webcam ou un écran partagé) ou audio (ex: un microphone) de l&apos;utilisateur.</p>

<p>Si ce dernier l&apos;autorise, un <a href="/fr/docs/Web/API/MediaStream" title="L&apos;interface MediaStream représente le contenu d&apos;un flux de média. Un flux est composé de plusieurs pistes, tel que des pistes vidéos ou audio."><code>MediaStream</code></a> est transmis au callback spécifié, il contient les pistes audio et/ou vidéo des entrées autorisées. Si l&apos;utilisateur refuse l&apos;accès, que le périphérique n&apos;existe pas, ou qu&apos;une erreur <span>quelconque</span> se produit, le callback d&apos;erreur est alors exécuté avec comme paramètre un objet <a href="/fr/docs/Web/API/MediaStreamError" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>MediaStreamError</code></a>, il décrit l&apos;erreur qui vient de se produire. Si l&apos;utilisateur ne fait aucun choix, aucun callback n&apos;est exécuté.</p>

<div class="note notecard">
<p>Il s&apos;agit d&apos;une ancienne méthode, veuillez utiliser la méthode <a href="/fr/docs/Web/API/MediaDevices/getUserMedia" title="La méthode MediaDevices.getUserMedia() invite l&apos;utilisateur à autoriser l&apos;utilisation d&apos;une entrée multimédia qui produit un MediaStream avec des pistes contenant les types de médias demandés."><code>navigator.mediaDevices.getUserMedia()</code></a> à la place. Bien qu&apos;elle ne soit pas techniquement obsolète, l&apos;utilisation de callbacks l&apos;est, les spécifications encouragent fortamment l&apos;utilisation de la nouvelle version avec <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>promesses</code></a>.</p>
</div>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="syntaxbox">navigator.getUserMedia(constraints, successCallback, errorCallback);</pre>

<h3 id="Paramètres">Paramètres</h3>

<dl>
 <dt>constraints</dt>
 <dd>Un objet <a href="/fr/docs/Web/API/MediaStreamConstraints" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>MediaStreamConstraints</code></a> spécifiant les types de médias que vous souhaitez recevoir, ainsi que les contraintes pour chaque type de média. Pour plus de détails, voir la section <a href="/fr/docs/Web/API/MediaDevices/getUserMedia#Syntaxe">constraints</a> de la méthode <a href="/fr/docs/Web/API/MediaDevices/getUserMedia" title="La méthode MediaDevices.getUserMedia() invite l&apos;utilisateur à autoriser l&apos;utilisation d&apos;une entrée multimédia qui produit un MediaStream avec des pistes contenant les types de médias demandés."><code>MediaDevices.getUserMedia()</code></a>, ainsi que l&apos;article <a href="/fr/docs/Web/API/Media_Streams_API/Constraints">Capacités, constraintes, et configurations</a>.</dd>
 <dt>successCallback</dt>
 <dd>Une fonction qui est invoquée lorsque la demande d&apos;accès aux entrées média est acceptée. Cette fonction est appellée avec un paramètre: l&apos;objet <a href="/fr/docs/Web/API/MediaStream" title="L&apos;interface MediaStream représente le contenu d&apos;un flux de média. Un flux est composé de plusieurs pistes, tel que des pistes vidéos ou audio."><code>MediaStream</code></a> qui contient les flux de médias. Votre callback peut assigner le stream l&apos;objet que vous désirez (ex: un élément <a href="/fr/docs/Web/HTML/Element/audio" title="L&apos;élément HTML &lt;audio&gt; est utilisé afin d&apos;intégrer un contenu sonore dans un document. Il peut contenir une ou plusieurs sources audio représentées avec l&apos;attribut src ou l&apos;élément &lt;source&gt;. S&apos;il y a plusieurs sources, l&apos;agent utilisateur choisira celle qui convient le mieux."><code>&lt;audio&gt;</code></a> ou <a href="/fr/docs/Web/HTML/Element/video" title="L&apos;élément HTML &lt;video&gt; intègre un contenu vidéo dans un document."><code>&lt;video&gt;</code></a>), comme dans l&apos;exemple suivant:
 <pre class="brush: js">function(stream) {
   var video = document.querySelector(&apos;video&apos;);
   video.src = window.URL.createObjectURL(stream);
   video.onloadedmetadata = function(e) {
      // Do something with the video here.
   };
}
</pre>
 </dd>
 <dt>errorCallback</dt>
 <dd>Lorsque l&apos;appel échoue, la fonction spécifiée dans <code>errorCallback</code> est appelée avec comme seul argument l&apos;objet <a href="/fr/docs/Web/API/MediaStreamError" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>MediaStreamError</code></a>. Cet objet ressemble à <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>DOMException</code></a>. Voir {anch(&quot;Erreurs&quot;)}} plus bas sur cette page pour voir quelle erreur peut arriver.</dd>
</dl>

<h3 id="Valeur_de_retour">Valeur de retour</h3>

<p><a href="/fr/docs/Web/API/Undefined" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>undefined</code></a>.</p>

<h3 id="Erreurs">Erreurs</h3>

<p></p>

<h2 id="Exemples"><strong>Exemples</strong></h2>

<h3 id="Largeur_et_hauteur">Largeur et hauteur</h3>

<p>Voici un exemple de l&apos;utilisation de <code>getUserMedia()</code>, avec les différentes mises en oeuvres pour couvrir les préfixes navigateurs. Remarquez que ceci est la façon dépréciée de procéder. Regardez les <a href="/en-US/docs/Web/API/MediaDevices/getUserMedia#Frame_rate">exemples</a> sous la section <a href="/fr/docs/Web/API/MediaDevices/getUserMedia" title="La méthode MediaDevices.getUserMedia() invite l&apos;utilisateur à autoriser l&apos;utilisation d&apos;une entrée multimédia qui produit un MediaStream avec des pistes contenant les types de médias demandés."><code>MediaDevices.getUserMedia()</code></a> pour les exemples modernes.</p>

<pre class="brush: js">navigator.getUserMedia = navigator.getUserMedia ||
                         navigator.webkitGetUserMedia ||
                         navigator.mozGetUserMedia;

if (navigator.getUserMedia) {
   navigator.getUserMedia({ audio: true, video: { width: 1280, height: 720 } },
      function(stream) {
         var video = document.querySelector(&apos;video&apos;);
         video.src = window.URL.createObjectURL(stream);
         video.onloadedmetadata = function(e) {
           video.play();
         };
      },
      function(err) {
         console.log(&quot;The following error occurred: &quot; + err.name);
      }
   );
} else {
   console.log(&quot;getUserMedia not supported&quot;);
}</pre>

<h2 id="Permissions">Permissions</h2>

<p>Pour utiliser <code>getUserMedia()</code> dans une application installable (par exemple une application Firefox OS), vous devez spécifier un ou plusieurs des champs suivants dans le fichier de manifest.</p>

<pre class="brush: js">&quot;permissions&quot;: {
  &quot;audio-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture audio using getUserMedia()&quot;
  },
  &quot;video-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture video using getUserMedia()&quot;
  }
}
</pre>

<p id="errorCallback">See <a href="/en-US/Apps/Developing/App_permissions#audio-capture">permission: audio-capture</a> and <a href="/en-US/Apps/Developing/App_permissions#video-capture">permission: video-capture</a> for more information.</p>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Spécifications</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a lang="en" href="https://w3c.github.io/mediacapture-main/#navigatorusermedia-interface-extensions" class="external" hreflang="en">Media Capture and Streams<br><small lang="fr">La définition de &apos;navigator.getUserMedia&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-CR">Candidat au statut de recommandation</span></td>
   <td>Définition initiale.</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilité_des_navigateurs">Compatibilité des navigateurs</h2>

<div class="warning notecard">
<p>New code should use <a href="/fr/docs/Web/API/Navigator/mediaDevices/getUserMedia" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>Navigator.mediaDevices.getUserMedia()</code></a> instead.</p>
</div>

<div>
<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">Nous convertissons les données de compatibilité dans un format JSON</a></strong>.
            Ce tableau de compatibilité utilise encore l&apos;ancien format
            car nous n&apos;avons pas encore converti les données qu&apos;il contient.
            <strong><a href="/fr/docs/MDN/Contribute/Structures/Compatibility_tables">Vous pouvez nous aider en contribuant !</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Ordinateur</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<table>
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Microsoft Edge</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>21<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">webkit</a></span> [1]</td>
   <td>17<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">moz</a></span> [3]</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
   <td>12 [2]<br>
    18<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">webkit</a></span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
 </tbody>
</table>

<table>
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>Basic Support</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>40.0<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">webkit</a></span> [2]</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>24<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">moz</a></span> [3]</td>
   <td>1.2<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">moz</a></span> [4]<br>
    1.4<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">moz</a></span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Les versions suivantes de Chrome supportent <a href="/fr/docs/Web/API/MediaDevices/getUserMedia" title="La méthode MediaDevices.getUserMedia() invite l&apos;utilisateur à autoriser l&apos;utilisation d&apos;une entrée multimédia qui produit un MediaStream avec des pistes contenant les types de médias demandés."><code>MediaDevices.getUserMedia()</code></a> sans préfixe qui remplace cette méthode dépréciée.</p>

<p>[2] Chrome et Opera utilisent toujours une ancienne syntaxe de contraintes mais la syntaxe décrite ici est disponible via le polyfill <a href="https://github.com/webrtc/adapter">adapter.js</a>.</p>

<p>[3] La syntaxe de la contrainte décrite ici est disponible depuis Firefox 38. Les versions précédentes utilisent une ancienne syntaxe de contraintes, mais la syntaxe décrite ici est disponible via le polyfill <a href="https://github.com/webrtc/adapter">adapter.js</a>.</p>

<p>[4] Dans Firefox OS 1.2 seul <code>audio</code> était supporté, 1.4 ajoute le support de <code>video</code>.</p>

<p>Pour le moment, utiliser WebRTC pour accéder à la caméra est supporté par Chrome, Opera, et Firefox 20.</p>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/fr/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a> qui remplace cette méthode dépréciée.</li>
 <li><a href="https://developer.mozilla.org/en-US/docs/WebRTC">WebRTC</a> - page d&apos;introduction aux APIS</li>
 <li><a href="https://developer.mozilla.org/en-US/docs/WebRTC/MediaStream_API">MediaStream API</a> - L&apos;API des Media Streams Objects</li>
 <li><a href="https://developer.mozilla.org/en-US/docs/WebRTC/taking_webcam_photos">Taking webcam photos</a> - un tutoriel à propos de l&apos;utilisation de  <code>getUserMedia()</code> pour prendre des photos plutôt que des vidéos.</li>
</ul>
