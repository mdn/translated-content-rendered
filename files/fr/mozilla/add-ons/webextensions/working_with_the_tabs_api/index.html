---
title: Travailler avec l'API Tabs
slug: Mozilla/Add-ons/WebExtensions/Travailler_avec_l_API_Tabs
tags:
  - Add-ons
  - Comment
  - Débutant
  - WebExtensions
  - onglets
  - tabs
translation_of: Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API
---
<section class="Quick_links" id="Quick_Links">
  <ol>
    <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions"><strong>WebExtensions</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Démarrage</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions">Que sont les WebExtensions ?</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension">Votre première WebExtension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension">Votre deuxième WebExtension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">Anatomie d&apos;une WebExtension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Examples">Exemples de WebExtensions</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/What_next_">Que faire ensuite ?</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Concepts</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs">Utilisation des API JavaScript</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">Scripts de contenu</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">Motifs de correspondance (Match patterns)</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Working_with_files">Travailler avec les fichiers</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Internationalization">Internationalisation</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Security_best_practices">Sécurité : bonnes pratiques</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy">Politique de sécurité du contenu</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Native_messaging">Message natifs</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Interface Utilisateur</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface">Introduction</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Accessibility_guidelines">Accessibility guidelines</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action">Bouton de la barre d&apos;outils</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions">Bouton de la barre d&apos;adresse</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars">Barres latérales</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items">Éléments du menu contextuel</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages">Page d&apos;options</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">Pages pour l&apos;extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications">Notifications</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox">Suggestions de la barre d&apos;adresse</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels">Panneaux d&apos;outils de développement</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Mode d&apos;emploi</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">Intercepter les requêtes HTTP</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page">Modifier une page web</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page">Insérer un contenu externe</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">Ajouter un bouton à la barre d&apos;outils</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page">Mettre en place une page de paramètres</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API">Travailler avec l&apos;API Tabs</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API">Travailler avec l&apos;API Bookmarks</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API">Travailler avec l&apos;API Cookies</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities">Travailler avec des identités contextuelles</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension">Build a cross-browser extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/onboarding_upboarding_offboarding_best_practices">Onboard, upboard, and offboard users</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Portage</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators">Firefox differentiators</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Porting_a_Google_Chrome_extension">Porter une extension Google Chrome</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Porting_a_legacy_Firefox_add-on">Porter une ancienne extension Firefox</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">Comparaison avec le SDK Add-on</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_XUL_XPCOM_extensions">Comparaison avec les extensions XUL/XPCOM</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations">Differences between API implementations</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities">Incompatibilités avec Chrome</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Differences_between_desktop_and_Android">Différence entre le bureau et Android</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Déroulement avec Firefox</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Development_Tools">Developer tools</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Choose_a_Firefox_version_for_web_extension_develop">Choose a Firefox version</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/User_experience_best_practices">Expérience utilisateur : bonnes pratiques</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Prompt_users_for_data_and_privacy_consents">Prompt users for data and privacy consents</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Temporary_Installation_in_Firefox">Installation temporaire dans Firefox</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Debugging">Débogage</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Testing_persistent_and_restart_features">Test des fonctionnalités persistantes et de redémarrage</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Test_permission_requests">Test permission requests</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Developing_WebExtensions_for_Firefox_for_Android">Écrire des extensions pour Firefox sur Android</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Getting_started_with_web-ext">Démarrer avec web-ext</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/web-ext_command_reference">Détail de la commande web-ext</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/WebExtensions_and_the_Add-on_ID">Les WebExtensions et l&apos;ID Add-on</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Request_the_right_permissions">Demander les bonnes permissions</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Best_practices_for_updating_your_extension">Bonnes pratiques pour la mise à jour de votre extension</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Les API JavaScript</summary>
        <ol><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11">pkcs11</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/alarms">alarms</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks">bookmarks</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/browserAction">browserAction</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings">browserSettings</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/browsingData">browsingData</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/clipboard">clipboard</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/commands">commands</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts">contentScripts</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities">contextualIdentities</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/cookies">cookies</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/devtools.inspectedWindow">devtools.inspectedWindow</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/devtools.network">devtools.network</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/devtools.panels">devtools.panels</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/dns">dns</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/downloads">downloads</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/events">events</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/extension">extension</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes">extensionTypes</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/find">find</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/history">history</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/i18n">i18n</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/identity">identity</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/idle">idle</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/management">management</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/menus">menus</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/notifications">notifications</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/omnibox">omnibox</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/pageAction">pageAction</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/permissions">permissions</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/privacy">privacy</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/proxy">proxy</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/runtime">runtime</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/search">search</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/sessions">sessions</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction">sidebarAction</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs">tabs</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/theme">theme</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/topSites">topSites</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/types">types</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/userScripts">userScripts</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation">webNavigation</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/webRequest">webRequest</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/windows">windows</a></li></ol>
      </details>
    </li>

    <li class="toggle">
      <details>
      <summary>Clés de manifeste</summary>
      <ol><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/auteur">author</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/arriere-plan">background</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action">browser_action</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings">browser_specific_settings</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides">chrome_settings_overrides</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides">chrome_url_overrides</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands">commands</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts">content_scripts</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy">content_security_policy</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale">default_locale</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description">description</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer">developer</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page">devtools_page</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries">dictionaries</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable">externally_connectable</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url">homepage_url</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons">icons</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito">incognito</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version">manifest_version</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name">name</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled">offline_enabled</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox">omnibox</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions">optional_permissions</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page">options_page</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui">options_ui</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action">page_action</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions">permissions</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers">protocol_handlers</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name">short_name</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action">sidebar_action</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme">theme</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experimentation">theme expérimentation</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts">user_scripts</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version">version</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name">version_name</a></li><li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources">web_accessible_resources</a></li></ol>
      </details>
    </li>
    <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Distribution_options">Distribution Options</a></li>
    <li><a href="/fr/docs/Mozilla/Add-ons/Themes"><strong>Thèmes</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Thème de navigateur</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/Themes/Theme_concepts">Concepts des thèmes</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Themes/Using_the_AMO_theme_generator">Using the AMO theme generator</a></li>
        </ol>
      </details>
    </li>
    <li><a href="/fr/docs/Mozilla/Add-ons/Distribution"><strong>Publication et distribution</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Publication de votre extension</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Developer_accounts">Developer accounts</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution">Signature et distribution de votre extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Package_your_extension_">Zipper votre extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution/Submitting_an_add-on">Soumettre une extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Source_Code_Submission">Soumission du code source</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution/Resources_for_publishers">Ressources pour les développeurs</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Listing">Créer une page attrayante pour votre extension</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution/Make_money_from_browser_extensions">Make money from browser extensions</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution/Promoting_your_extension_or_theme">Promoting your extension or theme</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/AMO/Policy/Reviews">Processus de revue</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/AMO/Policy/Agreement">Accord développeur</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/AMO/Policy/Featured">Extensions mises en avant</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/Distribution/Retiring_your_extension">Retrait de votre extension</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Distribuer votre module</summary>
        <ol>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Sideloading_add-ons">Pour une installation manuelle</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_for_desktop_apps">En tant qu&apos;application de bureau</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_in_the_enterprise">Dans un contexte d&apos;entreprise</a></li>
        </ol>
      </details>
    </li>
    <li><a href="https://discourse.mozilla.org/c/add-ons"><strong>Communauté et Support</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Canaux de discussions</summary>
        <ol>
          <li><a href="https://blog.mozilla.org/addons">Blog extensions</a></li>
          <li><a href="https://discourse.mozilla.org/c/add-ons">Forum extensions</a></li>
          <li><a href="https://stackoverflow.com/questions/tagged/firefox-addon">Stack Overflow</a></li>
          <li><a href="/fr/docs/Mozilla/Add-ons/#Contact_us">Nous contacter</a></li>
        </ol>
      </details>
    </li>
  </ol>
</section>

<p>Les onglets permettent à un utilisateur d&apos;ouvrir plusieurs pages Web dans la fenêtre de son navigateur, puis de basculer entre ces pages Web. Grâce à l&apos;API Tabs, vous pouvez utiliser et manipuler ces onglets pour créer des utilitaires qui offrent aux utilisateurs de nouvelles façons de travailler avec des onglets ou de fournir les fonctionnalités de votre extension.</p>

<p>Dans cet article, nous allons regarder :</p>

<ul>
 <li>Permissions nécessaires pour utiliser l&apos;API Tabs.</li>
 <li>En savoir plus sur les onglets et leurs propriétés en utilisant <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query"><code>tabs.query</code></a>.</li>
 <li>Création, duplication, déplacement, mise à jour, rechargement et suppression des onglets.</li>
 <li>Manipuler le niveau de zoom d&apos;un onglet.</li>
 <li>Manipuler le CSS d&apos;un onglet.</li>
</ul>

<p>Nous concluons ensuite en examinant d&apos;autres fonctionnalités diverses offertes par l&apos;API.</p>

<div class="note notecard">
<p><strong>Remarque :</strong> Certaines fonctionnalités de l&apos;API d&apos;onglet sont couvert ailleurs. Voici les méthodes que vous pouvez utiliser pour manipuler le contenu de l&apos;onglet avec des scripts (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/connect" title="Appelez cette fonction pour configurer une connexion entre les scripts d&apos;arrière-plan de l&apos;extension (ou d&apos;autres scripts privilégiés, tels que les scripts d&apos;arrière-plan de l&apos;extrension (ou d&apos;autres scripts privilégiés, tels que les scripts de pages d&apos;options) et les scripts de contenu appartenant à cette extension et s&apos;exécutant dans l&apos;onglet spécifié. Cette fonction renvoie un objet runtime.Port."><code>tabs.connect</code></a>, <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/sendMessage" title="runtime.onMessage. Les gestionnaires d&apos;évènements peuvent optionellement envoyé une réponse en retour au script d&apos;arrière plan en utilisant l&apos;argument sendResponse."><code>tabs.sendMessage</code></a>, et  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript" title="Injecte du code JavaScript dans une page."><code>tabs.executeScript</code></a>). Si vous voulez plus d&apos;informations sur ces méthodes, reportez-vous à l&apos;article <a href="/fr/Add-ons/WebExtensions/Content_scripts">scripts de contenu</a> et le guide pratique <a href="/fr/Add-ons/WebExtensions/Modify_a_web_page">modifier une page web</a>.</p>
</div>

<h2 id="Permissions_et_lAPI_Tabs">Permissions et l&apos;API Tabs</h2>

<p>Pour la majorité des fonctions de l&apos;API Tabs, vous n&apos;avez besoin d&apos;aucune autorisation. Cependant, il y a certaines exceptions :</p>

<ul>
 <li>permission <code>&quot;tabs</code>&quot; est nécessaire pour accéder aux propriétés de  <code>Tab.url</code>, <code>Tab.title</code>, et <code>Tab.favIconUrl</code> de l&apos;objet Tab. Dans Firefox, vous avez également besoin de <code>&quot;tabs&quot;</code> pour effectuer une  <a href="/fr/Add-ons/WebExtensions/API/tabs/query">requête</a> par URL.</li>
 <li><a href="/fr/Add-ons/WebExtensions/manifest.json/permissions#Host_permissions">persmission de l&apos;hote</a> est nécessaire pour  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript"><code>tabs.executeScript</code></a> ou <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS"><code>tabs.insertCSS</code></a>.</li>
</ul>

<p>Vous pouvez demander la permission <code>&quot;tabs&quot;</code> dans le fichier manifest.json de votre extension :</p>

<pre class="brush: json">&quot;permissions&quot;: [
  &quot;&lt;all_urls&gt;&quot;,
  &quot;tabs&quot;
],
</pre>

<p>Cette requête vous permet d&apos;utiliser toutes les fonctionnalités de l&apos;API Tabs sur tous les sites Web que vos utilisateurs visitent. Il existe également une autre méthode pour demander la permission d&apos;utiliser <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript" title="Injecte du code JavaScript dans une page."><code>tabs.executeScript</code></a> ou <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS" title="Injecter du code CSS dans une page web."><code>tabs.insertCSS</code></a> où vous n&apos;avez pas besoin de la permission de l&apos;hôte, sous la forme <a href="/fr/Add-ons/WebExtensions/manifest.json/permissions#activeTab_permission"><code>&quot;activeTab&quot;</code></a>. Cette permission fournit les mêmes droits que les  <code>&quot;onglets&quot;</code> avec <code>&lt;all_urls&gt;</code>, mais avec deux restrictions:</p>

<ul>
 <li>l&apos;utilisateur doit interagir avec l&apos;extension via son navigateur ou l&apos;action de la page, le menu contextuel ou la touche de raccourci.</li>
 <li>il accorde uniquement la permission dans l&apos;onglet actif..</li>
</ul>

<p>L&apos;avantage de cette approche est que l&apos;utilisateur ne recevra pas d&apos;avertissement d&apos;autorisation indiquant que votre extension peut “Accéder à vos données pour tous les sites Web”. En effet, la permission <code>&lt;all_urls&gt;</code> permet à une extension d&apos;exécuter des scripts dans n&apos;importe quel onglet, à tout moment, alors que <a href="/fr/Add-ons/WebExtensions/manifest.json/permissions#activeTab_permission"><code>&quot;activeTab&quot;</code></a> se limite à autoriser l&apos;extension à effectuer une action demandée par l&apos;utilisateur dans l&apos;onglet en cours.</p>

<h2 id="En_savoir_plus_sur_les_onglets_et_leurs_propriétés">En savoir plus sur les onglets et leurs propriétés</h2>

<p>Il y aura des occasions où vous voulez obtenir une liste de tous les onglets dans toutes les fenêtres du navigateur. D&apos;autres fois, vous pourriez vouloir trouver un sous-ensemble d&apos;onglets qui correspondent à certains critères spécifiques, tels que ceux ouverts à partir d&apos;un onglet spécifique ou l&apos;affichage des pages d&apos;un domaine particulier. Et une fois que vous avez votre liste d&apos;onglets, vous voudrez probablement en savoir plus sur leurs propriétés.</p>

<p>C&apos;est ici qu&apos;intervient <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query" title="Obtient tous les onglets qui ont les propriétés spécifiées, ou tous les onglets si aucune propriété n&apos;est spécifiée."><code>tabs.query</code></a>. Utilisé seul pour obtenir tous les onglets ou prendre l&apos;objet <code>queryInfo</code> — pour spécifier des critères de requête tels que l&apos;activation de l&apos;onglet, dans la fenêtre en cours ou plus de 17 critères — <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query" title="Obtient tous les onglets qui ont les propriétés spécifiées, ou tous les onglets si aucune propriété n&apos;est spécifiée."><code>tabs.query</code></a> renvoie un tableau d&apos;objets <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> objects contenant des informations sur les onglets.</p>

<p>Lorsque vous souhaitez uniquement obtenir des informations sur l&apos;onglet en cours, vous pouvez obtenir un objet <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> pour cet onglet à l&apos;aide de  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getCurrent" title="Obtenez un tabs.Tab contenant des informations sur l&apos;onglet dans lequel ce script s&apos;exécute."><code>tabs.getCurrent</code></a>. Si vous avez un ID d&apos;onglet, vous pouvez obtenir son objet <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> en utilisant <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/get" title="Étant donné un ID d&apos;onglet, obtenez les détails de l&apos;onglet en tant qu&apos;objet tabs.Tab."><code>tabs.get</code></a>.</p>

<h3 id="Par_exemple">Par exemple</h3>

<p>Pour voir comment <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query" title="Obtient tous les onglets qui ont les propriétés spécifiées, ou tous les onglets si aucune propriété n&apos;est spécifiée."><code>tabs.query</code></a> et <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> sont utilisés, voyons comment l&apos;exemple <a href="https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs">tabs-tabs-tabs</a> ajoute la liste de  “passer aux onglets” à son popup bouton de barre d&apos;outils.</p>

<p><img alt="The tabs tabs tabs toolbar menu showing the switch to tap area" src="https://mdn.mozillademos.org/files/15723/Switch_to_tab.png" style="height: 645px; width: 369px;"></p>

<h3 id="manifest.json">manifest.json</h3>

<p>Voici le <a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json">manifest.json</a>:</p>

<pre class="brush: json">{
  &quot;browser_action&quot;: {
    &quot;browser_style&quot;: true,
    &quot;default_title&quot;: &quot;Tabs, tabs, tabs&quot;,
    &quot;default_popup&quot;: &quot;tabs.html&quot;
  },
  &quot;description&quot;: &quot;A list of methods you can perform on a tab.&quot;,
  &quot;homepage_url&quot;: &quot;https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs&quot;,
  &quot;manifest_version&quot;: 2,
  &quot;name&quot;: &quot;Tabs, tabs, tabs&quot;,
  &quot;permissions&quot;: [
    &quot;tabs&quot;
  ],
  &quot;version&quot;: &quot;1.0&quot;
}
</pre>

<div class="note notecard">
<p>Notez ce qui suit :</p>

<ul>
 <li>
  <p><strong>tabs.html est défini comme <code>default_popup</code> dans <code>browser_action</code></strong>. C&apos;est affiché chaque fois que l&apos;utilisateur clique sur l&apos;icône de la barre d&apos;outils de l&apos;extension.</p>
 </li>
 <li>
  <p><strong>Les permissions incluent des onglets.</strong> Ceci est nécessaire pour prendre en charge la fonction de liste d&apos;onglets, car l&apos;extension lit le titre des onglets à afficher dans la fenêtre contextuelle.</p>
 </li>
</ul>
</div>

<h3 id="tabs.html">tabs.html</h3>

<p>tabs.html définit le contenu du popup de l&apos;extension :</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

 &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;tabs.css&quot;/&gt;
 &lt;/head&gt;

&lt;body&gt;

 &lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-section panel-section-header&quot;&gt;
     &lt;div class=&quot;text-section-header&quot;&gt;Tabs-tabs-tabs&lt;/div&gt;
    &lt;/div&gt;

    &lt;a href=&quot;#&quot; id=&quot;tabs-move-beginning&quot;&gt;Move active tab to the beginning of the window&lt;/a&gt;&lt;br&gt;


…

Define the other menu items
…

    &lt;div class=&quot;switch-tabs&quot;&gt;

     &lt;p&gt;Switch to tab&lt;/p&gt;

     &lt;div id=&quot;tabs-list&quot;&gt;&lt;/div&gt;

    &lt;/div&gt;
 &lt;/div&gt;

 &lt;script src=&quot;tabs.js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;
</pre>

<p>Ici, vous pouvez voir que, après la création des éléments de menu, un div vide avec la liste des onglets ID est configuré pour contenir la liste des onglets. Ensuite, tabs.js est appelée.</p>

<p>Voici un résumé de ce qui précède :</p>

<ol>
 <li>Les éléments de menu sont déclarés.  </li>
 <li>Une <code>div</code> vide avec <code>tabs-list</code> est déclaré comme contenant la liste des onglets.</li>
 <li>tabs.js est appelé.</li>
</ol>

<h3 id="tabs.js">tabs.js</h3>

<p>Dans <a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js">tabs.js</a> nous pouvons voir comment la liste des onglets est construite et ajoutée à la popup.</p>

<p>Tout d&apos;abord, un gestionnaire d&apos;événements est ajouté pour exécuter <code>listTabs()</code> quand tabs.html est chargé :</p>

<h4 id="Création_de_la_fenêtre_contextuelle">Création de la fenêtre contextuelle</h4>

<p>Tout d&apos;abord, un gestionnaire d&apos;événements est ajouté pour exécuter <code>listTabs()</code> quand tabs.html est chargé :</p>

<pre class="brush: js">document.addEventListener(&quot;DOMContentLoaded&quot;, listTabs);</pre>

<p>La première chose que fait <code>listTabs()</code> est d&apos;appeler <code>getCurrentWindowTabs()</code>, où <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query" title="Obtient tous les onglets qui ont les propriétés spécifiées, ou tous les onglets si aucune propriété n&apos;est spécifiée."><code>tabs.query</code></a> est utilisé pour obtenur un objet  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> pour le onglets dans la fenêtre courante :</p>

<pre class="brush: js">function getCurrentWindowTabs() {
  return browser.tabs.query({currentWindow: true});
}
</pre>

<p>Maintenant, <code>listTabs()</code> est prêt à créer le contenu de la popup.</p>

<p>Pour commencer :</p>

<ol>
 <li>Récupérer les <code>tabs-list</code> <code>div</code>.</li>
 <li>Créer un fragment de document (dans lequel la liste sera construite).</li>
 <li>Mettre les compteurs.</li>
 <li>Effacer le contenu de <code>tabs-list</code> <code>div</code>.</li>
</ol>

<pre class="brush: js">function listTabs() {
 getCurrentWindowTabs().then((tabs) =&gt; {
    let tabsList = document.getElementById(&apos;tabs-list&apos;);
    let currentTabs = document.createDocumentFragment();
    let limit = 5;
    let counter = 0;

    tabsList.textContent = &apos;&apos;;
</pre>

<p>Ensuite, nous allons créer les liens pour chaque onglet :</p>

<ol>
 <li>Boucle les 5 premiers éléments de l&apos;objet <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a>.</li>
 <li>Pour chaque poste, ajoutez un hyperlien vers le fragment de document.
  <ul>
   <li>L&apos;étiquette du lien, c&apos;est-à-dire son texte, est définie à l&apos;aide du titre de l&apos;onglet (ou de l&apos;ID, s&apos;il n&apos;a pas de titre).</li>
   <li>L&apos;adresse du lien est définie à l&apos;aide de l&apos;ID de l&apos;onglet.</li>
  </ul>
 </li>
</ol>

<pre class="brush: js">    for (let tab of tabs) {
     if (!tab.active &amp;&amp; counter &lt;= limit) {
        let tabLink = document.createElement(&apos;a&apos;);

        tabLink.textContent = tab.title || tab.id;

       tabLink.setAttribute(&apos;href&apos;, tab.id);
        tabLink.classList.add(&apos;switch-tabs&apos;);
        currentTabs.appendChild(tabLink);
     }

     counter += 1;

    }
</pre>

<p>Enfin, le fragment du document est écrit dans la div <code>tabs-list</code> :</p>

<pre class="brush: js">    tabsList.appendChild(currentTabs);
  });
}
</pre>

<h4 id="Travailler_avec_longlet_actif">Travailler avec l&apos;onglet actif</h4>

<p>Un autre exemple connexe est l&apos;option d&apos;information “Alert active tab”qui décharge toutes les propriétés de l&apos;objet <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> de l&apos;onglet actif dans une alerte :</p>

<pre class="brush: js"> else if (e.target.id === &quot;tabs-alertinfo&quot;) {
   callOnActiveTab((tab) =&gt; {
     let props = &quot;&quot;;
     for (let item in tab) {
       props += `${ item } = ${ tab[item] } \n`;
     }
     alert(props);
   });
 }
</pre>

<p>Où <code>callOnActiveTab()</code> ftrouve l&apos;objet de tabulation active en faisant une boucle sur les objets <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> qui recherchent l&apos;objet avec l&apos;ensemble actif :</p>

<pre class="brush: js">document.addEventListener(&quot;click&quot;, function(e) {
 function callOnActiveTab(callback) {
   getCurrentWindowTabs().then((tabs) =&gt; {
     for (var tab of tabs) {
       if (tab.active) {
         callback(tab, tabs);
       }
     }
   });
 }
}

</pre>

<h2 id="Création_duplication_déplacement_mise_à_jour_rechargement_et_suppression_des_onglets">Création, duplication, déplacement, mise à jour, rechargement et suppression des onglets</h2>

<p>Après avoir recueilli des informations sur les onglets, vous voudrez probablement faire quelque chose avec eux — soit pour offrir aux utilisateurs des fonctionnalités de manipulation et de gestion des onglets — soit pour implémenter des fonctionnalités dans votre extension. Les fonctions suivantes sont disponibles :</p>

<ul>
 <li>Créer un nouvel onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/create"><code>tabs.create</code></a>).</li>
 <li>Dupliquer un onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/duplicate"><code>tabs.duplicate</code></a>).</li>
 <li>Supprimer un onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/remove"><code>tabs.remove</code></a>).</li>
 <li>Déplacer un onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/move"><code>tabs.move</code></a>).</li>
 <li>Mettre à jour l&apos;URL d&apos;un onglet — accéderefficacement à une nouvelle page — (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/update"><code>tabs.update</code></a>).</li>
 <li>Rechargez la page de l&apos;onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/reload"><code>tabs.reload</code></a>).</li>
</ul>

<div class="note notecard">
<p><strong>NOTE : </strong></p>

<p>Ces fonctions nécessitent toutes l&apos;ID (ou les ID) de l&apos;onglet qu&apos;elles manipulent :</p>

<ul>
 <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/duplicate"><code>tabs.duplicate</code></a></li>
 <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/remove"><code>tabs.remove</code></a></li>
 <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/move"><code>tabs.move</code></a></li>
</ul>

<p>Alors que les fonctions suivantes agissent sur l&apos;onglet actif (si aucun ID d&apos;onglet n&apos;est fourni) :</p>

<ul>
 <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/update"><code>tabs.update</code></a></li>
 <li><a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/reload"><code>tabs.reload</code></a></li>
</ul>
</div>

<h3 id="Par_exemple_2">Par exemple</h3>

<p>L&apos;exemple <a href="https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs">tabs-tabs-tabs</a> utilise toutes ces fonctionnalités sauf la mise à jour de l&apos;URL d&apos;un onglet. La façon dont ces API sont utilisées est similaire, nous allons donc regarder l&apos;une des implémentations les plus impliquées, celle de l&apos;option “Deplacer l&apos;onglet actif vers le début de la liste des fenêtres”. Mais d&apos;abord, voici une démonstration de la fonctionnalité en action :</p>

<div class="intrinsic-wrapper"><div class="intrinsic-container "><iframe src="https://www.youtube.com/embed/-lJRzTIvhxo?rel=0&amp;html5=1"></iframe></div></div>

<h4 id="manifest.json_2"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json">manifest.json</a></h4>

<p>Aucune de ces fonctions ne nécessite de permission pour fonctionner, donc il n&apos;y a aucune fonctionnalité dans le fichier manifest.json qui doit être mise en surbrillance.</p>

<h4 id="tabs.html_2"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.html">tabs.html</a></h4>

<p>tabs.html définit le “menu” affiché dans la fenêtre contextuelle, qui inclut l&apos;option “Déplacer l&apos;onglet actif au début de la liste des fenêtres”, wavec une série de balises <code>&lt;a&gt;</code> groupées par un séparateur visuel. Chaque élément de menu reçoit un ID, qui est utilisé dans tabs.js pour déterminer quel élément de menu est demandé.</p>

<pre class="brush: html">    &lt;a href=&quot;#&quot; id=&quot;tabs-move-beginning&quot;&gt;Move active tab to the beginning of the window&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;#&quot; id=&quot;tabs-move-end&quot;&gt;Move active tab to the end of the window&lt;/a&gt;&lt;br&gt;

    &lt;div class=&quot;panel-section-separator&quot;&gt;&lt;/div&gt;


    &lt;a href=&quot;#&quot; id=&quot;tabs-duplicate&quot;&gt;Duplicate active tab&lt;/a&gt;&lt;br&gt;

    &lt;a href=&quot;#&quot; id=&quot;tabs-reload&quot;&gt;Reload active tab&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;#&quot; id=&quot;tabs-alertinfo&quot;&gt;Alert active tab info&lt;/a&gt;&lt;br&gt;</pre>

<h4 id="tabs.js_2"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js">tabs.js</a></h4>

<p>Pour implémenter le &quot;menu&quot; défini dans tabs.html, tabs.js inclut un écouteur pour les clics dans tabs.html</p>

<pre class="brush: js">document.addEventListener(&quot;click&quot;, function(e) {
 function callOnActiveTab(callback) {

   getCurrentWindowTabs().then((tabs) =&gt; {
     for (var tab of tabs) {
       if (tab.active) {
         callback(tab, tabs);
       }
     }
   });
}
}
</pre>

<p>Une série d&apos;instructions <code>if</code> cherche alors à faire correspondre l&apos;identifiant de l&apos;élément cliqué. Cet extrait de code est pour l&apos;option “Déplacer l&apos;onglet actif au début de la liste des fenêtres” :</p>

<pre class="brush: js"> if (e.target.id === &quot;tabs-move-beginning&quot;) {
   callOnActiveTab((tab, tabs) =&gt; {
     var index = 0;
     if (!tab.pinned) {
       index = firstUnpinnedTab(tabs);
     }
     console.log(`moving ${tab.id} to ${index}`)
     browser.tabs.move([tab.id], {index});
   });
 }
</pre>

<p>Il est intéressant de noter l&apos;utilisation de console.log. Cela vous permet de générer des informations sur la console du <a href="/fr/Add-ons/WebExtensions/Debugging">debugger</a>, ce qui peut être utile lors de la résolution des problèmes rencontrés lors du développement.</p>

<p><img alt="Example of the console.log output, from the move tabs feature, in the debugging console" src="https://mdn.mozillademos.org/files/15722/console.png" style="height: 329px; width: 911px;"></p>

<p>Le code de déplacement appelle d&apos;abord <code>callOnActiveTab()</code> qui à son tour appelle  <code>getCurrentWindowTabs()</code> pour obtenir un objet <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab" title="Le type tabs.Tab contient des informations sur un onglet. Cela donne accès à des informations sur le contenu de l&apos;onglet, la taille du contenu, les états spéciaux ou les restrictions en vigueur, etc."><code>tabs.Tab</code></a> contenant les onglets de la fenêtre active. Il parcourt ensuite l&apos;objet pour rechercher et renvoyer l&apos;objet onglet actif :</p>

<pre class="brush: js"> function callOnActiveTab(callback) {
   getCurrentWindowTabs().then((tabs) =&gt; {
     for (var tab of tabs) {
       if (tab.active) {
         callback(tab, tabs);
       }
     }
   });
 }
</pre>

<h5 id="Onglets_épinglés">Onglets épinglés</h5>

<p>Une caractéristique des onglets est que l&apos;utilisateur peut épingler des onglets dans une fenêtre. Les onglets épinglés sont placés au début de la liste des onglets et ne peuvent pas être déplacés. Cela signifie que la première position vers laquelle un onglet peut se déplacer est la première position après les onglets épinglés. Ainsi, <code>firstUnpinnedTab()</code> est appelé pour trouver la position du premier onglet non goupillé en faisant une boucle dans l&apos;objet <code>tabs</code> :</p>

<pre class="brush: js">function firstUnpinnedTab(tabs) {
 for (var tab of tabs) {
   if (!tab.pinned) {
     return tab.index;
   }
 }
}
</pre>

<p>Nous avons maintenant tout ce qu&apos;il faut pour déplacer l&apos;onglet : l&apos;objet onglet actif à partir duquel nous pouvons obtenir l&apos;ID de l&apos;onglet et la position à laquelle l&apos;onglet doit être déplacé. Ainsi, nous pouvons mettre en œuvre le mouvement :</p>

<pre class="brush: js">     browser.tabs.move([tab.id], {index});</pre>

<p>Les fonctions restantes à dupliquer, recharger, créer et supprimer des onglets sont implémentées de manière similaire.</p>

<h2 id="Manipulation_du_niveau_du_zoom_dun_onglet">Manipulation du niveau du zoom d&apos;un onglet</h2>

<p>Le prochain ensemble de fonctions vous permet d&apos;obtenir  (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom" title="Obtient le facteur de zoom actuel pour l&apos;onglet spécifié."><code>tabs.getZoom</code></a>) et de définir (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/setZoom" title="Effectue un zoom sur l&apos;onglet spécifié."><code>tabs.setZoom</code></a>) le niveau de zoom dans un onglet. Vous pouvez également récupérer les paramètres de zoom  (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoomSettings" title="Obtient les paramètres de zoom actuels pour un onglet spécifié."><code>tabs.getZoomSettings</code></a>) mais, au moment de l&apos;écriture, la possibilité de définir les paramètres (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/setZoomSettings" title="Définit les paramètres de zoom pour l&apos;onglet spécifié. Ces paramètres sont réinitialisés aux paramètres par défaut lors de la navigation dans l&apos;onglet."><code>tabs.setZoomSettings</code></a>) n&apos;était pas disponible dans Firefox.</p>

<p>Le niveau de zoom peut être compris entre 30% et 300% (représenté par des décimales de 0.3 à 3).</p>

<p>Dans Firefox les paramètres de zoom par défaut sont :</p>

<ul>
 <li><strong>niveau de zoom par défaut</strong> : 100%.</li>
 <li><strong>mode zoom</strong>: automatique (le navigateur gère donc le réglage des niveaux de zoom).</li>
 <li><strong>portée des changements de zoom</strong> : <code>&quot;per-origin&quot;</code>, ce qui signifie que lorsque vous visitez à nouveau un site, il prend le niveau de zoom défini lors de votre dernière visite.</li>
</ul>

<h3 id="Par_exemple_3">Par exemple</h3>

<p>L&apos;exemple <a href="https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs">tabs-tabs-tabs</a> comprend trois démonstrations de la fonction de zoom : zoom avant, zoom arrière, et réinitialisation du zoom. Voici la fonctionnalité en action :</p>

<div class="intrinsic-wrapper"><div class="intrinsic-container "><iframe src="https://www.youtube.com/embed/RFr3oYBCg28?rel=0&amp;html5=1"></iframe></div></div>

<p>Jetons un coup d&apos;oeil à la façon dont le zoom est implémenté.</p>

<h4 id="manifest.json_3"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json">manifest.json</a></h4>

<p>Aucune des fonctions de zoom n&apos;a besoin d&apos;autorisations. Par conséquent, aucune fonction du fichier manifest.json ne doit être mise en surbrillance.</p>

<h4 id="tabs.html_3"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.html">tabs.html</a></h4>

<p>Nous avons déjà discuté comment le tabs.html définit les options pour cette extension, rien de nouveau ou unique n&apos;est fait pour fournir les options de zoom.</p>

<h4 id="tabs.js_3"><a href="https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js">tabs.js</a></h4>

<p>tabs.js commence par définir plusieurs constantes utilisées dans le code du zoom :</p>

<pre class="brush: js">const ZOOM_INCREMENT = 0.2;
const MAX_ZOOM = 3;
const MIN_ZOOM = 0.3;
const DEFAULT_ZOOM = 1;
</pre>

<p>Il utilise ensuite le même écouteur que nous avons discuté précédemment afin qu&apos;il puisse agir sur les clics dans tabs.html.</p>

<p>Pour la fonction zoom, ceci s&apos;exécute :</p>

<pre class="brush: js"> else if (e.target.id === &quot;tabs-add-zoom&quot;) {
   callOnActiveTab((tab) =&gt; {
     var gettingZoom = browser.tabs.getZoom(tab.id);
     gettingZoom.then((zoomFactor) =&gt; {
       //the maximum zoomFactor is 3, it can&apos;t go higher
       if (zoomFactor &gt;= MAX_ZOOM) {
         alert(&quot;Tab zoom factor is already at max!&quot;);
       } else {
         var newZoomFactor = zoomFactor + ZOOM_INCREMENT;
         //if the newZoomFactor is set to higher than the max accepted
         //it won&apos;t change, and will never alert that it&apos;s at maximum
         newZoomFactor = newZoomFactor &gt; MAX_ZOOM ? MAX_ZOOM : newZoomFactor;
         browser.tabs.setZoom(tab.id, newZoomFactor);
       }
     });
   });
 }
</pre>

<p>Ce code utilise <code>callOnActiveTab()</code> pour obtenir les détails de l&apos;onglet actif, puis  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom" title="Obtient le facteur de zoom actuel pour l&apos;onglet spécifié."><code>tabs.getZoom</code></a> obtient le facteur de zoom actuel de l&apos;onglet. Le zoom actuel est comparé au maximum défini (<code>MAX_ZOOM</code>) et une alerte est émise si l&apos;onglet est déjà au zoom maximum. Sinon, le niveau de zoom est incrémenté mais limité au zoom maximum, puis le zoom est défini avec <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom" title="Obtient le facteur de zoom actuel pour l&apos;onglet spécifié."><code>tabs.getZoom</code></a>.</p>

<h2 id="Manipuler_le_CSS_dun_onglet">Manipuler le CSS d&apos;un onglet</h2>

<p>Une autre fonctionnalité importante offerte par l&apos;API Tabs est la possibilité de manipuler le CSS dans un onglet — ajouter un nouveau CSS dans un onglet (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS" title="Injecter du code CSS dans une page web."><code>tabs.insertCSS</code></a>) ou supprimer CSS d&apos;un onglet  (<a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS" title="Supprime d&apos;une page CSS précédemment injectée par un appel à tabs.insertCSS()."><code>tabs.removeCSS</code></a>).</p>

<p>Cela peut être utile si vous voulez, par exemple, mettre en évidence certains éléments de la page ou modifier la disposition par défaut de la page (liste courte des cas d&apos;utilisation).</p>

<h3 id="Par_exemple_4">Par exemple</h3>

<p>L&apos;exemple <a href="https://github.com/mdn/webextensions-examples/tree/master/apply-css">apply-css</a> utilise ces fonctionnalités pour ajouter une bordure rouge à la page Web dans l&apos;onglet actif. Voici la fonctionnalité en action:</p>

<div class="intrinsic-wrapper"><div class="intrinsic-container "><iframe src="https://www.youtube.com/embed/bcK-GT2Dyhs?rel=0&amp;html5=1"></iframe></div></div>

<p>Voyons comment cela se passe.</p>

<h4 id="manifest.json_4"><a href="https://github.com/mdn/webextensions-examples/blob/master/apply-css/manifest.json">manifest.json</a></h4>

<p>Pour utiliser les fonctionnalités CSS dont vous avez besoin :</p>

<ul>
 <li>Permission <code>&quot;tabs&quot;</code>  et <a href="/fr/Add-ons/WebExtensions/manifest.json/permissions#Host_permissions">permission hôte</a> ou</li>
 <li>Permission <code>&quot;activeTab&quot;</code>.</li>
</ul>

<p>Ce dernier est le plus utile, car il permet à une extension d&apos;utiliser  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS" title="Injecter du code CSS dans une page web."><code>tabs.insertCSS</code></a> et <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS" title="Supprime d&apos;une page CSS précédemment injectée par un appel à tabs.insertCSS()."><code>tabs.removeCSS</code></a> dans l&apos;onglet actif lorsqu&apos;il est exécuté depuis le navigateur de l&apos;extension ou action de la page, menu contextuel ou un raccourci.</p>

<pre class="brush: json">{
  &quot;description&quot;: &quot;Adds a page action to toggle applying CSS to pages.&quot;,

 &quot;manifest_version&quot;: 2,
 &quot;name&quot;: &quot;apply-css&quot;,
 &quot;version&quot;: &quot;1.0&quot;,
 &quot;homepage_url&quot;: &quot;https://github.com/mdn/webextensions-examples/tree/master/apply-css&quot;,

 &quot;background&quot;: {

    &quot;scripts&quot;: [&quot;background.js&quot;]
 },

 &quot;page_action&quot;: {

    &quot;default_icon&quot;: &quot;icons/off.svg&quot;,
    &quot;browser_style&quot;: true
 },

 &quot;permissions&quot;: [
    &quot;activeTab&quot;,
    &quot;tabs&quot;
 ]

}
</pre>

<p>Vous noterez que la permission <code>&quot;tabs&quot;</code> est ajoutée en plus de <code>&quot;activeTab&quot;</code>. Cette permission supplémentaire est nécessaire pour permettre au script de l&apos;extension d&apos;accéder à l&apos;URL de l&apos;onglet, dont nous verrons l&apos;importance dans un instant.</p>

<p>Les autres caractéristiques principales du fichier manifeste sont la définition de:</p>

<ul>
 <li><strong>un script d&apos;arrière-plan</strong>, qui commence à s&apos;exécuter dès que l&apos;extension est chargée.</li>
 <li><strong>une “action de page”</strong>, qui définit une icône à ajouter à la barre d&apos;adresse du navigateur.</li>
</ul>

<h4 id="background.js"><a href="https://github.com/mdn/webextensions-examples/blob/master/apply-css/background.js">background.js</a></h4>

<p>Au démarrage, background.js définit un certain nombre de constantes à utiliser dans l&apos;extension qui définissent le CSS à appliquer, des titres pour les “actions de page”, et une liste de protocoles dans lesquels l&apos;extension fonctionnera :</p>

<pre class="brush: js">const CSS = &quot;body { border: 20px solid red; }&quot;;
const TITLE_APPLY = &quot;Apply CSS&quot;;
const TITLE_REMOVE = &quot;Remove CSS&quot;;
const APPLICABLE_PROTOCOLS = [&quot;http:&quot;, &quot;https:&quot;];
</pre>

<p>Lors du premier chargement, l&apos;extension utilise <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query" title="Obtient tous les onglets qui ont les propriétés spécifiées, ou tous les onglets si aucune propriété n&apos;est spécifiée."><code>tabs.query</code></a> pour obtenir une liste de tous les onglets de la fenêtre du navigateur en cours. Il parcourt ensuite les onglets appelant <code>initializePageAction()</code>.</p>

<pre class="brush: js">var gettingAllTabs = browser.tabs.query({});

gettingAllTabs.then((tabs) =&gt; {
 for (let tab of tabs) {
   initializePageAction(tab);
 }
});
</pre>

<p><code>initializePageAction</code> utilise <code>protocolIsApplicable()</code> pour déterminer si l&apos;URL de l&apos;onglet actif est celle à laquelle le CSS peut être appliqué :</p>

<pre class="brush: js">function protocolIsApplicable(url) {
 var anchor =  document.createElement(&apos;a&apos;);
 anchor.href = url;
 return APPLICABLE_PROTOCOLS.includes(anchor.protocol);
}
</pre>

<p>Ensuite, si l&apos;exemple peut agir sur l&apos;onglet, <code>initializePageAction()</code> définit l&apos;icône  <code>pageAction</code> (barre de navigation) et le titre de l&apos;onglet pour utiliser les versions ‘off’ avant de rendre la <code>pageAction</code> visible :</p>

<pre class="brush: js">function initializePageAction(tab) {

 if (protocolIsApplicable(tab.url)) {
   browser.pageAction.setIcon({tabId: tab.id, path: &quot;icons/off.svg&quot;});
   browser.pageAction.setTitle({tabId: tab.id, title: TITLE_APPLY});
   browser.pageAction.show(tab.id);
 }
}
</pre>

<p>Maintenant, un écouteur sur <code>geAction.onClicked</code> attend que l&apos;icône pageAction soit cliqué et appelle <code>toggleCSS</code> quand il l&apos;est.</p>

<pre class="brush: js">browser.pageAction.onClicked.addListener(toggleCSS);</pre>

<p><code>toggleCSS()</code> obtient le titre de la <code>pageAction</code>  puis prend l&apos;action décrite :</p>

<ul>
 <li><strong>Pour &quot;Appliquer CSS”:</strong>

  <ul>
   <li>Basculer l&apos;icône <code>pageAction</code> et le titre dans les versions “supprimer”.</li>
   <li>Applique le CSS en utilisant <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS"><code>tabs.insertCSS</code></a>.</li>
  </ul>
 </li>
 <li><strong>Pour “Supprimer CSS”:</strong>
  <ul>
   <li>Basculer l&apos;icône <code>pageAction</code> et le titre dans les versions “apply”.</li>
   <li>Supprime le CSS en utilisant <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS"><code>tabs.removeCSS</code></a>.</li>
  </ul>
 </li>
</ul>

<pre class="brush: js">function toggleCSS(tab) {


 function gotTitle(title) {

    if (title === TITLE_APPLY) {
     browser.pageAction.setIcon({tabId: tab.id, path: &quot;icons/on.svg&quot;});
     browser.pageAction.setTitle({tabId: tab.id, title: TITLE_REMOVE});
     browser.tabs.insertCSS({code: CSS});
    } else {
     browser.pageAction.setIcon({tabId: tab.id, path: &quot;icons/off.svg&quot;});
     browser.pageAction.setTitle({tabId: tab.id, title: TITLE_APPLY});
     browser.tabs.removeCSS({code: CSS});
    }
 }

 var gettingTitle = browser.pageAction.getTitle({tabId: tab.id});

 gettingTitle.then(gotTitle);
}
</pre>

<p>Enfin, pour s&apos;assurer que <code>pageAction</code> est valide après chaque mise à jour de l&apos;onglet, un écouteur sur <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/onUpdated" title="C&apos;est déclenché lorsqu&apos;un onglet est mis à jour."><code>tabs.onUpdated</code></a> appelle  <code>initializePageAction()</code> chaque fois que l&apos;onglet est mis à jour pour vérifier que l&apos;onglet utilise toujours un protocole auquel le CSS peut être appliqué.</p>

<pre class="brush: js">browser.tabs.onUpdated.addListener((id, changeInfo, tab) =&gt; {

 initializePageAction(tab);
});
</pre>

<h2 id="Quelques_autres_capacités_intéressantes">Quelques autres capacités intéressantes</h2>

<p>Il existe deux autres fonctionnalités de l&apos;API Tabs qui ne rentrent pas dans l&apos;une des sections précédentes :</p>

<ul>
 <li>capturez le contenu de l&apos;onglet visible avec <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/captureVisibleTab"><code>tabs.captureVisibleTab</code></a>.</li>
 <li>détecter la langue principale du contenu dans un onglet en utilisant  <a href="/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs/detectLanguage"><code>tabs.detectLanguage</code></a>, que vous pourriez utiliser, par exemple, pour faire correspondre la langue de l&apos;interface utilisateur de votre extension avec celle de la page dans laquelle elle s&apos;exécute.</li>
</ul>

<h2 id="Apprendre_encore_plus">Apprendre encore plus</h2>

<p>Si vous voulez en savoir plus sur l&apos;API Tabs, consultez le :</p>

<ul>
 <li><a href="/fr/Add-ons/WebExtensions/API/tabs">Tabs API reference.</a></li>
 <li><a href="/fr/Add-ons/WebExtensions/Examples">example extensions</a>, car beaucoup d&apos;entre eux utilisent l&apos;API Tabs.</li>
</ul>
