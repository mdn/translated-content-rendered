---
title: Créer l'élément Canvas et l'afficher
slug: >-
  Games/Workflows/2D_Breakout_game_pure_JavaScript/creer_element_canvas_et_afficher
tags:
  - 2D
  - Canvas
  - Débutant
  - HTML
  - JavaScript
  - Jeux
  - Tutoriel
translation_of: >-
  Games/Tutorials/2D_Breakout_game_pure_JavaScript/Create_the_Canvas_and_draw_on_it
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Introduction</summary>
            <ol>
              <li><a href="/fr/docs/Games/Introduction">Introduction</a></li>
              <li><a href="/fr/docs/Games/Anatomy">Anatomie d&apos;un jeu vidéo</a></li>
              <li><a href="/fr/docs/Games/Examples">Exemples</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>API pour le développement de jeux</summary>
            <ol>
              <li><a href="/fr/docs/Web/API/Canvas_API">Canvas</a></li>
              <li><a href="/fr/docs/Web/CSS">CSS</a></li>
              <li><a href="/fr/docs/Web/Apps/Fundamentals/User_notifications/Full_screen_api">Full Screen (plein écran)</a></li>
              <li><a href="/fr/docs/Web/API/Gamepad_API">Gamepad (manette)</a></li>
              <li><a href="/fr/docs/Web/API/IndexedDB_API">IndexedDB</a></li>
              <li><a href="/fr/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="/fr/docs/Web/API/Pointer_Lock_API">Pointer Lock (verrou de pointeur)</a></li>
              <li><a href="/fr/docs/Web/SVG">SVG</a></li>
              <li><a href="/fr/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">Typed Arrays (tableaux typés)</a></li>
              <li><a href="/fr/docs/Web/API/Web_Audio_API">Web Audio</a></li>
              <li><a href="/fr/docs/Web/API/WebGL_API">WebGL</a></li>
              <li><a href="/fr/docs/Web/API/WebRTC_API">WebRTC</a></li>
              <li><a href="/fr/docs/Web/API/WebSockets_API">WebSockets</a></li>
              <li><a href="/fr/docs/Web/API/WebVR_API">WebVR (réalité virtuelle)</a></li>
              <li><a href="/fr/docs/Web/API/Web_Workers_API">Web Workers</a></li>
              <li><a href="/fr/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Techniques</summary>
            <ol>
              <li><a href="/fr/docs/Games/Techniques/Async_scripts">Utiliser des scripts asynchrones pour asm.js</a></li>
              <li><a href="/fr/docs/Web/Apps/Developing/Optimizing_startup_performance">Optimiser les performances de démarrage</a></li>
              <li><a href="/fr/docs/Games/Techniques/WebRTC_data_channels">Utiliser WebRTC - canaux de données pair-à-pair</a></li>
              <li><a href="/fr/docs/Games/Techniques/Efficient_animation_for_web_games">Animation efficace pour un jeu internet</a></li>
              <li><a href="/fr/docs/Games/Techniques/Audio_for_Web_Games">Audio pour les jeux web</a></li>
              <li><a href="/fr/docs/Games/Techniques/2D_collision_detection">Détection de collision 2D</a></li>
              <li><a href="/fr/docs/Games/Techniques/Tilemaps">Carreaux et carrelages</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Jeux 3D sur le Web</summary>
            <ol>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web">Aperçu des jeux 3D sur le Web</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/Basic_theory">Théorie de base sur la 3D</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_A-Frame">Construire une démo avec A-Frame</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Babylon.js">Construire une démo avec Babylon.js</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_PlayCanvas">Construire une démo avec PlayCanvas</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Three.js">Construire une démo avec Three.js</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_on_the_web/WebVR">WebVR (réalité virtuelle)</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_collision_detection">Détection de collision en 3D</a></li>
              <li><a href="/fr/docs/Games/Techniques/3D_collision_detection/Bounding_volume_collision_detection_with_THREE.js">Détection de collision de volumes avec THREE.js</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Mise en place des contrôle du jeu</summary>
            <ol>
              <li><a href="/fr/docs/Games/Techniques/Control_mechanisms">Aperçu des mécanismes de contrôle du jeu</a></li>
              <li><a href="/fr/docs/Games/Techniques/Control_mechanisms/Mobile_touch">Commandes tactiles mobiles</a></li>
              <li><a href="/fr/docs/Games/Techniques/Control_mechanisms/Desktop_with_mouse_and_keyboard">Commandes à la souris et au clavier</a></li>
              <li><a href="/fr/docs/Games/Techniques/Control_mechanisms/Desktop_with_gamepad">Commandes à la manette</a></li>
              <li><a href="/fr/docs/Games/Techniques/Control_mechanisms/Other">Contrôles non conventionnels</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Tutoriels</summary>
            <ol>
              <li><a href="/fr/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript">Jeu de casse-briques 2D avec du pur JavaScript</a></li>
              <li><a href="/fr/docs/Games/Tutorials/2D_breakout_game_Phaser">Jeu de casse-tête 2D avec Phaser</a></li>
              <li><a href="/fr/docs/Games/Tutorials/HTML5_Gamedev_Phaser_Device_Orientation">Jeu de labyrinthe 2D avec orientation du périphérique</a></li>
              <li><a href="https://mozdevs.github.io/html5-games-workshop/en/guides/platformer/start-here/">Jeu de plateforme 2D avec Phaser</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Publication de jeux</summary>
            <ol>
              <li><a href="/fr/docs/Games/Publishing_games">Aperçu des outils de publication des jeux</a></li>
              <li><a href="/fr/docs/Games/Publishing_games/Game_distribution">Distribution des jeux</a></li>
              <li><a href="/fr/docs/Games/Publishing_games/Game_promotion">Promotion des jeux</a></li>
              <li><a href="/fr/docs/Games/Publishing_games/Game_monetization">Monétisation des jeux</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section></div>

<div></div>

<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript/Move_the_ball" class="button">Suivant  »</a></p>
</div>

<div class="summary">
<p>C&apos;est la <strong>1<sup>ère</sup> étape sur</strong> 10 de ce <a href="https://developer.mozilla.org/fr/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript">tutoriel Gamedev Canvas</a>. Vous pouvez retrouver le code source de cette leçon sur <a href="https://github.com/end3r/Gamedev-Canvas-workshop/blob/gh-pages/lesson01.html">Gamedev-Canvas-workshop/lesson1.html</a>.</p>
</div>

<p><span class="seoSummary">Avant d&apos;écrire les fonctionnalités de notre jeu, nous devons créer une structure où le jeu sera rendu. C&apos;est possible en utilisant HTML et l&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a>.</span></p>

<h2 id="La_page_HTML_du_jeu">La page HTML du jeu</h2>

<p>La structure de la page HTML est vraiment simple, car tout le jeu sera contenu dans l&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a>. Avec votre éditeur de texte préféré, créez un nouveau fichier HTML, sauvegardez-le sous le nom <code>index.html</code>, et ajoutez-y le code suivant :</p>

<pre class="brush: html notranslate">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;Gamedev Canvas Workshop&lt;/title&gt;
    &lt;style&gt;
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id=&quot;myCanvas&quot; width=&quot;480&quot; height=&quot;320&quot;&gt;&lt;/canvas&gt;

&lt;script&gt;
	// JavaScript code goes here
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>

<p>Dans l&apos;en-tête, nous avons défini l&apos;encodage des caractères (<code>charset</code>), le titre  <a href="/fr/docs/Web/HTML/Element/title" title="L&apos;élément &lt;title&gt; définit le titre du document (qui est affiché dans la barre de titre du navigateur ou dans l&apos;onglet de la page). Cet élément ne peut contenir que du texte, les balises qu&apos;il contiendrait seraient ignorées."><code>&lt;title&gt;</code></a> et quelques règles CSS très simples. Le corps contient les éléments <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a> et <a href="/fr/docs/Web/HTML/Element/script" title="L&apos;élément HTML &lt;script&gt; est utilisé pour intégrer ou faire référence à un script exécutable. Cela fait généralement référence à du code JavaScript mais ce peut également être un autre type de script (par exemple WebGL)."><code>&lt;script&gt;</code></a>. L&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a> contiendra le rendu du jeu et l&apos;élément <a href="/fr/docs/Web/HTML/Element/script" title="L&apos;élément HTML &lt;script&gt; est utilisé pour intégrer ou faire référence à un script exécutable. Cela fait généralement référence à du code JavaScript mais ce peut également être un autre type de script (par exemple WebGL)."><code>&lt;script&gt;</code></a> l&apos;emplacement du code JavaScript pour contrôler le jeu. L&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a> a un identifiant nommé <code>myCanvas</code> qui permettra de le retrouver facilement en JavaScript, et possède des dimensions de 480 pixels de longueur et 320 pixels de hauteur. Tout le code JavaScript que nous allons écrire dans ce tutoriel sera contenu entre la balise ouvrante <code>&lt;script&gt;</code> et la balise fermante <code>&lt;/script&gt;</code>.</p>

<h2 id="Les_bases_de_Canvas">Les bases de Canvas</h2>

<p>Pour utiliser l&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a>, pour le rendu graphique de notre jeu, nous devons d&apos;abord en donner la référence à JavaScript. Ajoutez le code après la balise ouvrante <code>&lt;script&gt;</code>.</p>

<pre class="brush: js notranslate">var canvas = document.getElementById(&quot;myCanvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);</pre>

<p>Ici nous avons enregistré la référence à l&apos;élément <a href="/fr/docs/Web/HTML/Element/canvas" title="L&apos;élément &lt;canvas&gt; permet de modifier une zone graphique via un script (habituellement en JavaScript ou grâce à WebGL). Il peut par exemple être utilisé afin de dessiner des graphiques, manipuler des images ou jouer des animations."><code>&lt;canvas&gt;</code></a> dans une variable nommée <code>canvas</code>. <span id="result_box" lang="fr"><span>Ensuite, nous créons la variable ctx pour stocker le contexte de rendu 2D </span></span> — <span lang="fr"><span>l&apos;outil réel que nous pouvons utiliser pour peindre sur Canvas.</span></span></p>

<p><span id="result_box" lang="fr"><span>Voyons un exemple de code qui imprime un carré rouge sur le canevas.</span> <span>Ajoutez ceci en dessous de vos lignes précédentes de JavaScript, puis chargez votre <code>index.html</code> dans un navigateur pour l&apos;essayer.</span></span></p>

<pre class="brush: js notranslate">ctx.beginPath();
ctx.rect(20, 40, 50, 50);
ctx.fillStyle = &quot;#FF0000&quot;;
ctx.fill();
ctx.closePath();</pre>

<p>Toutes les instructions sont entre les méthodes  <a href="/fr/docs/Web/API/CanvasRenderingContext2D/beginPath"><code>beginPath()</code></a> et <a href="/fr/docs/Web/API/CanvasRenderingContext2D/closePath"><code>closePath()</code></a> . Nous définissons un rectangle en utilisant <a href="/fr/docs/Web/API/CanvasRenderingContext2D/rect"><code>rect()</code></a> : <span id="result_box" lang="fr"><span>les deux premières valeurs spécifient les coordonnées du coin supérieur gauche du rectangle tandis que les deux suivantes spécifient la largeur et la hauteur du rectangle. </span></span> <span id="result_box" lang="fr"><span>Dans notre cas, le rectangle est peint à 20 pixels du côté gauche de l&apos;écran et à 40 pixels du haut, et a une largeur de 50 pixels et une hauteur de 50 pixels, ce qui en fait un carré parfait.</span></span> La propriété <a href="/fr/docs/Web/API/CanvasRenderingContext2D/fillStyle"><code>fillStyle</code></a> stocke une couleur qui sera utilisée par la méthode <a href="/fr/docs/Web/API/CanvasRenderingContext2D/fill"><code>fill()</code></a> pour peindre le carré en rouge.</p>

<p><span id="result_box" lang="fr"><span>Nous ne sommes pas limités aux rectangles, voici un code pour imprimer un cercle vert.</span> <span>Essayez d&apos;ajouter ceci au bas de votre JavaScript, puis sauvegardez et rafraîchissez :</span></span></p>

<pre class="brush: js notranslate">ctx.beginPath();
ctx.arc(240, 160, 20, 0, Math.PI*2, false);
ctx.fillStyle = &quot;green&quot;;
ctx.fill();
ctx.closePath();</pre>

<p><span id="result_box" lang="fr"><span>Comme nous pouvons le voir, nous utilisons à nouveau les méthodes </span></span> <a href="/fr/docs/Web/API/CanvasRenderingContext2D/beginPath"><code>beginPath()</code></a> <span lang="fr"><span> et </span></span> <a href="/fr/docs/Web/API/CanvasRenderingContext2D/closePath"><code>closePath()</code></a> <span lang="fr"> <span>.</span> <span>Entre elles, la partie la plus importante du code ci-dessus est la méthode</span></span> <a href="/fr/docs/Web/API/CanvasRenderingContext2D/arc"><code>arc()</code></a> <span lang="fr"><span>.</span> <span>Elle comporte six paramètres :</span></span></p>

<ul>
 <li>les coordonnées <code>x</code> et<code>y</code> du centre de l&apos;arc</li>
 <li>rayon de l&apos;arc</li>
 <li>l&apos;angle de départ et l&apos;angle de fin (pour finir de dessiner le cercle, en radiant)</li>
 <li>direction du dessin (<code>false</code><em>(faux)</em> pour le sens des aiguilles d&apos;une montre, la valeur par défaut, ou <code>true</code> (vrai) pour le sens inverse). Ce dernier paramètre est facultatif.</li>
</ul>

<p>La propriété <a href="/fr/docs/Web/API/CanvasRenderingContext2D/fillStyle"><code>fillStyle</code></a> semble différente par rapport à l&apos;exemple précédent. C&apos;est parce que, <span id="result_box" lang="fr"><span>tout comme avec CSS, la couleur peut être spécifiée sous la forme d&apos;une valeur hexadécimale, d&apos;un mot-clé, de la fonction <code>rgba ()</code> <em>(RVBA)</em> ou de toute autre méthode disponible pour les couleurs.</span></span></p>

<p><span id="result_box" lang="fr"><span>Au lieu d&apos;utiliser</span></span> <a href="/fr/docs/Web/API/CanvasRenderingContext2D/fillStyle"><code>fillStyle</code></a> <span lang="fr"><span> et de remplir les formes avec des couleurs, nous pouvons utiliser</span></span> <a href="/fr/docs/Web/API/CanvasRenderingContext2D/stroke"><code>stroke()</code></a> <span lang="fr"><span> pour ne colorer que le contour exterieur.</span> <span>Essayez d&apos;ajouter ce code à votre JavaScript aussi :</span></span></p>

<pre class="brush: js notranslate">ctx.beginPath();
ctx.rect(160, 10, 100, 40);
ctx.strokeStyle = &quot;rgba(0, 0, 255, 0.5)&quot;;
ctx.stroke();
ctx.closePath();</pre>

<p><span id="result_box" lang="fr"><span>Le code ci-dessus affiche un rectangle vide avec des traits bleus.</span> <span>Grâce au canal alpha de la fonction rgba (), la couleur bleue est semi transparente.</span></span></p>

<h2 id="Comparez_votre_code">Comparez votre code</h2>

<p>Voici tout le code source de cette première leçon, fonctionnant avec JSFiddle :</p>

<p><iframe frameborder="0" height="370" src="https://jsfiddle.net/end3r/x62h15e2/embedded/" width="100%"></iframe></p>

<div class="note notecard">
<p><strong>Exercice </strong>: essayez de changer la taille et la couleur des formes géométriques.</p>
</div>

<h2 id="Prochaines_étapes">Prochaines étapes</h2>

<p><span id="result_box" lang="fr"><span>Maintenant, nous avons mis en place le code HTML de base et avons appris un peu sur Canvas, passons au deuxième chapitre et étudions comment</span></span> <a href="https://developer.mozilla.org/fr/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript/Move_the_ball">Déplacer une balle sur notre jeu</a>.</p>

<div class="prevnext" style="text-align: right;">
    <p><a href="/fr/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript" style="float: left;" class="button">« Précédent</a><a href="/fr/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript/Move_the_ball" class="button">Suivant  »</a></p>
</div>
