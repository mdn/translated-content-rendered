---
title: Array.prototype.map()
slug: Web/JavaScript/Referencia/Objectes_globals/Array/map
translation_of: Web/JavaScript/Reference/Global_Objects/Array/map
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals">Objectes estandards</a></strong></li><li><strong><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array"><code>Array</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Propietats</strong></a><ol><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/length"><code>Array.prototype.length</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/prototype"><code>Array.prototype</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@unscopables"><code>Array.prototype[@@unscopables]</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@unscopables$translate">[Traduir]</a></li></ol></li><li data-default-state="open"><a href="#"><strong>Mètodes</strong></a><ol><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/from$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/isArray"><code>Array.isArray()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/observe"><code>Array.observe()</code></a></s></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/of"><code>Array.of()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"><code>Array.prototype.concat()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/concat$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin"><code>Array.prototype.copyWithin()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/entries"><code>Array.prototype.entries()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/every"><code>Array.prototype.every()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/fill"><code>Array.prototype.fill()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/filter"><code>Array.prototype.filter()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/find"><code>Array.prototype.find()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/findIndex"><code>Array.prototype.findIndex()</code></a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"><code>Array.prototype.flat()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/flat$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap"><code>Array.prototype.flatMap()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/forEach"><code>Array.prototype.forEach()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/includes"><code>Array.prototype.includes()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/indexOf"><code>Array.prototype.indexOf()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/join"><code>Array.prototype.join()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/keys"><code>Array.prototype.keys()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/lastIndexOf"><code>Array.prototype.lastIndexOf()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/map"><code>Array.prototype.map()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/pop"><code>Array.prototype.pop()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/push"><code>Array.prototype.push()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/Reduce"><code>Array.prototype.reduce()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight"><code>Array.prototype.reduceRight()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/reverse"><code>Array.prototype.reverse()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/shift"><code>Array.prototype.shift()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/slice"><code>Array.prototype.slice()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/some"><code>Array.prototype.some()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code>Array.prototype.sort()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/sort$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/splice"><code>Array.prototype.splice()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString"><code>Array.prototype.toLocaleString()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toSource"><code>Array.prototype.toSource()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toSource$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toString"><code>Array.prototype.toString()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/toString$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift"><code>Array.prototype.unshift()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/values"><code>Array.prototype.values()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/values$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator"><code>Array.prototype[@@iterator]()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/unobserve"><code>Array.unobserve()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/unobserve$translate">[Traduir]</a></s></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@species"><code>get Array[@@species]</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Array/@@species$translate">[Traduir]</a></li></ol></li><li><strong>Herència</strong></li><li><strong><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Propietats</strong></a><ol><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/arity"><code>Function.arity</code></a></s></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/prototype"><code>Function.prototype</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/prototype$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a></li></ol></li><li><a href="#"><strong>Mètodes</strong></a><ol><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/apply$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/bind$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/call$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/isGenerator"><code>Function.prototype.isGenerator()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/isGenerator$translate">[Traduir]</a></s></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Function/toString$translate">[Traduir]</a></li></ol></li><li><strong><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Propietats</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/count"><code>Object.prototype.__count__</code></a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/noSuchMethod"><code>Object.prototype.__noSuchMethod__</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/noSuchMethod$translate">[Traduir]</a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/Parent"><code>Object.prototype.__parent__</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/Parent$translate">[Traduir]</a></s></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/proto$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor$translate">[Traduir]</a></li></ol></li><li><a href="#"><strong>Mètodes</strong></a><ol><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource$translate">[Traduir]</a></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/toString$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/unwatch"><code>Object.prototype.unwatch()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/unwatch$translate">[Traduir]</a></s></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf$translate">[Traduir]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/watch"><code>Object.prototype.watch()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/watch$translate">[Traduir]</a></s></li><li><a href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a> <a style="opacity: 0.5;" href="/ca/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf$translate">[Traduir]</a></li></ol></li></ol></section></div>

<h2 id="Summary" name="Summary">Resum</h2>

<p>El mètode <code><strong>map() </strong></code>crea una nova array amb els resultats de la crida a la funció proporcionada un cop per cada element.</p>

<h2 id="Syntax" name="Syntax">Sintaxi</h2>

<pre class="syntaxbox"><code><var>arr</var>.map(<var>callback</var>[, <var>thisArg</var>])</code></pre>

<h3 id="Parameters" name="Parameters">Paràmetres</h3>

<dl>
 <dt><code>callback</code></dt>
 <dd>Funció que produeix un element de la nova array, agafant tres arguments:</dd>
 <dd>
 <dl>
  <dt><code>currentValue</code></dt>
  <dd>El valor actual que és processat en l&apos;array.</dd>
  <dt><code>index</code></dt>
  <dd>L&apos;índex de l&apos;element actual que és processat en l&apos;array.</dd>
  <dt><code>array</code></dt>
  <dd>L&apos;array sobre la qual es crida <code>map.</code></dd>
 </dl>
 </dd>
 <dt><code>thisArg</code></dt>
 <dd>Opcional. Valor a usar com a <code>this</code> quan s&apos;executa la funció.</dd>
</dl>

<h2 id="Description" name="Description">Descripció</h2>

<p><code>map</code> crida a la funció passada <code>callback</code> <strong>un cop per cada element</strong> de l&apos;array, en ordre, i construeix un nou array a partir dels resultats. Només s&apos;invoca <code>callback</code> per a posicions de l&apos;array que tinguin valors assignats, incloent <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>. No es crida per a elements no trobats (és a dir, elements que no han rebut mai un valor o bé elements que s&apos;han eliminat).</p>

<p>S&apos;invoca <code>callback</code> amb tres arguments: el valor de l&apos;element, la posició de l&apos;element a l&apos;array, i l&apos;array que s&apos;està recorrent.</p>

<p>Si s&apos;ha proporcionat el paràmetre <code>thisArg</code> a l&apos;hora de cridar <code>map</code>, aquest es passarà a la funció <code>callback</code> com a valor per a <code>this</code> dins la funció. En qualsevol altre cas el valor utilitzat com a <code>this</code> serà <a href="/ca/docs/Web/JavaScript/Referencia/Global_Objects/undefined" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>undefined</code></a>. El valor finalment observable des de <code>callback</code> es determinarà d&apos;acord a <a href="/en-US/docs/Web/JavaScript/Reference/Operators/this">les regles usuals per a determinar el valor de <code>this</code> dins una funció</a>.</p>

<p><code>map</code> no canvia l&apos;array des del que es crida (tot i que <code>callback</code>, si s&apos;invoca, pot fer-ho).</p>

<p>El rang d&apos;elements processat per <code>map</code> s&apos;estableix abans de la primera invocació de <code>callback</code>. Els elements que s&apos;hagin afegit a l&apos;array després d&apos;haver cridat <code>map</code> no seran visitats per <code>callback</code>. Si es canvient els elements existents, o s&apos;eliminen, el valor passat a <code>callback</code> serà el valor que tinguessin quan es va invocar <code>map</code>; els elements que s&apos;han eliminat no es visitaran.</p>

<h2 id="Examples" name="Examples">Exemples</h2>

<h3 id="Example:_Mapping_an_array_of_numbers_to_an_array_of_square_roots" name="Example:_Mapping_an_array_of_numbers_to_an_array_of_square_roots">Exemple: Generar un array de rels quadrades a partir d&apos;un array de nombres</h3>

<p>El codi següent agafa un array de nombres i crea un nou array que contindrà les rels quadrades dels nombres del primer array.</p>

<pre class="brush: js">var nombres = [1, 4, 9];
var rels = nombres.map(Math.sqrt);
// rels ara val [1, 2, 3], nombres encara val [1, 4, 9]
</pre>

<h3 id="Example:_Mapping_an_array_of_numbers_to_an_array_of_square_roots" name="Example:_Mapping_an_array_of_numbers_to_an_array_of_square_roots">Exemple: Utilitzar map per a canviar el format dels objectes d&apos;un array</h3>

<p>El codi següent agafa un array d&apos;objectes i crea un nou array que conté els nous objectes, que tenen un format diferent.</p>

<pre class="brush: js">var kvArray = [{key:1, value:10}, {key:2, value:20}, {key:3, value: 30}];
var reformattedArray = kvArray.map(function(obj){
   var rObj = {};
   rObj[obj.key] = obj.value;
   return rObj;
});
// reformattedArray ara val [{1:10}, {2:20}, {3:30}],
// kvArray encara val [{key:1, value:10}, {key:2, value:20}, {key:3, value: 30}]
</pre>

<h3 id="Example:_Mapping_an_array_of_numbers_using_a_function_containing_an_argument" name="Example:_Mapping_an_array_of_numbers_using_a_function_containing_an_argument">Exemple: Assignar els nombres d&apos;un array al resultat d&apos;una funció que espera un argument</h3>

<p>El codi següent mostra com funciona <code>map</code> quan s&apos;utilitza una funció que espera un argument. L&apos;argument rebrà automàticament el valor de cada element de l&apos;array mentre <code>map</code> recorre tot l&apos;array original.</p>

<pre class="brush: js">var nombres = [1, 4, 9];
var dobles = nombres.map(function(num) {
  return num * 2;
});
// dobles ara val [2, 8, 18]. nombres encara val [1, 4, 9]
</pre>

<h3 id="Example:_using_map_generically" name="Example:_using_map_generically">Exemple: utilitzar <code>map</code> de forma genèrica</h3>

<p>Aquest exemple mostra com utilitzar <code>map</code> en un <a href="/ca/docs/Web/JavaScript/Referencia/Global_Objects/String" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>String</code></a> per a obtindre un array de bytes que representin el valor dels caràcters codificats amb ASCII:</p>

<pre class="brush: js">var map = Array.prototype.map;
var a = map.call(&apos;Hello World&apos;, function(x) { return x.charCodeAt(0); });
// a ara val [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]
</pre>

<h3 id="Example:_using_map_generically_querySelectorAll" name="Example:_using_map_generically_querySelectorAll">Exemple: Utilitzar <code>map</code> de forma genèrica amb <code>querySelectorAll</code></h3>

<p>Aquest exemple mostra com iterar sobre una col·lecció d&apos;objectes obtinguts mitjançant <code>querySelectorAll</code>. En aquest cas obtenim totes les opcions seleccionades de la web:</p>

<pre class="brush: js">var elems = document.querySelectorAll(&apos;select option:checked&apos;);
var values = Array.prototype.map.call(elems, function(obj) {
  return obj.value;
});
</pre>

<h3 id="Exemple_Utilitzar_map_per_a_invertir_un_string">Exemple: Utilitzar <code>map</code> per a invertir un string</h3>

<pre class="brush: js">var str = &apos;12345&apos;;
Array.prototype.map.call(str, function(x) {
  return x;
}).reverse().join(&apos;&apos;);

// Sortida: &apos;54321&apos;
// Bonus: utilitzeu &apos;===&apos; per a comprovar si l&apos;string original era un palindrom
</pre>

<h3 id="Example:_Tricky_use_case" name="Example:_Tricky_use_case">Exemple: Un cas d&apos;ús delicat</h3>

<p><a href="http://www.wirfs-brock.com/allen/posts/166">(inspirat per aquesta entrada de blog)</a></p>

<p>És comú utilitzar la funció <em>callback</em> amb un sol argument (l&apos;element corresponent a la volta del bucle de l&apos;array que s&apos;està recorrent). Algunes funcions també solen requerir un sol argument, tot i que també poden acceptar arguements adicionals de forma opcional. Això pot produïr comportaments confussos.</p>

<pre class="brush: js">// Considerem:
[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(parseInt);
// Quan hom esperaria [1, 2, 3]
// El resultat real serà [1, NaN, NaN]

// parseInt s&apos;utilitza normalment amb un argument, però admet dos.
// El primer és una expressió mentre que el segon és el mòdul.
// Array.prototype.map passa 3 arguments a la funció callback:
// l&apos;element, la posició de l&apos;element i l&apos;array
// parseInt ignorarà el tercer argument, però no el segon,
// provocant la confussió. Vegeu l&apos;entrada del blog per a més detalls

function returnInt(element) {
  return parseInt(element, 10);
}

[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(returnInt); // [1, 2, 3]
// Actual result is an array of numbers (as expected)

// A simpler way to achieve the above, while avoiding the &quot;gotcha&quot;:
[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(Number); // [1, 2, 3]
</pre>

<h2 id="Polyfill" name="Polyfill">Polyfill</h2>

<p><code>map</code> va ser afegit a l&apos;standard ECMA-262 a la cinquena edició; degut a això aquest pot no estar present en algunes implementacions de l&apos;standard. Es pot solventar aquest problema insertant el codi següent al principi dels scripts que el requereixin, permetent que implementacions on <code>map</code> no està disponible de forma nativa en puguin fer ús. Aquest algoritme és exactament l&apos;especificat per l&apos;ECMA-262, 5a edició, assument que <a href="/ca/docs/Web/JavaScript/Referencia/Global_Objects/Object" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>Object</code></a>, <a href="/ca/docs/Web/JavaScript/Referencia/Global_Objects/TypeError" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>TypeError</code></a>, i <a href="/ca/docs/Web/JavaScript/Referencia/Global_Objects/Array" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>Array</code></a> tenen els seus valors originals i que <code>callback.call</code> s&apos;evalua al valor original de <code><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Function/call" title="Aquesta pàgina encara no ha estat traduïda. Si us plau considera contribuir-hi!"><code>Function.prototype.call</code></a></code>.</p>

<pre class="brush: js">// Production steps of ECMA-262, Edition 5, 15.4.4.19
// Reference: http://es5.github.io/#x15.4.4.19
if (!Array.prototype.map) {

  Array.prototype.map = function(callback, thisArg) {

    var T, A, k;

    if (this == null) {
      throw new TypeError(&apos; this is null or not defined&apos;);
    }

    // 1. Assignem a O el resultat de cridar a ToObject passant-li el valor de |this|
    //    com a argument.
    var O = Object(this);

    // 2. lenValue és el resultat de cridar el mètode intern
    //    Get de O amb l&apos;argument &quot;length&quot;.
    // 3. Assignem a len el valor d&apos;executar ToUint32(lenValue).
    var len = O.length &gt;&gt;&gt; 0;

    // 4. Si IsCallable(callback) és false, llencem l&apos;excepció TypeError.
    // Vegeu: http://es5.github.com/#x9.11
    if (typeof callback !== &apos;function&apos;) {
      throw new TypeError(callback + &apos; is not a function&apos;);
    }

    // 5. Si s&apos;ha passat l&apos;argument thisArg, l&apos;assigment a T; en cas contrari T valdrà undefined.
    if (arguments.length &gt; 1) {
      T = thisArg;
    }

    // 6. Assignem a A el nou array creat per l&apos;expressió new Array(len)
    //    on Array és el constructor standard de JavaScript amb aquest nom i
    //    len és el valor de len.
    A = new Array(len);

    // 7. Assignem 0 a k
    k = 0;

    // 8. Repetim mentre k &lt; len
    while (k &lt; len) {

      var kValue, mappedValue;

      // a. Assignem ToString(k) a Pk.
      //   Això és implicit per a operands al cantó esquerra de l&apos;operador <code>in</code>
      // b. Assignem a kPresent el resultat de cridar el mètode intern HasProperty
      //    de O amb l&apos;argument Pk.
      //   Es pot combinar aquest pas amb c
      // c. Si kPresent és true, llavors
      if (k in O) {

        // i. Assignem a kValue el resultat de cridar el mètode intern
        //    Get de O amb l&apos;argument Pk.
        kValue = O[k];

        // ii. Assignem a mappedValue el resultat de cridar el mètode intern Call
        //     de callback amb T com a valor de this i una llista d&apos;arguments
        //     que conté kValue, k, i O.
        mappedValue = callback.call(T, kValue, k, O);

        // iii. Cridem el mètode intern DefineOwnProperty de A amb els arguments
        // Pk, Property Descriptor
        // { Value: mappedValue,
        //   Writable: true,
        //   Enumerable: true,
        //   Configurable: true },
        // i false.

        // En navegadors que suportin Object.defineProperty, utilitzeu el següent:
        // Object.defineProperty(A, k, {
        //   value: mappedValue,
        //   writable: true,
        //   enumerable: true,
        //   configurable: true
        // });

        // Per a un millor suport de navegadors, utilitzeu el següent:
        A[k] = mappedValue;
      }
      // d. incrementem k en 1.
      k++;
    }

    // 9. retornem A
    return A;
  };
}
</pre>

<h2 id="Specifications" name="Specifications">Especificacions</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Especificació</th>
   <th scope="col">Estat</th>
   <th scope="col">Comentaris</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.19" class="external" hreflang="en">ECMAScript 5.1 (ECMA-262)<br><small lang="ca">The definition of &apos;Array.prototype.map&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td>Definició inicial. Implementat a JavaScript 1.6.</td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.map" class="external" hreflang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="ca">The definition of &apos;Array.prototype.map&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Compatibilitat amb navegadors</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/ca/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Suport bàsic</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><a href="/en-US/Firefox/Releases/1.5" title="Released on 2005-11-25.">1.5</a> (1.8)</td>
   <td>9</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Android</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Suport bàsic</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td>1.0 (1.8)</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="See_also" name="See_also">Vegeu també</h2>

<ul>
 <li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/forEach"><code>Array.prototype.forEach()</code></a></li>
 <li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Map"><code>Map</code></a> object</li>
 <li><a href="/ca/docs/Web/JavaScript/Referencia/Objectes_globals/Array/from"><code>Array.from()</code></a></li>
</ul>
