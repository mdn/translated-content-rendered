---
title: SubtleCrypto.digest()
slug: Web/HTTP/Headers/Digest
tags:
  - API
  - Encriptación
  - Referencia
  - SubtleCrypto
  - Web Crypto API
  - encrypt
translation_of: Web/HTTP/Headers/Digest
original_slug: Web/API/SubtleCrypto/encrypt
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/es/docs/Web/API/Web_Crypto_API">Web Crypto API</a></strong></li><li><strong><a href="/es/docs/Web/API/SubtleCrypto"><code>SubtleCrypto</code></a></strong></li><li class="toggle"><details open><summary>Métodos</summary><ol><li><a href="/es/docs/Web/API/SubtleCrypto/decrypt"><code>decrypt()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/decrypt$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/deriveBits"><code>deriveBits()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/deriveBits$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/deriveKey"><code>deriveKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/deriveKey$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/digest"><code>digest()</code></a></li><li><em><code>encrypt()</code></em></li><li><a href="/es/docs/Web/API/SubtleCrypto/exportKey"><code>exportKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/exportKey$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/generateKey"><code>generateKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/generateKey$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/importKey"><code>importKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/importKey$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/sign"><code>sign()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/sign$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/unwrapKey"><code>unwrapKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/unwrapKey$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/verify"><code>verify()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/verify$translate" style="opacity: 0.5;">[Traducir]</a></li><li><a href="/es/docs/Web/API/SubtleCrypto/wrapKey"><code>wrapKey()</code></a> <a href="/es/docs/Web/API/SubtleCrypto/wrapKey$translate" style="opacity: 0.5;">[Traducir]</a></li></ol></details></li><li class="toggle"><details open><summary>Páginas relacionadas a Web Crypto API</summary><ol><li><a href="/es/docs/Web/API/Crypto"><code>Crypto</code></a></li><li><a href="/es/docs/Web/API/CryptoKey"><code>CryptoKey</code></a></li><li><a href="/es/docs/Web/API/CryptoKeyPair"><code>CryptoKeyPair</code></a></li><li><a href="/es/docs/Web/API/RandomSource"><code>RandomSource</code></a></li><li><a href="/es/docs/Web/API/Window/crypto"><code>Window.crypto</code></a></li></ol></details></li></ol></section></div>

<p>El método <code><strong>digest()</strong></code> de la interfaz <a href="/es/docs/Web/API/SubtleCrypto"><code>SubtleCrypto</code></a> genera un digest de los datos proveidos. Un <a href="/es/docs/Web/API/Digest"><code>digest</code></a> es un valor corto de longitud fija derivado de alguna entrada de longitud variable. Los digest criptográficos deben mostrar resistencia a colisiones, lo que significa que es difícil encontrar dos entradas diferentes que tengan el mismo valor de digest.</p>

<p>Toma como argumento un identificador para el algoritmo digest a utilizar y los datos a codificar. Devuelve un <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" title="The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value."><code>Promise</code></a> que se completará con el digest.</p>

<h2 id="Sintaxis">Sintaxis</h2>

<pre class="syntaxbox notranslate">const digest = <em>crypto</em><code>.subtle.digest(<em>algorithm</em>, <em>data</em>)</code>;
</pre>

<h3 id="Parámetros">Parámetros</h3>

<ul>
 <li><em><code>algorithm</code></em> es un <a href="/es/docs/Web/API/DOMString"><code>DOMString</code></a> definiendo la función hash a utilizar. Los valores admitidos son:

  <ul>
   <li><code>SHA-1</code> (pero no debe utilizarse en aplicaciones criptográficas)</li>
   <li><code>SHA-256</code></li>
   <li><code>SHA-384</code></li>
   <li><code>SHA-512</code></li>
  </ul>
 </li>
 <li><em><code>data</code></em> es un <a href="/es/docs/Web/JavaScript/Referencia/Objetos_globales/ArrayBuffer"><code>ArrayBuffer</code></a> o <a href="/es/docs/Web/API/ArrayBufferView"><code>ArrayBufferView</code></a> que contiene los datos a ser digitalizados.</li>
</ul>

<h3 id="Valor_de_retorno">Valor de retorno</h3>

<ul>
 <li><code><em>digest</em></code> es un <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> que se completa con un <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> conteniendo el digest.</li>
</ul>

<h2 id="Algoritmos_soportados">Algoritmos soportados</h2>

<p>Los argoritmos digest, también conocidos como <a href="/en-US/docs/Glossary/Cryptographic_hash_function">funciones criptográficas hash</a>, transforman un bloque de datos arbitrariamente grande en una salida de tamaño fijo, normalmente mucho más corta que la entrada. Tienen una variedad de aplicaciones en criptografía.</p>

<h3 id="SHA-1">SHA-1</h3>

<p>Este algoritmo se especifica en <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, sección 6.1, y produce una salida de 160 bits de largo.</p>

<div class="warning notecard">
<p><strong>Advertencia</strong>: Este algoritmo se considera ahora vulnerable y no debe utilizarse para aplicaciones criptográficas.</p>
</div>

<h3 id="SHA-256">SHA-256</h3>

<p>Este algoritmo se especifica en <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, sección 6.2, y produce una salida de 256 bits de largo.</p>

<h3 id="SHA-384">SHA-384</h3>

<p>Este algoritmo se especifica en <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, sección 6.5, y produce una salida de 384 bits de largo.</p>

<h3 id="SHA-512">SHA-512</h3>

<p>Este algoritmo se especifica en <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, sección 6.4, y produce una salida de 512 bits de largo.</p>

<div class="note notecard">
<p>Sugerencia: Si estás buscando aquí cómo crear un código de autenticación de mensajes &quot;keyed-hash&quot; (<a href="/en-US/docs/Glossary/HMAC">HMAC</a>), necesitas usar <a href="/en-US/docs/Web/API/SubtleCrypto/sign#HMAC">SubtleCrypto.sign()</a> en su lugar.</p>
</div>

<h2 id="Ejemplos">Ejemplos</h2>

<h3 id="Ejemplo_básico">Ejemplo básico</h3>

<p>Este ejemplo codifica un mensaje, luego calcula su digest SHA-256 y muestra la longitud del mismo:</p>

<pre class="brush: js notranslate">const text = &apos;An obscure body in the S-K System, your majesty. The inhabitants refer to it as the planet Earth.&apos;;

async function digestMessage(message) {
  const encoder = new TextEncoder();
  const data = encoder.encode(message);
  const hash = await crypto.subtle.digest(&apos;SHA-256&apos;, data);
  return hash;
}

const digestBuffer = await digestMessage(text);
console.log(digestBuffer.byteLength);
</pre>

<h3 id="Convirtiendo_un_digest_a_una_cadena_hexadecimal">Convirtiendo un digest a una cadena hexadecimal</h3>

<p>El resumen se devuelve como un <code>ArrayBuffer</code>, pero para la comparación y visualización los digests se representan a menudo como cadenas hexadecimales. Este ejemplo calcula un digest, y luego convierte el <code>ArrayBuffer</code> a un string hexadecimal:</p>

<pre class="brush: js notranslate">const text = &apos;An obscure body in the S-K System, your majesty. The inhabitants refer to it as the planet Earth.&apos;;

async function digestMessage(message) {
  const msgUint8 = new TextEncoder().encode(message);                           // encode as (utf-8) Uint8Array
  const hashBuffer = await crypto.subtle.digest(&apos;SHA-256&apos;, msgUint8);           // hash the message
  const hashArray = Array.from(new Uint8Array(hashBuffer));                     // convert buffer to byte array
  const hashHex = hashArray.map(b =&gt; b.toString(16).padStart(2, &apos;0&apos;)).join(&apos;&apos;); // convert bytes to hex string
  return hashHex;
}

const digestHex = await digestMessage(text);
console.log(digestHex);
</pre>

<h2 id="Especificaciones">Especificaciones</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Especificación</th>
   <th scope="col">Estado</th>
   <th scope="col">Comentario</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/WebCryptoAPI/#dfn-SubtleCrypto-method-digest" hreflang="en" lang="en">Web Cryptography API<br><small lang="es">La definición de &apos;SubtleCrypto.digest()&apos; en esta especificación.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>Definición inicial.</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilidad_del_navegador">Compatibilidad del navegador</h2>

<div class="hidden">La tabla de compatibilidad de esta página se genera a partir de datos estructurados. Si desea contribuir a los datos, por favor, revise <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> y envíenos un pull request.</div>

<div class="bc-data" id="bcd:api.SubtleCrypto.digest"></div>

<div class="note notecard">
<p>En Chrome 60, se añadió una característica que deshabilita crypto.subtle para conexiones no TLS.</p>
</div>

<h2 id="Ver_también">Ver también</h2>

<ul>
 <li><a href="https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features">Chromium especificación de origines seguro</a></li>
 <li><a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf" rel="noopener">FIPS 180-4</a> especifica la familia de algoritmos de digest SHA.</li>
</ul>
