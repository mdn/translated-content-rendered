---
title: Введение в контексты форматирования
slug: Web/CSS/CSS_Flow_Layout/Введение_в_контексты_форматирования
translation_of: Web/CSS/CSS_Flow_Layout/Intro_to_formatting_contexts
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/CSS">CSS</a></strong></li><li><strong><a href="/ru/docs/Web/CSS/Reference">CSS документация</a></strong></li><li><strong><a href="/ru/docs/Web/CSS/CSS_Flow_Layout">CSS Flow Layout</a></strong></li><li class="toggle"><details open><summary>Руководства</summary><ol><li><a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Block_and_Inline_Layout_in_Normal_Flow">Block and inline layout in normal flow</a> <a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Block_and_Inline_Layout_in_Normal_Flow$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Overflow">Flow Layout and Overflow</a> <a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Overflow$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes">Flow Layout and Writing Modes</a> <a href="/ru/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/CSS/CSS_Flow_Layout/In_Flow_and_Out_of_Flow">In Flow and Out of Flow</a> <a href="/ru/docs/Web/CSS/CSS_Flow_Layout/In_Flow_and_Out_of_Flow$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/CSS/CSS_Flow_Layout/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2_%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D1%8B_%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F">Введение в контексты форматирования</a></li></ol></details></li></ol></section></div>

<p class="summary"><span class="seoSummary">В этой статье представлена концепция контекстов форматирования (formatting context). Существует несколько типов контекстов форматирования, например, блочный контекст форматирования (block formatting context, BFC), строчный контекст форматирования (inline formatting context), флексовый контекст форматирования (flex formatting context). В статье даны основы того, как они себя ведут, и как вы можете использовать это поведение.</span></p>

<p>Всё на странице является частью <strong>контекста форматирования</strong> (formatting context), который представляет собой область, в которой происходит раскладка контента по определенным правилам. <strong>Блочный контекст форматирования</strong> (block formatting context, BFC) делает раскладку своих дочерних элементов в соответствии с правилами блочной раскладки, <strong>флексовый контекст форматирования</strong> (flex formatting context) раскладывает свои дочерние элементы как <a href="/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/Flex_Item">флекс-элементы</a> и т.д. Каждый контекст форматирования использует свои правила раскладки.</p>

<h2 id="Блочные_контексты_форматирования">Блочные контексты форматирования</h2>

<p>Самый внешний элемент в документе, который использует правила блочной раскладки, устанавливает первый или <strong>начальный блочный контекст форматирования</strong> (initial block formatting context). Это означает, что все элементы внутри элемента <code>&lt;html&gt;</code> раскладываются в соответствии с нормальным потоком, следуя правилам блочной и строчной раскладки. Элементы, участвующие в <abbr title="Блочный контекст форматирования">БКФ</abbr>, используют правила, описанные в модели бокса (CSS Box Model), которая определяет, как поля (margins), границы (borders) и отступы (paddings) элемента взаимодействуют с другими блоками в том же контексте.</p>

<h3 id="Создание_нового_блочного_контекста_форматирования">Создание нового блочного контекста форматирования</h3>

<p>Элемент <a href="/ru/docs/Web/HTML/Element/html" title="HTML-элемент &lt;html&gt; представляет собой корень (элемент верхнего уровня) HTML-документа, поэтому его так же называют корневым элементом. Все другие элементы должны быть потомками этого элемента (должны находиться внутри него)."><code>&lt;html&gt;</code></a> не единственный, кто может создавать блочный контекст форматирования. Любой элемент, который по умолчанию представляет собой блок, также создает блочный контекст форматирования для своих потомков. Кроме того, существуют свойства CSS, которые могут заставить элемент создавать БКФ, даже если он не делает этого по умолчанию. Это может быть полезным поскольку новый БКФ будет вести себя во многом как внешний документа, в том смысле, что он создает новую мини-раскладку в основной раскладке. БКФ содержит все внутри себя, <a href="/ru/docs/Web/CSS/float" title="CSS свойство float указывает, что текущий элемент должен быть изъят из обычного flow (потока) и прижат к левой или правой стороне родительского элемента. Текст и inline элементы будут обтекать такой элемент."><code>float</code></a> and <a href="/ru/docs/Web/CSS/clear" title="Свойство clear CSS указывает, может ли элемент быть рядом с плавающими  floating элементами, которые предшествуют ему или должны быть перемещены вниз (очищены) под ними. Свойство clear применяется как к плавающим, так и к неплавающим элементам."><code>clear</code></a> применяются только к элементам, которые находится в том же контексте форматирования, также как и поля (margings) схлопываются только между элементами одного и того же контекста форматирования.</p>

<p>Кроме корневого элемента (<a href="/ru/docs/Web/HTML/Element/html" title="HTML-элемент &lt;html&gt; представляет собой корень (элемент верхнего уровня) HTML-документа, поэтому его так же называют корневым элементом. Все другие элементы должны быть потомками этого элемента (должны находиться внутри него)."><code>&lt;html&gt;</code></a>) новый БКФ создается в следующих случаях:</p>

<ul>
 <li>плавающие элементы (<a href="/ru/docs/Web/CSS/float#left"><code>float: left</code></a> или <a href="/ru/docs/Web/CSS/float#right"><code>float: right</code></a>);</li>
 <li>абсолютно позиционированные элементы (<a href="/ru/docs/Web/CSS/position#absolute"><code>position: absolute</code></a>, <a href="/ru/docs/Web/CSS/position#fixed"><code>position: fixed</code></a> или <a href="/ru/docs/Web/CSS/position#sticky"><code>position: sticky</code></a>);</li>
 <li>элементы с <a href="/ru/docs/Web/CSS/display#inline-block"><code>display: inline-block</code></a>;</li>
 <li>ячейки табицы или элементы с <code>display: table-cell</code>, включая анонимные ячейки таблицы, которые создаются, когда используются свойства <code>display: table-*</code>;</li>
 <li>заголовки таблицы или элементы с <code>display: table-caption</code>;</li>
 <li>блочные элементы, когда значение свойства overflow отлично от <code>visible</code>;</li>
 <li>элементы с <code>display: flow-root</code> или <code>display: flow-root list-item</code>;</li>
 <li>элементы с <a href="/ru/docs/Web/CSS/contain#layout"><code>contain: layout</code></a>, <code>content</code>, или <code>strict</code></li>
 <li><a href="/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/Flex_Item">флекс-элементы</a>;</li>
 <li>грид-элементы;</li>
 <li><a href="/en-US/docs/Web/CSS/CSS_Columns/Basic_Concepts_of_Multicol">контейнеры мультиколонок</a>;</li>
 <li>элементы с <a href="/ru/docs/Web/CSS/column-span" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>column-span</code></a> в значении <code>all</code>.</li>
</ul>



<p>Let&apos;s have a look at a couple of these in order to see the effect creating a new <abbr title="Block Formatting Context">BFC</abbr>.</p>

<p>In the example below, we have a floated element inside a <code>&lt;div&gt;</code> with a border applied. The content of that <code>div</code> has floated alongside the floated element. As the content of the float is taller than the content alongside it, the border of the div now runs through the float. As explained in the <a href="/en-US/docs/Web/CSS/CSS_Flow_Layout/In_Flow_and_Out_of_Flow">guide to in-flow and out of flow elements</a>, the float has been taken out of flow so the background and border of the div only contain the content and not the float.</p>

<p><iframe class="live-sample-frame" frameborder="0" height="720" src="https://mdn.github.io/css-examples/flow/formatting-contexts/float.html" width="100%"></iframe></p>

<p>Creating a new <abbr title="Block Formatting Context">BFC</abbr> would contain the float. A typical way to do this in the past has been to set <code>overflow: auto</code> or set other values than the initial value of <code>overflow: visible</code>.</p>

<p><iframe class="live-sample-frame" frameborder="0" height="720" src="https://mdn.github.io/css-examples/flow/formatting-contexts/bfc-overflow.html" width="100%"></iframe></p>

<p>Setting  <code>overflow: auto</code> created a new <abbr title="Block Formatting Context">BFC</abbr> containing the float. Our <code>div</code> now becomes a mini-layout inside our layout. Any child element will be contained inside it.</p>

<p>The problem with using <code>overflow</code> to create a new <abbr title="Block Formatting Context">BFC</abbr> is that the <code>overflow</code> property is meant for telling the browser how you wish to deal with overflowing content. There are some occasions in which you will find you get unwanted scrollbars or clipped shadows when you use this property purely to create a BFC. In addition, it is potentially not very readable for a future developer, as it may not be obvious why you used overflow for this purpose. If you do this, it would be a good idea to comment the code to explain.</p>

<h3 id="Explicitly_creating_a_BFC_using_display_flow-root">Explicitly creating a BFC using display: flow-root</h3>

<p>Using <code>display: flow-root</code> (or <code>display: flow-root list-item)</code> on the containing block will create a new <abbr title="Block Formatting Context">BFC</abbr> without any other potentially problematic side-effects.</p>

<p><iframe class="live-sample-frame" frameborder="0" height="720" src="https://mdn.github.io/css-examples/flow/formatting-contexts/bfc-flow-root.html" width="100%"></iframe></p>

<p>With <code>display: flow-root</code> on the <a href="/ru/docs/Web/HTML/Element/div" title="Элемент разделения контента HTML (&lt;div&gt;) является универсальным контейнером для потокового контента. Он не влияет на контент или макет до тех пор, пока не будет стилизован с помощью CSS."><code>&lt;div&gt;</code></a>, everything inside that container participates in the block formatting context of that container, and floats will not poke out of the bottom of the element.</p>

<p>The name of the <code>flow-root</code> keyword refers to the fact that you&apos;re creating something that serves, in essence, like a new root element (like <a href="/ru/docs/Web/HTML/Element/html" title="HTML-элемент &lt;html&gt; представляет собой корень (элемент верхнего уровня) HTML-документа, поэтому его так же называют корневым элементом. Все другие элементы должны быть потомками этого элемента (должны находиться внутри него)."><code>&lt;html&gt;</code></a> does), given how the new context is created and its flow layout functions.</p>

<h2 id="Inline_formatting_contexts">Inline formatting contexts</h2>

<p>Inline formatting contexts exist inside other formatting contexts and can be thought of as the context of a paragraph. The paragraph creates an inline formatting context inside which such things as <a href="/ru/docs/Web/HTML/Element/strong" title="Элемент сильной значимости (&lt;strong&gt;) указывает на то, что его содержание имеет большое значение, серьезность или срочность. Браузеры обычно отображают содержимое жирным шрифтом."><code>&lt;strong&gt;</code></a>, <a href="/ru/docs/Web/HTML/Element/a" title="HTML-элемент &lt;a&gt; определяет гиперссылку для перехода на определённое место на странице или на другую страницу в Интернете. Также он может быть использован (в устаревшем варианте) для создания якоря — это место назначения для гиперссылок внутри страницы: так ссылки не ограничены только в перемещении между страницами."><code>&lt;a&gt;</code></a>, or <a href="/ru/docs/Web/HTML/Element/span" title="HTML-элемент &lt;span&gt; является основным строковым контейнером для фразового контента, который, по существу, ничего не представляет. Он может использоваться для группировки элементов в целях стилизации (использование атрибутов class или id) или потому, что они имеет общие значения атрибутов, например lang."><code>&lt;span&gt;</code></a> elements are used on text.</p>

<p>The box model does not fully apply to items participating in an inline formatting context. In a horizontal writing mode line, horizontal padding, borders and margin will be applied to the element and push the text away left and right. However, margins above and below the element will not be applied. Vertical padding and borders will be applied but may  overlap content above and below as, in the inline formatting context, the line boxes will not be pushed apart by padding and borders.</p>

<p><iframe class="live-sample-frame" frameborder="0" height="720" src="https://mdn.github.io/css-examples/flow/formatting-contexts/inline.html" width="100%"></iframe></p>

<h2 id="Other_formatting_contexts">Other formatting contexts</h2>

<p>This guide covers flow layout and is therefore not referring to other possible formatting contexts. As such, it is useful to understand that creating any kind of formatting context will change the way elements inside that formatting context behave. This behavior is always described in the specification and also here on MDN.</p>

<h2 id="Summary">Summary</h2>

<p>In this guide, we have looked in more detail at the block and Inline formatting contexts and the important subject of creating a block formatting context (<abbr title="Block Formatting Context">BFC</abbr>). In the next guide, we will find out <a href="/en-US/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes">how normal flow interacts with different writing modes</a>.</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/Guide/CSS/Block_formatting_context">Block formatting context</a></li>
 <li><a href="/en-US/docs/Web/CSS/Visual_formatting_model">Visual Formatting Model</a></li>
 <li><a href="/en-US/docs/Web/CSS/CSS_Box_Model">CSS Box Model</a></li>
</ul>
