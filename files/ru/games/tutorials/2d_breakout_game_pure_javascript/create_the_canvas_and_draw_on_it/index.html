---
title: Создание Canvas и рисование на нём
slug: >-
  Games/Tutorials/2D_Breakout_game_pure_JavaScript/Create_the_Canvas_and_draw_on_it
tags:
  - JavaScript
  - Игры
  - разработка игр
  - создание игр
translation_of: >-
  Games/Tutorials/2D_Breakout_game_pure_JavaScript/Create_the_Canvas_and_draw_on_it
original_slug: >-
  Games/Tutorials/2D_Breakout_game_pure_JavaScript/Создание_Canvas_и_рисование_на_нём
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Introduction</summary>
            <ol>
              <li><a href="/ru/docs/Games/Introduction">Introduction</a></li>
              <li><a href="/ru/docs/Games/Anatomy">Anatomy</a></li>
              <li><a href="/ru/docs/Games/Examples">Examples</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>APIs for game development</summary>
            <ol>
              <li><a href="/ru/docs/Web/API/Canvas_API">Canvas</a></li>
              <li><a href="/ru/docs/Web/CSS">CSS</a></li>
              <li><a href="/ru/docs/Web/Apps/Fundamentals/User_notifications/Full_screen_api">Full screen</a></li>
              <li><a href="/ru/docs/Web/API/Gamepad_API">Gamepad</a></li>
              <li><a href="/ru/docs/Web/API/IndexedDB_API">IndexedDB</a></li>
              <li><a href="/ru/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="/ru/docs/Web/API/Pointer_Lock_API">Pointer Lock</a></li>
              <li><a href="/ru/docs/Web/SVG">SVG</a></li>
              <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">Typed Arrays</a></li>
              <li><a href="/ru/docs/Web/API/Web_Audio_API">Web Audio</a></li>
              <li><a href="/ru/docs/Web/API/WebGL_API">WebGL</a></li>
              <li><a href="/ru/docs/Web/API/WebRTC_API">WebRTC</a></li>
              <li><a href="/ru/docs/Web/API/WebSockets_API">WebSockets</a></li>
              <li><a href="/ru/docs/Web/API/WebVR_API">WebVR</a></li>
              <li><a href="/ru/docs/Web/API/Web_Workers_API">Web Workers</a></li>
              <li><a href="/ru/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Techniques</summary>
            <ol>
              <li><a href="/ru/docs/Games/Techniques/Async_scripts">Using async scripts for asm.js</a></li>
              <li><a href="/ru/docs/Web/Apps/Developing/Optimizing_startup_performance">Optimizing startup performance</a></li>
              <li><a href="/ru/docs/Games/Techniques/WebRTC_data_channels">Using WebRTC peer-to-peer data channels</a></li>
              <li><a href="/ru/docs/Games/Techniques/Efficient_animation_for_web_games">Efficient animation for web games</a></li>
              <li><a href="/ru/docs/Games/Techniques/Audio_for_Web_Games">Audio for Web Games</a></li>
              <li><a href="/ru/docs/Games/Techniques/2D_collision_detection">2D collision detection</a></li>
              <li><a href="/ru/docs/Games/Techniques/Tilemaps">Tiles and tilemaps overview</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>3D games on the Web</summary>
            <ol>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web">3D games on the Web overview</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/Basic_theory">Explaining basic 3D theory</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_A-Frame">Building up a basic demo with A-Frame</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Babylon.js">Building up a basic demo with Babylon.js</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_PlayCanvas">Building up a basic demo with PlayCanvas</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Three.js">Building up a basic demo with Three.js</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_on_the_web/WebVR">WebVR</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_collision_detection">3D collision detection</a></li>
              <li><a href="/ru/docs/Games/Techniques/3D_collision_detection/Bounding_volume_collision_detection_with_THREE.js">Bounding volume collision detection with THREE.js</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Implementing game control mechanisms</summary>
            <ol>
              <li><a href="/ru/docs/Games/Techniques/Control_mechanisms">Control mechanisms</a></li>
              <li><a href="/ru/docs/Games/Techniques/Control_mechanisms/Mobile_touch">Mobile touch</a></li>
              <li><a href="/ru/docs/Games/Techniques/Control_mechanisms/Desktop_with_mouse_and_keyboard">Desktop with mouse and keyboard</a></li>
              <li><a href="/ru/docs/Games/Techniques/Control_mechanisms/Desktop_with_gamepad">Desktop with gamepad</a></li>
              <li><a href="/ru/docs/Games/Techniques/Control_mechanisms/Other">Other</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Tutorials</summary>
            <ol>
              <li><a href="/ru/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript">2D breakout game using pure JavaScript</a></li>
              <li><a href="/ru/docs/Games/Tutorials/2D_breakout_game_Phaser">2D breakout game using Phaser</a></li>
              <li><a href="/ru/docs/Games/Tutorials/HTML5_Gamedev_Phaser_Device_Orientation">2D maze_game with device orientation</a></li>
              <li><a href="https://mozdevs.github.io/html5-games-workshop/en/guides/platformer/start-here/">2D platform game using Phaser</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Publishing games</summary>
            <ol>
              <li><a href="/ru/docs/Games/Publishing_games">Publishing games overview</a></li>
              <li><a href="/ru/docs/Games/Publishing_games/Game_distribution">Game distribution</a></li>
              <li><a href="/ru/docs/Games/Publishing_games/Game_promotion">Game promotion</a></li>
              <li><a href="/ru/docs/Games/Publishing_games/Game_monetization">Game monetization</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section></div>

<div></div>

<div class="prevnext" style="text-align: right;">
    <p><a href="/ru/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript" style="float: left;" class="button">« Предыдущая статья</a><a href="/ru/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript/Переместить_мяч" class="button">Следующая статья  »</a></p>
</div>

<div class="summary">
<p>Это <strong>1й шаг</strong> из 10 <a href="https://developer.mozilla.org/en-US/docs/Games/Workflows/Breakout_game_from_scratch">Gamedev Canvas tutorial</a>. Вы можете найти исходный код для этого урока по ссылке <a href="https://github.com/end3r/Gamedev-Canvas-workshop/blob/gh-pages/lesson01.html">Gamedev-Canvas-workshop/lesson1.html</a>.</p>
</div>

<p>Прежде чем мы сможем начать писать функциональные возможности игры, нам необходимо создать базовую структуру для рендеринга игры внутри. Это можно сделать с помощью HTML и элемента <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a>.</p>

<h2 id="HTML_игры">HTML игры</h2>

<p>Структура HTML документа довольно проста, так как игра будет полностью визуализироваться в <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> элементе. Используя Ваш любимый текстовый редактор, создайте новый HTML документ, сохраните его как <code>index.html</code> в любом удобном месте, и скопируйте в него этот код:</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;Gamedev Canvas Workshop&lt;/title&gt;
    &lt;style&gt;
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id=&quot;myCanvas&quot; width=&quot;480&quot; height=&quot;320&quot;&gt;&lt;/canvas&gt;

&lt;script&gt;
	// JavaScript код будем писать здесь
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Мы определили <code>charset</code>, <a href="/ru/docs/Web/HTML/Element/title" title="HTML-элемент заголовка (&lt;title&gt;) определяет заголовок документа, который отображается в заголовке окна браузера или на вкладке страницы. Он содержит только текст, а теги внутри элемента игнорируются."><code>&lt;title&gt;</code></a> и некий базовый CSS в заголовке. Тело документа содержит элементы <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> и <a href="/ru/docs/Web/HTML/Element/script" title="HTML Элемент &lt;script&gt; "><code>&lt;script&gt;</code></a> — мы будем визуализировать игру внутри первого и писать JavaScript код, который управляет игрой, во втором. Элемент <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> имеет <code>id</code> равный <code>myCanvas</code>, который позволяет однозначно отыскать элемент. Так же этот элемент имеет ширину 480 пикселей и высоту 320 пикселей. Весь JavaScript код мы будем писать между открывающим тегом <code>&lt;script&gt;</code> и закрывающим тегом <code>&lt;/script&gt;</code>.</p>

<h2 id="Основы_Canvas">Основы Canvas</h2>

<p>Чтобы иметь возможность визуализировать игру в <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> элементе, сначала мы должны сослаться на этот элемент в коде JavaScript. Добавьте следующий код после открывающего тега <code>&lt;script&gt;</code>.</p>

<pre class="brush: js">var canvas = document.getElementById(&quot;myCanvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);</pre>

<p>Таким образом, мы храним ссылку на <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> элемент в переменной <code>canvas</code>. Далее мы создаём переменную <code>ctx</code> для хранения 2D визуализации контекста — метод, который используется для отрисовки в Canvas.</p>

<p>Давайте рассмотрим пример отрисовки красного квадрата на canvas. Добавьте этот код ниже предыдущего кода на JavaScript и загрузите <code>index.html</code> в браузере, чтобы посмотреть результат.</p>

<pre class="brush: js">ctx.beginPath();
ctx.rect(20, 40, 50, 50);
ctx.fillStyle = &quot;#FF0000&quot;;
ctx.fill();
ctx.closePath();</pre>

<p>Все инструкции располагаются между методами <a href="/ru/docs/Web/API/CanvasRenderingContext2D/beginPath" title="Метод CanvasRenderingContext2D.beginPath() Canvas 2D API запускает новый путь, опуская список подпутей. Вызовите этот метод, когда хотите создать новый путь."><code>beginPath()</code></a> и <a href="/ru/docs/Web/API/CanvasRenderingContext2D/closePath" title="CanvasRenderingContext2D.closePath() - метод из Canvas 2D API, добавляет в путь линию от текущей до первоначальной точки под пути и закрывает сам путь (давая возможность инициализировать новый). Если путь пустой или содержит одну точку, этот метод ничего не делает."><code>closePath()</code></a>. Мы определяем прямоугольник, используя  <a href="/ru/docs/Web/API/CanvasRenderingContext2D/rect" title="Метод CanvasRenderingContext2D.rect(), предоставляемый Canvas 2D API, создает контур прямоугольника в позиции (x, y), размеры которого устанавливаются аргументами width и height. Четыре точки прямоугольника соединяются прямыми линиями, и получившийся фрагмент контура отмечается как замкнутый, так что вы можете выполнить его заливку или обрисовать контур."><code>rect()</code></a>: первые два параметра определяют координаты верхнего левого угла прямоугольника на canvas, в то время, как два других параметра определяют ширину и высоту прямоугольника. В нашем случае прямоугольник нарисован на расстоянии 20 пикселей слева и 40 пикселей сверху, 50 пикселей в ширину и 50 пикселей в высоту, что делает его квадратом. Свойство <a href="/ru/docs/Web/API/CanvasRenderingContext2D/fillStyle" title="Свойство CanvasRenderingContext2D.fillStyle, предосталяемое Canvas 2D API, задает цвет или стиль, используемый при заливке фигур. По умолчанию установлено значение #000 (черный цвет)."><code>fillStyle</code></a> хранит цвет, который будет использован методом <a href="/ru/docs/Web/API/CanvasRenderingContext2D/fill" title="CanvasRenderingContext2D.fill() метод Canvas 2D API заполняет текущий или заданный путём с текущим стилем заливки, используя одно из двух правил - ненулевого индекса или четно-нечетное."><code>fill()</code></a> для отрисовки нашего квадрата.</p>

<p>Мы не ограничены только прямоугольниками - ниже часть кода для отрисовки зелёного круга. Попробуйте добавить этот код вконец Вашего кода JavaScript, сохраните и обновите страницу в браузере:</p>

<pre class="brush: js">ctx.beginPath();
ctx.arc(240, 160, 20, 0, Math.PI*2, false);
ctx.fillStyle = &quot;green&quot;;
ctx.fill();
ctx.closePath();</pre>

<p>Как видите, мы снова используем методы <a href="/ru/docs/Web/API/CanvasRenderingContext2D/beginPath" title="Метод CanvasRenderingContext2D.beginPath() Canvas 2D API запускает новый путь, опуская список подпутей. Вызовите этот метод, когда хотите создать новый путь."><code>beginPath()</code></a> и <a href="/ru/docs/Web/API/CanvasRenderingContext2D/closePath" title="CanvasRenderingContext2D.closePath() - метод из Canvas 2D API, добавляет в путь линию от текущей до первоначальной точки под пути и закрывает сам путь (давая возможность инициализировать новый). Если путь пустой или содержит одну точку, этот метод ничего не делает."><code>closePath()</code></a>. Между ними наиболее важная часть кода - метод <a href="/ru/docs/Web/API/CanvasRenderingContext2D/arc" title="CanvasRenderingContext2D.arc() метод Canvas 2D API добавляет дугу к пути с центром (x, y) и с радиусом r  с началом в startAngle и с концом endAngle и с направлением против часовой стрелки (по умолчанию по часовой стрелке)."><code>arc()</code></a>. Он принимает шесть параметров:</p>

<ul>
 <li><code>x</code> и <code>y</code> координаты центра круга</li>
 <li>радиус</li>
 <li>начальный и конечный угол отрисовки круга (в радианах)</li>
 <li>направление отрисовки: (<code>false</code> - по часовой стрелке, по умолчанию, или <code>true</code> - против часовой стрелки). Последний параметр не обязательный.</li>
</ul>

<p>Свойство <a href="/ru/docs/Web/API/CanvasRenderingContext2D/fillStyle" title="Свойство CanvasRenderingContext2D.fillStyle, предосталяемое Canvas 2D API, задает цвет или стиль, используемый при заливке фигур. По умолчанию установлено значение #000 (черный цвет)."><code>fillStyle</code></a> выглядит не так, как прежде. Это потому что, как и в CSS, цвет может быть задан в шестнадцатиричном формате, названием цвета, функцией <code>rgba()</code> , или же любым другим методом для цвета.</p>

<p>Вместо <a href="/ru/docs/Web/API/CanvasRenderingContext2D/fill" title="CanvasRenderingContext2D.fill() метод Canvas 2D API заполняет текущий или заданный путём с текущим стилем заливки, используя одно из двух правил - ненулевого индекса или четно-нечетное."><code>fill()</code></a> и заполнения фигур цветом, можно использовать <a href="/ru/docs/Web/API/CanvasRenderingContext2D/stroke" title="Метод CanvasRenderingContext2D.stroke() Canvas 2D API обводит текущий или данный контур цветом strokeStyle."><code>stroke()</code></a>, чтобы окрасить только внешнюю обводку фигуры. Попробуйте добавить этот код к Вашему коду JavaScript:</p>

<pre class="brush: js">ctx.beginPath();
ctx.rect(160, 10, 100, 40);
ctx.strokeStyle = &quot;rgba(0, 0, 255, 0.5)&quot;;
ctx.stroke();
ctx.closePath();</pre>

<p>Код выше отрисовывает пустой прямоугольник с синей обводкой. Благодаря функции альфа-канала <code>rgba()</code> , голубой цвет полупрозрачный.</p>

<h2 id="Сравните_Ваш_код">Сравните Ваш код</h2>

<p>Здесь полный исходный код для первого урока, посмотреть онлайн можно на JSFiddle:</p>

<p><iframe frameborder="0" height="395" src="https://jsfiddle.net/end3r/x62h15e2/embedded/" width="100%"></iframe></p>

<div class="note notecard">
<p><strong>Упражнение</strong>: попробуйте изменить цвет и размер созданных фигур.</p>
</div>

<h2 id="Следующие_шаги">Следующие шаги</h2>

<p>Сейчас мы создали базовый HTML и немного узнали о canvas, давайте на следующем шаге изучим, как <a href="https://developer.mozilla.org/en-US/docs/Games/Workflows/Breakout_game_from_scratch/Move_the_ball">Двигать мяч в нашей игре</a>.</p>

<div class="prevnext" style="text-align: right;">
    <p><a href="/ru/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript" style="float: left;" class="button">« Предыдущая статья</a><a href="/ru/docs/Games/Workflows/2D_Breakout_game_pure_JavaScript/Move_the_ball" class="button">Следующая статья  »</a></p>
</div>
