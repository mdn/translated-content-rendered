---
title: How to build custom form widgets
slug: Web/Guide/HTML/Forms/How_to_build_custom_form_widgets
translation_of: Learn/Forms/How_to_build_custom_form_controls
---
<div><section class="Quick_links" id="Quick_Links">

<ol>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/Getting_started_with_the_web"><strong>Completos iniciantes, comecem por aqui!</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Iniciando na Internet</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web">Visão geral sobre Iniciando na Internet</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/Installing_basic_software">Instalação dos softwares básicos</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like">Como será seu site?</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/Dealing_with_files">Lidando com arquivos</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/HTML_basics">O básico de HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/CSS_basics">O básico de CSS</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/JavaScript_basics">O básico de JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/Publishing_your_website">Publicando seu site</a></li>
            <li><a href="/pt-BR/docs/Learn/Getting_started_with_the_web/How_the_Web_works">Como a Internet funciona</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/HTML"><strong>HTML — Estruturando a Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Introdução ao HTML</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML">Visão geral da Introdução ao HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Getting_started">Iniciando em HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">O que está no &quot;head&quot;? Metadados em HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals">Fundamentos de Textos HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks">Criando hiperlinks</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting">Formatação avançada de textos</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure">Estrutura de Documentos e Sites</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML">Depurando HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter">Avaliação: Marcando uma carta</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content">Avaliação: Estruturação de uma página de conteúdo</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Multimídia e incorporação</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding">Visão geral sobre Multimídia e incorporação</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">Imagens em HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">Conteúdos em Vídeo e áudio</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies">De objeto a iframe — outras tecnologias de incorporação</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web">Adicionando vetores gráficos na Web</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">Imagens responsivas</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page">Avaliação: Página de abertura da Mozilla</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Tabelas HTML</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/HTML/Tables">Visão geral sobre tabelas HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Tables/Basics">O básico sobre Tabelas HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Tables/Advanced">Funcionalidades avançadas e acessibilidade de Tabelas HTML</a></li>
            <li><a href="/pt-BR/docs/Learn/HTML/Tables/Structuring_planet_data">Avaliação: Estruturação dos dados do planenta</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/CSS"><strong>CSS — Estilizando a Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>CSS first steps</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps">CSS first steps overview</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps/What_is_CSS">What is CSS?</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps/Getting_started">Getting started with CSS</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps/How_CSS_is_structured">How CSS is structured</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps/How_CSS_works">How CSS works</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/First_steps/Using_your_new_knowledge">Using your new knowledge</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS building blocks</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks">CSS building blocks overview</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance">Cascade and inheritance</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Selectors">CSS selectors</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/The_box_model">The box model</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders">Backgrounds and borders</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Handling_different_text_directions">Handling different text directions</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Overflowing_content">Overflowing content</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Values_and_units">Values and units</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS">Sizing items in CSS</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Images_media_form_elements">Images, media, and form elements</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Styling_tables">Styling tables</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Debugging_CSS">Debugging CSS</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Building_blocks/Organizing">Organizing your CSS</a></li>
      </ol></details>
  </li>
  <li class="toggle">
      <details>
          <summary>Estilização de textos</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text">Visão geral da Estilizaço de textos</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text/Fundamentals">Fundamentos da estilização de textos e fontes</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text/Styling_lists">Estilização de listas</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text/Styling_links">Estilização de links</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text/Web_fonts">Fontes Web</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/Styling_text/Typesetting_a_homepage">Avaliação: Tipografia para a página inicial da escola pública local</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Esquemas CSS</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout">Visão geral de esquemas CSS</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Introduction">Introdução</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Normal_Flow">Normal Flow</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Flexbox">Flexbox</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Grids">Grids</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Floats">&quot;Floats&quot; - Flutuando elementos</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Positioning">Posicionamento</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Multiple-column_Layout">Multiple-column Layout</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Responsive_Design">Responsive design</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Media_queries">Beginner&apos;s guide to media queries</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods">Legacy Layout Methods</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a></li>
            <li><a href="/pt-BR/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension">Fundamental Layout Comprehension</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/JavaScript"><strong>JavaScript — Uma linguagem de script dinâmica para aplicações cliente</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Primeiros passos com JavaScript</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps">Visão geral dos Primeiros passos com JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/What_is_JavaScript">O que é JavaScript?</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/A_first_splash">Um primeiro olhar em JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/What_went_wrong">O que deu errado? Solução de problemas de JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Variables">Guardando a informação que precisa — Variáveis</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Math">Básico de JavaScript — Números e operadores</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Strings">Lidando com textos — Strings em JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Useful_string_methods">Métodos de String úteis</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Arrays">&quot;Arrays&quot; — Arranjos</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/First_steps/Silly_story_generator">Avaliação: Gerador de estórias bobas</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Programando em JavaScript</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks">Visão geral de Programando em JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/conditionals">Tomando decisões no seu código — Condicionais</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Looping_code">Código de repetição</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Functions">Funções — Blocos de códigos reutilizáveis</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Build_your_own_function">Construa sua própria função</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Return_values">Retorno de valores em funções</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Events">Introdução a eventos</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Building_blocks/Image_gallery">Avaliação: Galeria de imagens</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Introdução Objetos em JavaScript</summary>
          <ol>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects">Visão geral de Objetos em JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Basics">O básico de Objetos</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Object-oriented_JS">Orientação a Objetos em JavaScript para iniciantes</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Object_prototypes">&quot;Prototypes&quot; de objetos</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Inheritance">Herança em JavaScript</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/JSON">Trabalhando com dados em JSON</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Object_building_practice">Prática de construção de objetos</a></li>
            <li><a href="/pt-BR/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features">Avaliação: Adicionando funcionalidades ao nosso aplicativo Bolas Saltitantes</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Asynchronous JavaScript</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous">Asynchronous JavaScript overview</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Concepts">General asynchronous programming concepts</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Introducing">Introducing asynchronous JavaScript</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals">Cooperative asynchronous Java​Script: Timeouts and intervals</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Promises">Graceful asynchronous programming with Promises</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Async_await">Making asynchronous programming easier with async and await</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach">Choosing the right approach</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>APIs Web na aplicação Cliente</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs">APIs Web na aplicação Cliente</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">Introdução a APIs Web</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">Manipulando documentos</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data">Pegando dados do servidor</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs">APIs de Terceiros</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics">Desenhando gráficos</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs">APIs de Vídeo e Áudio</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage">Armazenamento na aplicação cliente</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/pt-BR/docs/Learn/Forms"><strong>Web forms — Working with user data</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Core forms learning pathway</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Forms">Web forms overview</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Your_first_form">Your first form</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/How_to_structure_a_web_form">How to structure a web form</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Basic_native_form_controls">Basic native form controls</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/HTML5_input_types">The HTML5 input types</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Other_form_controls">Other form controls</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Styling_web_forms">Styling web forms</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Advanced_form_styling">Advanced form styling</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/UI_pseudo-classes">UI pseudo-classes</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Form_validation">Client-side form validation</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Sending_and_retrieving_form_data">Sending form data</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Advanced forms articles</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Forms/How_to_build_custom_form_controls">How to build custom form controls</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Sending_forms_through_JavaScript">Sending forms through JavaScript</a></li>
          <li><a href="/pt-BR/docs/Learn/Forms/Property_compatibility_table_for_form_controls">CSS property compatibility table for form controls</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/pt-BR/docs/Learn/Accessibility"><strong>Acessibilidade — Faça a Internet usável por qualquer pessoa</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Guias de acessibilidade</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Accessibility">Visão geral sobre Acessibilidade</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/What_is_accessibility">O que é acessibilidade?</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/HTML">HTML: Uma boa base para acessibilidade</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/CSS_and_JavaScript">Melhores práticas para acessibilidade em CSS e JavaScript</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/WAI-ARIA_basics">O básico de WAI-ARIA</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/Multimedia">Multimídia acessível</a></li>
          <li><a href="/pt-BR/docs/Learn/Accessibility/Mobile">Acessibilidade em dispositivos móveis</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Avaliando a acessibilidade</summary>
        <ol>
            <li><a href="/pt-BR/docs/Learn/Accessibility/Accessibility_troubleshooting">Avaliação: Solução de problemas de Acessibilidade</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/pt-BR/docs/Learn/Tools_and_testing"><strong>Ferramentas e teste</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Client-side web development tools</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools">Client-side web development tools index</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview">Client-side tooling overview</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line">Command line crash course</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management">Package management basics</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain">Introducing a complete toolchain</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment">Deploying our app</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Introduction to client-side frameworks</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction">Client-side frameworks overview</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features">Framework main features</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>React</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started">Getting started with React</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning">Beginning our React todo list</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components">Componentizing our React app</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state">React interactivity: Events and state</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering">React interactivity: Editing, filtering, conditional rendering</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility">Accessibility in React</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources">React resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Ember</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started">Getting started with Ember</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization">Ember app structure and componentization</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state">Ember interactivity: Events, classes and state</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer">Ember Interactivity: Footer functionality, conditional rendering</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing">Routing in Ember</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources">Ember resources and troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Vue</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started">Getting started with Vue</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component">Creating our first Vue component</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists">Rendering a list of Vue components</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models">Adding a new todo form: Vue events, methods, and models</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling">Styling Vue components with CSS</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties">Using Vue computed properties</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  ">Vue conditional rendering: editing existing todos</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management">Focus management with Vue refs</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources">Vue resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Git and GitHub</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/GitHub">Git and GitHub overview</a></li>
          <li><a href="https://guides.github.com/activities/hello-world/">Hello World</a></li>
          <li><a href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a></li>
          <li><a href="https://guides.github.com/activities/forking/">Forking Projects</a></li>
          <li><a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">About pull requests</a></li>
          <li><a href="https://guides.github.com/features/issues/">Mastering Issues</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Testes entre navegadores</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing">Visão geral de testes entre navegadores</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction">Introdução a testes entre navegadores</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies">Estratégias para execução de testes</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS">Lidando com problemas comuns de HTML e CSS</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript">Lidando com problemas comuns de JavaScript</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility">Lidando com problemas comuns de acessibilidade</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection">Implementando detecção de funcionalidade</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing">Introdução a testes automatizados</a></li>
          <li><a href="/pt-BR/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment">Configurando seu próprio ambiente de testes automatizados</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/Server-side"><strong>Programação de servidores de Aplicação</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Primeiros passos</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Server-side/First_steps">Visão geral para os primeiros passos</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/First_steps/Introduction">Introdução ao Servidor de Aplicação</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/First_steps/Client-Server_overview">Visão geral da arquitetura Cliente-Servidor</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/First_steps/Web_frameworks">Frameworks Web para o Servidor de Aplicação</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/First_steps/Website_security">Segurança de sites</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Framework Web Django (Python)</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django">Visão geral do Framework Web Django (Python)</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Introduction">Introdução</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/development_environment">Configurando um ambiente de desenvolvimento para aplicações Django</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Tutorial_local_library_website">Tutorial: Um site para a Biblioteca Local</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/skeleton_website">Tutorial Parte 2: Criando o esqueleto de um site</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Models">Tutorial Parte 3: Usando &quot;models&quot;</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Admin_site">Tutorial Parte 4: Um site administrativo em Django</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Home_page">Tutorial Parte 5: Criando nossa página inicial</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Generic_views">Tutorial Parte 6: Páginas de lista genérica e detalhamento</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Sessions">Tutorial Parte 7: Framework de sessões</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Authentication">Tutorial Parte 8: Autenticação e permissões de usuário</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Forms">Tutorial Part 9: Trabalhando com formulários</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Testing">Tutorial Parte 10: Testando aplicações web em Django</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/Deployment">Tutorial Parte 11: Implantando Django em produção</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/web_application_security">Segurança de Aplicações Web</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Django/django_assessment_blog">Avaliação: Faça você mesmo: Um blog pessoal</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Framework Web Express (Node.js/JavaScript)</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs">Visão geral do Framework Web Express (Node.js/JavaScript)</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/Introduction">Introdução a Express/Node</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/development_environment">Configurando um ambiente de desenvolvimento Node (Express)</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website">Tutorial Rápido: Um site para a Biblioteca Local</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/skeleton_website">Tutorial Rápido Parte 2: Criando o esqueleto de um site</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/mongoose">Tutorial Rápido Parte 3: Usando um banco de dados (com Mongoose)</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/routes">Tutorial Rápido Parte 4: Rotas e &quot;controllers&quot;</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/Displaying_data">Tutorial Rápido Parte 5: Mostrando os dados da Biblioteca</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/forms">Tutorial Rápido Parte 6: Trabalhando com formulários</a></li>
          <li><a href="/pt-BR/docs/Learn/Server-side/Express_Nodejs/deployment">Tutorial Rápido Parte 7: Implantando em produção</a></li>
        </ol>
    </details>
  </li>
  <li><a href="#"><strong>Mais recursos</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Questões gerais</summary>
        <ol>
          <li><a href="/pt-BR/docs/Learn/HTML/Howto">Questões sobre HTML</a></li>
          <li><a href="/pt-BR/docs/Learn/CSS/Howto">Questões sobre CSS</a></li>
          <li><a href="/pt-BR/docs/Learn/JavaScript/Howto">Questões sobre JavaScript</a></li>
          <li><a href="/pt-BR/docs/Learn/Common_questions#How_the_Web_works">Como a Internet funciona</a></li>
          <li><a href="/pt-BR/docs/Learn/Common_questions#Tools_and_setup">Ferramentas e configuração</a></li>
          <li><a href="/pt-BR/docs/Learn/Common_questions#Design_and_accessibility">Projeto e acessibilidade</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="closed"><a href="/pt-BR/docs/Learn/How_to_contribute">Como contribuir</a></li>
</ol>

</section><div class="prevnext">
  <a href="/pt-BR/docs/Learn/HTML/Forms/Form_validation" class="button"><i class="icon-arrow-left"></i><span class="label"> Anterior </span></a><a href="/pt-BR/docs/Learn/HTML/Forms" class="button"><i class="icon-arrow-up"></i> Menu: Forms</a><a href="/pt-BR/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript" class="button"><span class="label"> Próxima  </span><i class="icon-arrow-right"></i></a>
</div></div>

<p class="summary">There are many cases where <a href="/en-US/docs/HTML/Forms/The_native_form_widgets" title="/en-US/docs/HTML/Forms/The_native_form_widgets">available HTML form widgets</a> are just nThere are many cases where available HTML form widgets are just not enough. If you want to <a href="/en-US/docs/Advanced_styling_for_HTML_forms" title="/en-US/docs/Advanced_styling_for_HTML_forms">perform advanced styling</a> on some widgets such as the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element or if you want to provide custom behaviors, you have no choice but to build your own widgets.</p>

<p>In this article, we will see how to build such a widget. To that end, we will work with an example: rebuilding the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element.</p>

<div class="note">
<p><strong>Note:</strong> We&apos;ll focus on building the widgets, not on how to make the code generic and reusable; that would involve some non-trival JavaScript code and DOM manipulation in an unknown context, and that is out of the scope of this article.</p>
</div>

<h2 id="Design_structure_and_semantics">Design, structure, and semantics</h2>

<p>Before building a custom widget, you should start by figuring out exactly what you want. This will save you some precious time. In particular, it&apos;s important to clearly define all the states of your widget. To do this, it&apos;s good to start with an existing widget whose states and behavior are well known, so that you can simply mimic those as much as possible.</p>

<p>In our example, we will rebuild the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element. Here is the result we want to achieve:</p>

<p><img alt="The three states of a select box" src="/files/4481/custom-select.png" style="height: 135px; width: 366px;"></p>

<p>This screenshot shows the three main states of our widget: the normal state (on the left); the active state (in the middle) and the open state (on the right).</p>

<p>In terms of behavior, we want our widget to be usable with a mouse as well as with a keyboard, just like any native widget. Let&apos;s start by defining how the widget reaches each state:</p>

<dl>
 <dt>The widget is in its normal state when:</dt>
 <dd>
 <ul>
  <li>the page loads</li>
  <li>the widget was active and the user clicks anywhere outside the widget</li>
  <li>the widget was active and the user moves the focus to another widget using the keyboard</li>
 </ul>

 <div class="note">
 <p><strong>Note:</strong> Moving the focus around the page is usually done through hitting the tab key, but this is not standard everywhere. For example cycling through links on a page is done in Safari by default using the <a href="http://www.456bereastreet.com/archive/200906/enabling_keyboard_navigation_in_mac_os_x_web_browsers/" title="http://www.456bereastreet.com/archive/200906/enabling_keyboard_navigation_in_mac_os_x_web_browsers/">Option+Tab combination</a>.</p>
 </div>
 </dd>
 <dt>The widget is in its active state when:</dt>
 <dd>
 <ul>
  <li>the user clicks on it</li>
  <li>the user hits the tab key and it gains focus</li>
  <li>the widget was in its open state and the user clicks on the widget.</li>
 </ul>
 </dd>
 <dt>The widget is in its open state when:</dt>
 <dd>
 <ul>
  <li>the widget is in any other state than open and the user clicks on it</li>
 </ul>
 </dd>
</dl>

<p>Once we know how to change states, it is important to define how to change the widget&apos;s value:</p>

<dl>
 <dt>The value changes when:</dt>
 <dd>
 <ul>
  <li>the user clicks on an option when the widget is in the open state</li>
  <li>the user hits the up or down arrow keys when the widget is in its active state</li>
 </ul>
 </dd>
</dl>

<p>Finally, let&apos;s define how the widget&apos;s options will behave:</p>

<ul>
 <li>When the widget is opened, the selected option is highlighted</li>
 <li>When the mouse is over an option, the option is highlighted and the previously highlighted option is returned to its normal state</li>
</ul>

<p>For the purposes of our example, we&apos;ll stop with that; however, if you&apos;re a careful reader, you&apos;ll notice that some behaviors are missing. For example, what do you think will happen if the user hits the tab key while the widget is in its open state? The answer is... nothing. OK, the right behavior seems obvious but the fact is, because it&apos;s not defined in our specs, it is very easy to overlook this behavior. This is especially true in a team environment when the people who design the widget&apos;s behavior are different from the ones who implement it.</p>

<p>Another fun example: what will happen if the user hits the up or down arrow keys while the widget is in the open state? This one is a little bit trickier. If you consider that the active state and the open state are completely different, the answer is again &quot;nothing will happen&quot; because we did not define any keyboard interactions for the opened state. On the other hand, if you consider that the active state and the open state overlap a bit, the value may change but the option will definitely not be highlighted accordingly, once again because we did not define any keyboard interactions over options when the widget is in its opened state (we have only defined what should happen when the widget is opened, but nothing after that).</p>

<p>In our example, the missing specifications are obvious so we will handle them, but it can be a real problem on exotic new widgets, for which nobody has the slightest idea of what the right behavior is. So it&apos;s always good to spend time in this design stage, because if you define a behavior poorly, or forget to define one, it will be very hard to redefine it once the users have gotten used to it. If you have doubts, ask for the opinions of others, and if you have the budget for it, do not hesitate to <a href="http://en.wikipedia.org/wiki/Usability_testing" rel="external" title="http://en.wikipedia.org/wiki/Usability_testing">perform user tests</a>. This process is called UX Design. If you want to learn more about this topic, you should check out the following helpful resources:</p>

<ul>
 <li><a href="http://www.uxmatters.com/" rel="external">UXMatters.com</a></li>
 <li><a href="http://uxdesign.com/" rel="external">UXDesign.com</a></li>
 <li><a href="http://uxdesign.smashingmagazine.com/" rel="external">The UX Design section of SmashingMagazine</a></li>
</ul>

<div class="note">
<p><strong>Note: </strong>Also, in most systems there is a way to open the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element to look at all the available choices (this is the same as clicking the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element with a mouse). This is achieved with Alt+Down arrow under Windows and was not implemented in our example —but it would be easy to do so, as the mechanism has already been implemented for the <code>click</code> event.</p>
</div>

<h3 id="Defining_the_HTML_structure_and_semantics">Defining the HTML structure and semantics</h3>

<p>Now that the widget&apos;s basic functionality has been decided upon, it&apos;s time to start building our widget. The first step is to define its HTML structure and to give it some basic semantics. Here is what we need to rebuild a <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element:</p>

<pre class="brush: html notranslate">&lt;!-- This is our main container for our widget.
     The tabindex attribute is what allows the user to focus the widget.
     We&apos;ll see later that it&apos;s better to set it through JavaScript. --&gt;
&lt;div class=&quot;select&quot; tabindex=&quot;0&quot;&gt;

  &lt;!-- This container will be used to display the current value of the widget --&gt;
  &lt;span class=&quot;value&quot;&gt;Cherry&lt;/span&gt;

  &lt;!-- This container will contain all the options available for our widget.
       Because it&apos;s a list, it makes sense to use the ul element. --&gt;
  &lt;ul class=&quot;optList&quot;&gt;
    &lt;!-- Each option only contains the value to be displayed, we&apos;ll see later
         how to handle the real value that will be sent with the form data --&gt;
    &lt;li class=&quot;option&quot;&gt;Cherry&lt;/li&gt;
    &lt;li class=&quot;option&quot;&gt;Lemon&lt;/li&gt;
    &lt;li class=&quot;option&quot;&gt;Banana&lt;/li&gt;
    &lt;li class=&quot;option&quot;&gt;Strawberry&lt;/li&gt;
    &lt;li class=&quot;option&quot;&gt;Apple&lt;/li&gt;
  &lt;/ul&gt;

&lt;/div&gt;</pre>

<p>Note the use of class names; these identify each relevant part regardless of the actual underlying HTML elements used. This is important to make sure that we will not bind our CSS and JavaScript to a strong HTML structure, so that we can make implementation changes later without breaking code that uses the widget. For example if you wish to implement the equivalent of the <a href="/pt-BR/docs/Web/HTML/Element/optgroup" title="Em um Formulário Web, o elemento HTML &lt;optgroup&gt; cria um agrupamento de opções dentro do elemento &lt;select&gt;."><code>&lt;optgroup&gt;</code></a> element.</p>

<h3 id="Creating_the_look_and_feel_using_CSS">Creating the look and feel using CSS</h3>

<p>Now that we have a structure, we can start designing our widget. The whole point of building this custom widget is to be able to style this widget exactly as we want. To that end, we will split our CSS work into two parts: the first part will be the CSS rules absolutely necessary to have our widget behave like a <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element, and the second part will consist of the fancy styles used to make it look the way we want.</p>

<h4 id="Required_styles">Required styles</h4>

<p>The required styles are those necessary to handle the three states of our widget.</p>

<pre class="brush: css notranslate">.select {
  /* This will create a positioning context for the list of options */
  position: relative;

  /* This will make our widget become part of the text flow and sizable at the same time */
  display : inline-block;
}</pre>

<p>We need an extra class <code>active</code> to define the look and feel of our widget when it is in its active state. Because our widget is focusable, we double this custom style with the <a href="/pt-BR/docs/Web/CSS/:focus" title="A pseudo-classe :focus do CSS é aplicada quando um elemento recebe foco, o que pode ocorrer quando o usuário seleciona o elemento utilizando o teclado ou ativando o mesmo com o mouse (ex: um campo de um formulário)."><code>:focus</code></a> pseudo-class in order to be sure they will behave the same.</p>

<pre class="brush: css notranslate">.select .active,
.select:focus {
  outline: none;

  /* This box-shadow property is not exactly required, however it&apos;s so important to be sure
     the active state is visible that we use it as a default value, feel free to override it. */
  box-shadow: 0 0 3px 1px #227755;
}</pre>

<p>Now, let&apos;s handle the list of options:</p>

<pre class="brush: css notranslate">/* The .select selector here is syntactic sugar to be sure the classes we define are
   the ones inside our widget. */
.select .optList {
  /* This will make sure our list of options will be displayed below the value
     and out of the HTML flow */
  position : absolute;
  top      : 100%;
  left     : 0;
}</pre>

<p>We need an extra class to handle when the list of options is hidden. This is necessary in order to manage the differences between the active state and the open state that do not exactly match.</p>

<pre class="brush: css notranslate">.select .optList.hidden {
  /* This is a simple way to hide the list in an accessible way,
     we will talk more about accessibility in the end */
  max-height: 0;
  visibility: hidden;
}</pre>

<h4 id="Beautification">Beautification</h4>

<p>So now that we have the basic functionality in place, the fun can start. The following is just an example of what is possible, and will match the screenshot at the beginning of this article. However, you should feel free to experiment and see what you can come up with.</p>

<pre class="brush: css notranslate">.select {
  /* All sizes will be expressed with the em value for accessibility reasons
     (to make sure the widget remains resizable if the user uses the
     browser&apos;s zoom in a text-only mode). The computations are made
     assuming 1em == 16px which is the default value in most browsers.
     If you are lost with px to em conversion, try http://riddle.pl/emcalc/ */
  font-size   : 0.625em; /* this (10px) is the new font size context for em value in this context */
  font-family : Verdana, Arial, sans-serif;

  -moz-box-sizing : border-box;
  box-sizing : border-box;

  /* We need extra room for the down arrow we will add */
  padding : .1em 2.5em .2em .5em; /* 1px 25px 2px 5px */
  width   : 10em; /* 100px */

  border        : .2em solid #000; /* 2px */
  border-radius : .4em; /* 4px */
  box-shadow    : 0 .1em .2em rgba(0,0,0,.45); /* 0 1px 2px */

  /* The first declaration is for browsers that do not support linear gradients.
     The second declaration is because WebKit based browsers haven&apos;t unprefixed it yet.
     If you want to support legacy browsers, try http://www.colorzilla.com/gradient-editor/ */
  background : #F0F0F0;
  background : -webkit-linear-gradient(90deg, #E3E3E3, #fcfcfc 50%, #f0f0f0);
  background : linear-gradient(0deg, #E3E3E3, #fcfcfc 50%, #f0f0f0);
}

.select .value {
  /* Because the value can be wider than our widget, we have to make sure it will not
     change the widget&apos;s width */
  display  : inline-block;
  width    : 100%;
  overflow : hidden;

  vertical-align: top;

  /* And if the content overflows, it&apos;s better to have a nice ellipsis. */
  white-space  : nowrap;
  text-overflow: ellipsis;
}</pre>

<p>We don&apos;t need an extra element to design the down arrow; instead, we&apos;re using the <a href="/pt-BR/docs/Web/CSS/:after" title="A documentação sobre isto ainda não foi escrita; por favor considere contribuir!"><code>:after</code></a> pseudo-element. However, it could also be implemented using a simple background image on the <code>select</code> class.</p>

<pre class="brush: css notranslate">.select:after {
  content : &quot;▼&quot;; /* We use the unicode caracter U+25BC; see http://www.utf8-chartable.de */
  position: absolute;
  z-index : 1; /* This will be important to keep the arrow from overlapping the list of options */
  top     : 0;
  right   : 0;

  -moz-box-sizing : border-box;
  box-sizing : border-box;

  height  : 100%;
  width   : 2em;  /* 20px */
  padding-top : .1em; /* 1px */

  border-left  : .2em solid #000; /* 2px */
  border-radius: 0 .1em .1em 0;  /* 0 1px 1px 0 */

  background-color : #000;
  color : #FFF;
  text-align : center;
}</pre>

<p>Next, let&apos;s style the list of options:</p>

<pre class="brush: css notranslate">.select .optList {
  z-index : 2; /* We explicitly said the list of options will always overlap the down arrow */

  /* this will reset the default style of the ul element */
  list-style: none;
  margin : 0;
  padding: 0;

  -moz-box-sizing : border-box;
  box-sizing : border-box;

  /* This will ensure that even if the values are smaller than the widget,
     the list of options will be as large as the widget itself */
  min-width : 100%;

  /* In case the list is too long, its content will overflow vertically
     (which will add a vertical scrollbar automatically) but never horizontally
     (because we haven&apos;t set a width, the list will adjust its width automatically.
     If it can&apos;t, the content will be truncated) */
  max-height: 10em; /* 100px */
  overflow-y: auto;
  overflow-x: hidden;

  border: .2em solid #000; /* 2px */
  border-top-width : .1em; /* 1px */
  border-radius: 0 0 .4em .4em; /* 0 0 4px 4px */

  box-shadow: 0 .2em .4em rgba(0,0,0,.4); /* 0 2px 4px */
  background: #f0f0f0;
}</pre>

<p>For the options, we need to add a <code>highlight</code> class to be able to identify the value the user will pick (or has picked).</p>

<pre class="brush: css notranslate">.select .option {
  padding: .2em .3em; /* 2px 3px */
}

.select .highlight {
  background: #000;
  color: #FFFFFF;
}</pre>

<p>So here&apos;s the result with our three states:</p>

<table>
 <thead>
  <tr>
   <th scope="col" style="text-align: center;">Basic state</th>
   <th scope="col" style="text-align: center;">Active state</th>
   <th scope="col" style="text-align: center;">Open state</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Basic_state" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_1$samples/Basic_state?revision=1478175" width="120"></iframe></td>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Active_state" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_1$samples/Active_state?revision=1478175" width="120"></iframe></td>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Open_state" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_1$samples/Open_state?revision=1478175" width="120"></iframe></td>
  </tr>
  <tr>
   <td colspan="3" style="text-align: center;"><a href="/en-US/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_1">Check out the source code</a></td>
  </tr>
 </tbody>
</table>

<h2 id="Bring_your_widget_to_life_with_JavaScript">Bring your widget to life with JavaScript</h2>

<p>Now that our design and structure are ready, we can write the JavaScript code to make the widget actually work.</p>

<div class="warning notecard">
<p><strong>Warning:</strong> The following code is educational and should not be used as-is. Among many things, as we&apos;ll see, it is not future-proof and it will not work on legacy browsers. It also has redundant parts that should be optimized in production code.</p>
</div>

<div class="note">
<p><strong>Note:</strong> Creating reusable widgets is something that can be a bit tricky. The <a href="http://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html" rel="external" title="http://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html">W3C Web Component draft</a> is one of the answers to this specific issue. <a href="http://x-tags.org/" rel="external" title="http://x-tags.org/">The X-Tag project</a> is a test implementation of this specification; we encourage you to take a look at it.</p>
</div>

<h3 id="Why_isnt_it_working">Why isn&apos;t it working?</h3>

<p>Before we start, it&apos;s important to remember something very important about JavaScript: inside a browser, <strong>it&apos;s an unreliable technology</strong>. When you are building custom widgets, you&apos;ll have to rely on JavaScript because it&apos;s a necessary thread to tie everything together. However, there are many cases in which JavaScript isn&apos;t able to run in the browser:</p>

<ul>
 <li>The user has turned off JavaScript: This is the most unusual case ever; very few people turn off JavaScript nowadays.</li>
 <li>The script is not loading. This is one of the most common cases, especially in the mobile world where the network is not very reliable.</li>
 <li>The script is buggy. You should always consider this possibility.</li>
 <li>The script is in conflict with a third party script. This can happen with tracking scripts or any bookmarklets the user uses.</li>
 <li>The script is in conflict with, or is affected by, a browser extension (such as Firefox&apos;s <a href="https://addons.mozilla.org/fr/firefox/addon/noscript/" rel="external">NoScript</a> extension or Chrome&apos;s <a href="https://chrome.google.com/webstore/detail/notscripts/odjhifogjcknibkahlpidmdajjpkkcfn" rel="external">NotScripts</a> extension).</li>
 <li>The user is using a legacy browser, and one of the features you require is not supported. This will happen frequently when you make use of cutting-edge APIs.</li>
</ul>

<p>Because of these risks, it&apos;s really important to seriously consider what will happen if JavaScript isn&apos;t working. Dealing in detail with this issue is out of the scope of this article because it&apos;s closely linked to how you want to make your script generic and reusable, but we&apos;ll consider the basics of this in our example.</p>

<p>In our example, if our JavaScript code isn&apos;t running, we&apos;ll fall back to displaying a standard <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element. To achieve this, we need two things.</p>

<p>First, we need to add a regular <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element before each use of our custom widget. This is actually also required in order to be able to send data from our custom widget along with the rest of our form data; more about this later.</p>

<pre class="brush: html notranslate">&lt;body class=&quot;no-widget&quot;&gt;
  &lt;form&gt;
    &lt;select name=&quot;myFruit&quot;&gt;
      &lt;option&gt;Cherry&lt;/option&gt;
      &lt;option&gt;Lemon&lt;/option&gt;
      &lt;option&gt;Banana&lt;/option&gt;
      &lt;option&gt;Strawberry&lt;/option&gt;
      &lt;option&gt;Apple&lt;/option&gt;
    &lt;/select&gt;

    &lt;div class=&quot;select&quot;&gt;
      &lt;span class=&quot;value&quot;&gt;Cherry&lt;/span&gt;
      &lt;ul class=&quot;optList hidden&quot;&gt;
        &lt;li class=&quot;option&quot;&gt;Cherry&lt;/li&gt;
        &lt;li class=&quot;option&quot;&gt;Lemon&lt;/li&gt;
        &lt;li class=&quot;option&quot;&gt;Banana&lt;/li&gt;
        &lt;li class=&quot;option&quot;&gt;Strawberry&lt;/li&gt;
        &lt;li class=&quot;option&quot;&gt;Apple&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/form&gt;

&lt;/body&gt;</pre>

<p>Second, we need two new classes to let us hide the unneeded element (that is, the &quot;real&quot; <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element if our script isn&apos;t running, or the custom widget if it is running). Note that by default, our HTML code hides our custom widget.</p>

<pre class="brush: css notranslate">.widget select,
.no-widget .select {
  /* This CSS selector basically says:
     - either we have set the body class to &quot;widget&quot; and thus we hide the actual <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element
     - or we have not changed the body class, therefore the body class is still &quot;no-widget&quot;,
       so the elements whose class is &quot;select&quot; must be hidden */
  position : absolute;
  left     : -5000em;
  height   : 0;
  overflow : hidden;
}</pre>

<p>Now we just need a JavaScript switch to determine if the script is running or not. This switch is very simple: if at page load time our script is running, it will remove the <code>no-widget</code> class and add the <code>widget</code> class, thereby swapping the visibility of the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element and of the custom widget.</p>

<pre class="brush: js notranslate">window.addEventListener(&quot;load&quot;, function () {
  document.body.classList.remove(&quot;no-widget&quot;);
  document.body.classList.add(&quot;widget&quot;);
});</pre>

<table>
 <thead>
  <tr>
   <th scope="col" style="text-align: center;">Without JS</th>
   <th scope="col" style="text-align: center;">With JS</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_No_JS" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_2$samples/No_JS?revision=1478175" width="120"></iframe></td>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_JS" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_2$samples/JS?revision=1478175" width="120"></iframe></td>
  </tr>
  <tr>
   <td colspan="2" style="text-align: center;"><a href="/en-US/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_2">Check out the source code</a></td>
  </tr>
 </tbody>
</table>

<div class="note">
<p><strong>Note:</strong> If you really want to make your code generic and reusable, instead of doing a class switch it&apos;s far better to just add the widget class to hide the <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> elements, and to dynamically add the DOM tree representing the custom widget after every <a href="/pt-BR/docs/Web/HTML/Element/select" title="O elemento HTML select (&lt;select&gt;) representa um controle que apresenta um menu de opções. As opções dentro do menu são representadas pelo elemento &lt;option&gt;, que podem ser agrupados por elementos &lt;optgroup&gt;. As opções podem ser pré-selecionadas para o usuário."><code>&lt;select&gt;</code></a> element in the page.</p>
</div>

<h3 id="Making_the_job_easier">Making the job easier</h3>

<p>In the code we are about to build, we will use the standard DOM API to do all the work we need. However, although DOM API support has gotten much better in browsers, there are always issues with legacy browsers (especially with good old Internet Explorer).</p>

<p>If you want to avoid trouble with legacy browsers, there are two ways to do so: using a dedicated framework such as <a href="http://jquery.com/" rel="external" title="http://jquery.com/">jQuery</a>, <a href="https://github.com/julienw/dollardom" rel="external" title="https://github.com/julienw/dollardom">$dom</a>, <a href="http://prototypejs.org/" rel="external" title="http://prototypejs.org/">prototype</a>, <a href="http://dojotoolkit.org/" rel="external" title="http://dojotoolkit.org/">Dojo</a>, <a href="http://yuilibrary.com/" rel="external" title="http://yuilibrary.com/">YUI</a>, or the like, or by polyfilling the missing feature you want to use (which can easily be done through conditional loading, with the <a href="http://yepnopejs.com/" rel="external" title="http://yepnopejs.com/">yepnope</a> library for example).</p>

<p>The features we plan to use are the following (ordered from the riskiest to the safest):</p>

<ol>
 <li><a href="/pt-BR/docs/Web/API/Element/classList"><code>classList</code></a></li>
 <li><a href="/pt-BR/docs/Web/API/EventTarget/addEventListener"><code>addEventListener</code></a></li>
 <li><code><a href="/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach" title="/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach">forEach</a></code> (This is not DOM but modern JavaScript)</li>
 <li><a href="/pt-BR/docs/Web/API/Element/querySelector"><code>querySelector</code></a> and <a href="/pt-BR/docs/Web/API/Element/querySelectorAll"><code>querySelectorAll</code></a></li>
</ol>

<p>Beyond the availability of those specific features, there is still one issue remaining before starting. The object returned by the <a href="/pt-BR/docs/Web/API/Element/querySelectorAll"><code>querySelectorAll()</code></a> function is a <a href="/pt-BR/docs/Web/API/NodeList"><code>NodeList</code></a> rather than an <code><a href="/en-US/docs/JavaScript/Reference/Global_Objects/Array" title="/en-US/docs/JavaScript/Reference/Global_Objects/Array">Array</a></code>. This is important because <code>Array</code> objects support the <code><a href="/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach" title="/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach">forEach</a></code> function, but <a href="/pt-BR/docs/Web/API/NodeList"><code>NodeList</code></a> doesn&apos;t. Because <a href="/pt-BR/docs/Web/API/NodeList"><code>NodeList</code></a> really looks like an <code>Array</code> and because <code>forEach</code> is so convenient to use, we can easily add the support of <code>forEach</code> to <a href="/pt-BR/docs/Web/API/NodeList"><code>NodeList</code></a> in order to make our life easier, like so:</p>

<pre class="brush: js notranslate">NodeList.prototype.forEach = function (callback) {
  Array.prototype.forEach.call(this, callback);
}</pre>

<p>We weren&apos;t kidding when we said it&apos;s easy to do.</p>

<h3 id="Building_event_callbacks">Building event callbacks</h3>

<p>The ground is ready, we can now start to define all the functions that will be used each time the user interacts with our widget.</p>

<pre class="brush: js notranslate">// This function will be used each time we want to deactivate a custom widget
// It takes one parameter
// select : the DOM node with the `select` class to deactivate
function deactivateSelect(select) {

  // If the widget is not active there is nothing to do
  if (!select.classList.contains(&apos;active&apos;)) return;

  // We need to get the list of options for the custom widget
  var optList = select.querySelector(&apos;.optList&apos;);

  // We close the list of option
  optList.classList.add(&apos;hidden&apos;);

  // and we deactivate the custom widget itself
  select.classList.remove(&apos;active&apos;);
}

// This function will be used each time the user wants to (de)activate the widget
// It takes two parameters:
// select : the DOM node with the `select` class to activate
// selectList : the list of all the DOM nodes with the `select` class
function activeSelect(select, selectList) {

  // If the widget is already active there is nothing to do
  if (select.classList.contains(&apos;active&apos;)) return;

  // We have to turn off the active state on all custom widgets
  // Because the deactivateSelect function fulfill all the requirement of the
  // forEach callback function, we use it directly without using an intermediate
  // anonymous function.
  selectList.forEach(deactivateSelect);

  // And we turn on the active state for this specific widget
  select.classList.add(&apos;active&apos;);
}

// This function will be used each time the user wants to open/closed the list of options
// It takes one parameter:
// select : the DOM node with the list to toggle
function toggleOptList(select) {

  // The list is kept from the widget
  var optList = select.querySelector(&apos;.optList&apos;);

  // We change the class of the list to show/hide it
  optList.classList.toggle(&apos;hidden&apos;);
}

// This function will be used each time we need to highlight an option
// It takes two parameters:
// select : the DOM node with the `select` class containing the option to highlight
// option : the DOM node with the `option` class to highlight
function highlightOption(select, option) {

  // We get the list of all option available for our custom select element
  var optionList = select.querySelectorAll(&apos;.option&apos;);

  // We remove the highlight from all options
  optionList.forEach(function (other) {
    other.classList.remove(&apos;highlight&apos;);
  });

  // We highlight the right option
  option.classList.add(&apos;highlight&apos;);
};</pre>

<p>That&apos;s all you need in order to handle the various states of the custom widget.</p>

<p>Next, we bind these functions to the appropriate events:</p>

<pre class="brush: js notranslate">// We handle the event binding when the document is loaded.
window.addEventListener(&apos;load&apos;, function () {
  var selectList = document.querySelectorAll(&apos;.select&apos;);

  // Each custom widget needs to be initialized
  selectList.forEach(function (select) {

    // as well as all its `option` elements
    var optionList = select.querySelectorAll(&apos;.option&apos;);

    // Each time a user hovers their mouse over an option, we highlight the given option
    optionList.forEach(function (option) {
      option.addEventListener(&apos;mouseover&apos;, function () {
        // Note: the `select` and `option` variable are closures
        // available in the scope of our function call.
        highlightOption(select, option);
      });
    });

    // Each times the user click on a custom select element
    select.addEventListener(&apos;click&apos;, function (event) {
      // Note: the `select` variable is a closure
      // available in the scope of our function call.

      // We toggle the visibility of the list of options
      toggleOptList(select);
    });

    // In case the widget gain focus
    // The widget gains the focus each time the user clicks on it or each time
    // they use the tabulation key to access the widget
    select.addEventListener(&apos;focus&apos;, function (event) {
      // Note: the `select` and `selectList` variable are closures
      // available in the scope of our function call.

      // We activate the widget
      activeSelect(select, selectList);
    });

    // In case the widget loose focus
    select.addEventListener(&apos;blur&apos;, function (event) {
      // Note: the `select` variable is a closure
      // available in the scope of our function call.

      // We deactivate the widget
      deactivateSelect(select);
    });
  });
});</pre>

<p>At that point, our widget will change state according to our design, but its value doesn&apos;t get updated yet. We&apos;ll handle that next.</p>

<table>
 <thead>
  <tr>
   <th scope="col" style="text-align: center;">Live example</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Change_states" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_3$samples/Change_states?revision=1478175" width="120"></iframe></td>
  </tr>
  <tr>
   <td style="text-align: center;"><a href="/en-US/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_3">Check out the source code</a></td>
  </tr>
 </tbody>
</table>

<h3 id="Handling_the_widgets_value">Handling the widget&apos;s value</h3>

<p>Now that our widget is working, we have to add code to update its value according to user input and make it possible to send the value along with form data.</p>

<p>The easiest way to do this is to use a native widget under the hood. Such a widget will keep track of the value with all the built-in controls provided by the browser, and the value will be sent as usual when a form is submitted. There&apos;s no point in reinventing the wheel when we can have all this done for us.</p>

<p>As seen previously, we already use a native select widget as a fallback for accessibility reasons; we can simply synchronize its value with that of our custom widget:</p>

<pre class="brush: js notranslate">// This function updates the displayed value and synchronizes it with the native widget.
// It takes two parameters:
// select : the DOM node with the class `select` containing the value to update
// index  : the index of the value to be selected
function updateValue(select, index) {
  // We need to get the native widget for the given custom widget
  // In our example, that native widget is a sibling of the custom widget
  var nativeWidget = select.previousElementSibling;

  // We also need  to get the value placeholder of our custom widget
  var value = select.querySelector(&apos;.value&apos;);

  // And we need the whole list of options
  var optionList = select.querySelectorAll(&apos;.option&apos;);

  // We set the selected index to the index of our choice
  nativeWidget.selectedIndex = index;

  // We update the value placeholder accordingly
  value.innerHTML = optionList[index].innerHTML;

  // And we highlight the corresponding option of our custom widget
  highlightOption(select, optionList[index]);
};

// This function returns the current selected index in the native widget
// It takes one parameter:
// select : the DOM node with the class `select` related to the native widget
function getIndex(select) {
  // We need to access the native widget for the given custom widget
  // In our example, that native widget is a sibling of the custom widget
  var nativeWidget = select.previousElementSibling;

  return nativeWidget.selectedIndex;
};</pre>

<p>With these two functions, we can bind the native widgets to the custom ones:</p>

<pre class="brush: js notranslate">// We handle event binding when the document is loaded.
window.addEventListener(&apos;load&apos;, function () {
  var selectList = document.querySelectorAll(&apos;.select&apos;);

  // Each custom widget needs to be initialized
  selectList.forEach(function (select) {
    var optionList = select.querySelectorAll(&apos;.option&apos;),
        selectedIndex = getIndex(select);

    // We make our custom widget focusable
    select.tabIndex = 0;

    // We make the native widget no longer focusable
    select.previousElementSibling.tabIndex = -1;

    // We make sure that the default selected value is correctly displayed
    updateValue(select, selectedIndex);

    // Each time a user clicks on an option, we update the value accordingly
    optionList.forEach(function (option, index) {
      option.addEventListener(&apos;click&apos;, function (event) {
        updateValue(select, index);
      });
    });

    // Each time a user uses their keyboard on a focused widget, we update the value accordingly
    select.addEventListener(&apos;keyup&apos;, function (event) {
      var length = optionList.length,
          index  = getIndex(select);

      // When the user hits the down arrow, we jump to the next option
      if (event.keyCode === 40 &amp;&amp; index &lt; length - 1) { index++; }

      // When the user hits the up arrow, we jump to the previous option
      if (event.keyCode === 38 &amp;&amp; index &gt; 0) { index--; }

      updateValue(select, index);
    });
  });
});</pre>

<p>In the code above, it&apos;s worth noting the use of the <code><a href="/en-US/docs/Web/API/HTMLElement/tabIndex" title="/en-US/docs/Web/API/HTMLElement/tabIndex">tabIndex</a></code> property. Using this property is necessary to ensure that the native widget will never gain focus, and to make sure that our custom widget gains focus when the user uses his keyboard or his mouse.</p>

<p>With that, we&apos;re done! Here&apos;s the result:</p>

<table>
 <thead>
  <tr>
   <th scope="col" style="text-align: center;">Live example</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Change_states" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_4$samples/Change_states?revision=1478175" width="120"></iframe></td>
  </tr>
  <tr>
   <td style="text-align: center;"><a href="/en-US/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_4">Check out the source code</a></td>
  </tr>
 </tbody>
</table>

<p>But wait a second, are we really done?</p>

<h2 id="Make_it_accessible">Make it accessible</h2>

<p>We have built something that works and though we&apos;re far from a fully-featured select box, it works nicely. But what we&apos;ve done is nothing more than fiddle with the DOM. It has no real semantics, and even though it looks like a select box, from the browser&apos;s point of view it isn&apos;t one, so assistive technologies won&apos;t be able to understand it&apos;s a select box. In short, this pretty new select box isn&apos;t accessible!</p>

<p>Fortunately, there is a solution and it&apos;s called <a href="/en-US/docs/Accessibility/ARIA" title="/en-US/docs/Accessibility/ARIA">ARIA</a>. ARIA stands for &quot;Accessible Rich Internet Application&quot;, and it&apos;s <a href="http://www.w3.org/TR/wai-aria/" rel="external" title="http://www.w3.org/TR/wai-aria/">a W3C specification</a> specifically designed for what we are doing here: making web applications and custom widgets accessible. It&apos;s basically a set of attributes that extend HTML so that we can better describe roles, states and properties as though the element we&apos;ve just devised was the native element it tries to pass for. Using these attributes is dead simple, so let&apos;s do it.</p>

<h3 id="The_role_attribute">The <code>role</code> attribute</h3>

<p>The key attribute used by <a href="/en-US/docs/Accessibility/ARIA" title="/en-US/docs/Accessibility/ARIA">ARIA</a> is the <a href="/en-US/docs/Accessibility/ARIA/ARIA_Techniques" title="/en-US/docs/Accessibility/ARIA/ARIA_Techniques"><code>role</code></a> attribute. The <a href="/en-US/docs/Accessibility/ARIA/ARIA_Techniques" title="/en-US/docs/Accessibility/ARIA/ARIA_Techniques"><code>role</code></a> attribute accepts a value that defines what an element is used for. Each role defines its own requirements and behaviors. In our example, we will use the <code><a href="/en-US/docs/Accessibility/ARIA/ARIA_Techniques/Using_the_listbox_role" title="/en-US/docs/Accessibility/ARIA/ARIA_Techniques/Using_the_listbox_role">listbox</a></code> role. It&apos;s a &quot;composite role&quot;, which means elements with that role expect to have children, each with a specific role (in this case, at least one child with the <code>option</code> role).</p>

<p>It&apos;s also worth noting that ARIA defines roles that are applied by default to standard HTML markup. For example, the <a href="/pt-BR/docs/Web/HTML/Element/table" title="O elemento HTML Table (&lt;table&gt;) representa dados em duas dimensões ou mais."><code>&lt;table&gt;</code></a> element matches the role <code>grid</code>, and the <a href="/pt-BR/docs/Web/HTML/Element/ul" title="O elemento HTML &lt;ul&gt; (ou elemento HTML de Lista desordenada) representa uma lista de itens sem ordem rígida, isto é, uma coleção de itens que não trazem uma ordenação numérica e as suas posições, nessa lista, são irrelevantes. Caracteristicamente, os itens em uma lista desordenada são exibidos com um marcador que pode ter várias formas, como um ponto, um círculo, ou um quadrado. O tipo de marcador não é definido na descrição HTML da página, mas na CSS associada, utilizando a propriedade list-style-type."><code>&lt;ul&gt;</code></a> element matches the role <code>list</code>. Because we use a <a href="/pt-BR/docs/Web/HTML/Element/ul" title="O elemento HTML &lt;ul&gt; (ou elemento HTML de Lista desordenada) representa uma lista de itens sem ordem rígida, isto é, uma coleção de itens que não trazem uma ordenação numérica e as suas posições, nessa lista, são irrelevantes. Caracteristicamente, os itens em uma lista desordenada são exibidos com um marcador que pode ter várias formas, como um ponto, um círculo, ou um quadrado. O tipo de marcador não é definido na descrição HTML da página, mas na CSS associada, utilizando a propriedade list-style-type."><code>&lt;ul&gt;</code></a> element, we want to make sure the <code>listbox</code> role of our widget will supersede the <code>list</code> role of the <a href="/pt-BR/docs/Web/HTML/Element/ul" title="O elemento HTML &lt;ul&gt; (ou elemento HTML de Lista desordenada) representa uma lista de itens sem ordem rígida, isto é, uma coleção de itens que não trazem uma ordenação numérica e as suas posições, nessa lista, são irrelevantes. Caracteristicamente, os itens em uma lista desordenada são exibidos com um marcador que pode ter várias formas, como um ponto, um círculo, ou um quadrado. O tipo de marcador não é definido na descrição HTML da página, mas na CSS associada, utilizando a propriedade list-style-type."><code>&lt;ul&gt;</code></a> element. To that end, we will use the role <code>presentation</code>. This role is designed to let us indicate that an element has no special meaning, and is used solely to present information. We will apply it to our <a href="/pt-BR/docs/Web/HTML/Element/ul" title="O elemento HTML &lt;ul&gt; (ou elemento HTML de Lista desordenada) representa uma lista de itens sem ordem rígida, isto é, uma coleção de itens que não trazem uma ordenação numérica e as suas posições, nessa lista, são irrelevantes. Caracteristicamente, os itens em uma lista desordenada são exibidos com um marcador que pode ter várias formas, como um ponto, um círculo, ou um quadrado. O tipo de marcador não é definido na descrição HTML da página, mas na CSS associada, utilizando a propriedade list-style-type."><code>&lt;ul&gt;</code></a> element.</p>

<p>To support the <code><a href="/en-US/docs/Accessibility/ARIA/ARIA_Techniques/Using_the_listbox_role" title="/en-US/docs/Accessibility/ARIA/ARIA_Techniques/Using_the_listbox_role">listbox</a></code> role, we just have to update our HTML like this:</p>

<pre class="brush: html notranslate">&lt;!-- We add the role=&quot;listbox&quot; attribute to our top element --&gt;
&lt;div class=&quot;select&quot; role=&quot;listbox&quot;&gt;
  &lt;span class=&quot;value&quot;&gt;Cherry&lt;/span&gt;
  &lt;!-- We also add the role=&quot;presentation&quot; to the ul element --&gt;
  &lt;ul class=&quot;optList&quot; role=&quot;presentation&quot;&gt;
    &lt;!-- And we add the role=&quot;option&quot; attribute to all the li elements --&gt;
    &lt;li role=&quot;option&quot; class=&quot;option&quot;&gt;Cherry&lt;/li&gt;
    &lt;li role=&quot;option&quot; class=&quot;option&quot;&gt;Lemon&lt;/li&gt;
    &lt;li role=&quot;option&quot; class=&quot;option&quot;&gt;Banana&lt;/li&gt;
    &lt;li role=&quot;option&quot; class=&quot;option&quot;&gt;Strawberry&lt;/li&gt;
    &lt;li role=&quot;option&quot; class=&quot;option&quot;&gt;Apple&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre>

<div class="note">
<p><strong>Note:</strong> Including both the <code>role</code> attribute and a <code>class</code> attribute is only necessary if you want to support legacy browsers that do not support the <a href="/en-US/docs/CSS/Attribute_selectors" title="/en-US/docs/CSS/Attribute_selectors">CSS attribute selectors</a>.</p>
</div>

<h3 id="The_aria-selected_attribute">The <code>aria-selected</code> attribute</h3>

<p>Using the <a href="/en-US/docs/Accessibility/ARIA/ARIA_Techniques" title="/en-US/docs/Accessibility/ARIA/ARIA_Techniques"><code>role</code></a> attribute is not enough. <a href="/en-US/docs/Accessibility/ARIA" title="/en-US/docs/Accessibility/ARIA">ARIA</a> also provides many states and property attributes. The more and better you use them, the better your widget will be understood by assistive technologies. In our case, we will limit our usage to one attribute: <code>aria-selected</code>.</p>

<p>The <code>aria-selected</code> attribute is used to mark which option is currently selected; this lets assistive technologies inform the user what the current selection is. We will use it dynamically with JavaScript to mark the selected option each time the user chooses one. To that end, we need to revise our <code>updateValue()</code> function:</p>

<pre class="brush: js notranslate">function updateValue(select, index) {
  var nativeWidget = select.previousElementSibling;
  var value = select.querySelector(&apos;.value&apos;);
  var optionList = select.querySelectorAll(&apos;.option&apos;);

  // We make sure that all the options are not selected
  optionList.forEach(function (other) {
    other.setAttribute(&apos;aria-selected&apos;, &apos;false&apos;);
  });

  // We make sure the chosen option is selected
  optionList[index].setAttribute(&apos;aria-selected&apos;, &apos;true&apos;);

  nativeWidget.selectedIndex = index;
  value.innerHTML = optionList[index].innerHTML;
  highlightOption(select, optionList[index]);
};</pre>

<p>Here is the final result of all these changes (you&apos;ll get a better feel for this by trying it with an assistive technology such as <a href="http://www.nvda-project.org/" rel="external" title="http://www.nvda-project.org/">NVDA</a> or <a href="http://www.apple.com/accessibility/voiceover/" rel="external" title="http://www.apple.com/accessibility/voiceover/">VoiceOver</a>):</p>

<table>
 <thead>
  <tr>
   <th scope="col" style="text-align: center;">Live example</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="130" id="frame_Change_states" src="https://mdn.mozillademos.org/pt-BR/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_5$samples/Change_states?revision=1478175" width="120"></iframe></td>
  </tr>
  <tr>
   <td style="text-align: center;"><a href="/en-US/docs/HTML/Forms/How_to_build_custom_form_widgets/Example_5">Check out the final source code</a></td>
  </tr>
 </tbody>
</table>

<h2 id="Conclusion">Conclusion</h2>

<p>We have seen all the basics of building a custom form widget, but as you can see it&apos;s not trivial to do, and often it&apos;s better and easier to rely on third-party libraries instead of coding them from scratch yourself (unless, of course, your goal is to build such a library).</p>

<p>Here are a few libraries you should consider before coding your own:</p>

<ul>
 <li><a href="http://jqueryui.com/" rel="external">jQuery UI</a></li>
 <li><a href="https://github.com/marghoobsuleman/ms-Dropdown" rel="external">msDropDown</a></li>
 <li><a href="http://www.emblematiq.com/lab/niceforms/" rel="external">Nice Forms</a></li>
 <li><a href="https://www.google.fr/search?q=HTML+custom+form+controls&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:fr:official&amp;client=firefox-a" rel="external">And many more…</a></li>
</ul>

<p>If you want to move forward, the code in this example needs some improvement before it becomes generic and reusable. This is an exercise you can try to perform. Two hints to help you in this: the first argument for all our functions is the same, which means those functions need the same context. Building an object to share that context would be wise. Also, you need to make it feature-proof; that is, it needs to be able to work better with a variety of browsers whose compatibility with the Web standards they use vary. Have fun!</p>

<div class="prevnext">
  <a href="/pt-BR/docs/Learn/HTML/Forms/Form_validation" class="button"><i class="icon-arrow-left"></i><span class="label"> Anterior </span></a><a href="/pt-BR/docs/Learn/HTML/Forms" class="button"><i class="icon-arrow-up"></i> Menu: Forms</a><a href="/pt-BR/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript" class="button"><span class="label"> Próxima  </span><i class="icon-arrow-right"></i></a>
</div>

<p> </p>

<h2 id="In_this_module">In this module</h2>

<ul>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form">Your first HTML form</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/How_to_structure_an_HTML_form">How to structure an HTML form</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/The_native_form_widgets">The native form widgets</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Sending_and_retrieving_form_data">Sending form data</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Form_validation">Form data validation</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/How_to_build_custom_form_widgets">How to build custom form widgets</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Sending_forms_through_JavaScript">Sending forms through JavaScript</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/HTML_forms_in_legacy_browsers">HTML forms in legacy browsers</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Styling_HTML_forms">Styling HTML forms</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Advanced_styling_for_HTML_forms">Advanced styling for HTML forms</a></li>
 <li><a href="/en-US/docs/Learn/HTML/Forms/Property_compatibility_table_for_form_widgets">Property compatibility table for form widgets</a></li>
</ul>

<p> </p>
